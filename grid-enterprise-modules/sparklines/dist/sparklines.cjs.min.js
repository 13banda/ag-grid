/**
          * @ag-grid-enterprise/sparklines - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.0.3
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
/**
          * @ag-grid-enterprise/sparklines - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.0.3
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("@ag-grid-community/core"),n=require("@ag-grid-enterprise/core"),i=(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),r=function(){function t(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}return t.prototype.floor=function(t){var e=new Date(t),n=this._encode(e);return this._decode(n)},t.prototype.ceil=function(t){var e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)},t.prototype.range=function(t,e,n){var i,r=null===(i=this._rangeCallback)||void 0===i?void 0:i.call(this,t,e),o=this._encode(n?this.floor(t):this.ceil(t)),a=this._encode(n?this.ceil(e):this.floor(e));if(a<o)return[];for(var l=[],s=o;s<=a;s++){var u=this._decode(s);l.push(u)}return null==r||r(),l},t}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getOffset=function(t,e){var n="number"==typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(n)%e},e.prototype.every=function(t,e){var n,i=this,o=0,a=(null!=e?e:{}).snapTo,l=void 0===a?"start":a;if("string"==typeof l){var s=o;n=function(e,n){var r="start"===l?e:n;return o=i.getOffset(r,t),function(){return o=s}}}else"number"==typeof l?o=this.getOffset(new Date(l),t):l instanceof Date&&(o=this.getOffset(l,t));return new r((function(e){var n=i._encode(e);return Math.floor((n-o)/t)}),(function(e){return i._decode(e*t+o)}),n)},e}(r);var a=new o((function(t){return t.getTime()}),(function(t){return new Date(t)}));new Date(0).getFullYear();var l=6e4*(new Date).getTimezoneOffset();var s=new o((function(t){return Math.floor((t.getTime()-l)/1e3)}),(function(t){return new Date(l+1e3*t)})),u=6e4*(new Date).getTimezoneOffset();var c=new o((function(t){return Math.floor((t.getTime()-u)/6e4)}),(function(t){return new Date(u+6e4*t)})),h=6e4*(new Date).getTimezoneOffset();var d=new o((function(t){return Math.floor((t.getTime()-h)/36e5)}),(function(t){return new Date(h+36e5*t)}));var p=new o((function(t){var e=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor(e/864e5)}),(function(t){var e=new Date(0);return e.setDate(e.getDate()+t),e.setHours(0,0,0,0),e})),f=new Date(2023,0,1);function y(t){var e=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate())+864e5*t;return new o((function(t){var n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-e)/6048e5)}),(function(t){var n=new Date(e);return n.setDate(n.getDate()+7*t),n}))}var v=y(0);y(1),y(2),y(3),y(4),y(5),y(6);var g=new o((function(t){return 12*t.getFullYear()+t.getMonth()}),(function(t){var e=Math.floor(t/12);return new Date(e,t-12*e,1)}));var m=new o((function(t){return t.getFullYear()}),(function(t){var e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}));new o((function(t){return Math.floor(t.getTime()/6e4)}),(function(t){return new Date(6e4*t)})),new o((function(t){return Math.floor(t.getTime()/36e5)}),(function(t){return new Date(36e5*t)})),new o((function(t){return Math.floor(t.getTime()/864e5)}),(function(t){var e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e})),new o((function(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}),(function(t){var e=Math.floor(t/12),n=t-12*e;return new Date(Date.UTC(e,n,1))})),new o((function(t){return t.getUTCFullYear()}),(function(t){var e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}));var b=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function x(){var t=navigator.userAgent;return!b.some((function(e){return e.test(t)}))}var w,S=function(){function t(t){var e=t.document,n=void 0===e?window.document:e,i=t.width,r=void 0===i?600:i,o=t.height,a=void 0===o?300:o,l=t.domLayer,s=void 0!==l&&l,u=t.zIndex,c=void 0===u?0:u,h=t.name,d=void 0===h?void 0:h,p=t.overrideDevicePixelRatio,f=void 0===p?void 0:p;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.element.width=r,this.element.height=a,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var y=this.element.style;y.userSelect="none",y.display="block",s&&(y.position="absolute",y.zIndex=String(c),y.top="0",y.left="0",y.pointerEvents="none",y.opacity="1",d&&(this.element.id=d)),this.setPixelRatio(f),this.resize(r,a)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},t.prototype.snapshot=function(){},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(null!=t?t:"").trim()||"image";var n=this.getDataURL(e),i=this.document,r=i.createElement("a");r.href=n,r.download=t,r.style.display="none",i.body.appendChild(r),r.click(),i.body.removeChild(r)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=null!=e?e:window.devicePixelRatio;x()||(n=1),t.overrideScale(this.context,n),this._pixelRatio=n},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this.element,i=this.context,r=this.pixelRatio;n.width=Math.round(t*r),n.height=Math.round(e*r),n.style.width=t+"px",n.style.height=e+"px",i.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!1,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),t.measureText=function(t,e,n,i){var r=this.textMeasuringContext;return r.font=e,r.textBaseline=n,r.textAlign=i,r.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var i=n.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,i=n[e];if(i){var r=i[t];if(r)return r}else n[e]={};var o=this.svgText;o.style.font=e,o.textContent=t;var a=o.getBBox(),l={width:a.width,height:a.height};return n[e][t]=l,l},t.overrideScale=function(t,e){var n=0,i={save:function(){this.$save(),n++},restore:function(){if(!(n>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),n--},setTransform:function(t,n,i,r,o,a){"object"==typeof t?this.$setTransform(t):this.$setTransform(t*e,n*e,i*e,r*e,o*e,a*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: "+n)}};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t["$"+r]||(t["$"+r]=t[r]),t[r]=i[r])},t.textSizeCache={},t}(),k=function(){return(k=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},O=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},D=function(){function t(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.collidesBBox=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},t.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},t.prototype.shrink=function(t,e){var n=this,i=function(t,e){switch(t){case"top":n.y+=e;case"bottom":n.height-=e;break;case"left":n.x+=e;case"right":n.width-=e;break;case"vertical":n.y+=e,n.height-=2*e;break;case"horizontal":n.x+=e,n.width-=2*e;break;default:n.x+=e,n.width-=2*e,n.y+=e,n.height-=2*e}};return"number"==typeof t?i(e,t):Object.entries(t).forEach((function(t){var e=O(t,2),n=e[0],r=e[1];return i(n,r)})),this},t.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var n=k({},t);for(var i in n)n[i]*=-1;this.shrink(n)}return this},t.merge=function(e){var n=1/0,i=1/0,r=-1/0,o=-1/0;return e.forEach((function(t){t.x<n&&(n=t.x),t.y<i&&(i=t.y),t.x+t.width>r&&(r=t.x+t.width),t.y+t.height>o&&(o=t.y+t.height)})),new t(n,i,r-n,o-i)},t}(),_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},C=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},M=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return Object.defineProperty(t.prototype,"e",{get:function(){return C([],_(this.elements))},enumerable:!1,configurable:!0}),t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),t.prototype.AxB=function(t,e,n){var i=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],s=t[1]*e[4]+t[3]*e[5]+t[5];(n=null!=n?n:t)[0]=i,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=s},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],l=e[5],s=1/(n*o-i*r);return new t([o*=s,-(i*=s),-(r*=s),n*=s,r*l-o*a,i*a-n*l])},t.prototype.inverseTo=function(t){var e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],l=e[5],s=1/(n*o-i*r);return n*=s,i*=s,r*=s,o*=s,t.setElements([o,-i,-r,n,r*l-o*a,i*a-n*l]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=1/(e*r-n*i);return e*=l,n*=l,i*=l,r*=l,t[0]=r,t[1]=-n,t[2]=-i,t[3]=e,t[4]=i*a-r*o,t[5]=n*o-e*a,this},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e){var n=this.elements,i=n[0],r=n[1],o=n[2],a=n[3],l=.5*t.width,s=.5*t.height,u=t.x+l,c=t.y+s,h=Math.abs(l*i)+Math.abs(s*o),d=Math.abs(l*r)+Math.abs(s*a);return e||(e=new D(0,0,0,0)),e.x=u*i+c*o+n[4]-h,e.y=u*r+c*a+n[5]-d,e.width=h+h,e.height=d+d,e},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return t.instance.setElements(e.elements)},t.updateTransformMatrix=function(t,e,n,i,r,o,a){var l,s,u=_([0,0],2),c=u[0],h=u[1],d=e,p=n;1===d&&1===p?(l=0,s=0):(l=null==(null==a?void 0:a.scalingCenterX)?c:null==a?void 0:a.scalingCenterX,s=null==(null==a?void 0:a.scalingCenterY)?h:null==a?void 0:a.scalingCenterY);var f,y,v=i,g=Math.cos(v),m=Math.sin(v);0===v?(f=0,y=0):(f=null==(null==a?void 0:a.rotationCenterX)?c:null==a?void 0:a.rotationCenterX,y=null==(null==a?void 0:a.rotationCenterY)?h:null==a?void 0:a.rotationCenterY);var b=r,x=o,w=l*(1-d)-f,S=s*(1-p)-y;return t.setElements([g*d,m*d,-m*p,g*p,g*w-m*S+f+b,m*w+g*S+y+x]),t},t.fromContext=function(e){var n=e.getTransform();return new t([n.a,n.b,n.c,n.d,n.e,n.f])},t.instance=new t,t}(),E={};function P(t){var e,n=t.constructor,i=Object.prototype.hasOwnProperty.call(n,"className")?n.className:n.name;if(!i)throw new Error("The "+n+" is missing the 'className' property.");var r=(null!==(e=E[i])&&void 0!==e?e:0)+1;return E[i]=r,i+"-"+r}!function(t){t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR"}(w||(w={}));var N=function(){try{return new Function("return true"),!0}catch(t){return!1}}();function T(t){var e=null!=t?t:{},n=e.changeCb,i=e.convertor;return function(e,r){var o="__"+r;e[r]||(N&&null==n&&null==i?function(t,e,n,i){var r=null!=i?i:{},o=r.redraw,a=void 0===o?w.TRIVIAL:o,l=r.type,s=void 0===l?"normal":l,u=r.checkDirtyOnAssignment,c=new Function("value","\n        const oldValue = this."+n+";\n        if (value !== oldValue) {\n            this."+n+" = value;\n            "+("normal"===s?"this.markDirty(this, "+a+");":"")+"\n            "+("transform"===s?"this.markDirtyTransform("+a+");":"")+"\n            "+("path"===s?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+a+"); }":"")+"\n            "+("font"===s?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+a+"); }":"")+"\n        }\n        "+(void 0!==u&&u?"if (value != null && value._dirty > "+w.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n"),h=new Function("return this."+n+";");Object.defineProperty(t,e,{set:c,get:h,enumerable:!0,configurable:!0})}(e,r,o,t):function(t,e,n,i){var r=null!=i?i:{},o=r.redraw,a=void 0===o?w.TRIVIAL:o,l=r.type,s=void 0===l?"normal":l,u=r.changeCb,c=r.convertor,h=r.checkDirtyOnAssignment,d=void 0!==h&&h;Object.defineProperty(t,e,{set:function(t){var e=this[n];(t=c?c(t):t)!==e&&(this[n]=t,"normal"===s&&this.markDirty(this,a),"transform"===s&&this.markDirtyTransform(a),"path"!==s||this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,a)),"font"!==s||this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,a)),u&&u(this)),d&&null!=t&&t._dirty>w.NONE&&this.markDirty(t,t._dirty)},get:function(){return this[n]},enumerable:!0,configurable:!0})}(e,r,o,t))}}var R,L=function(){function t(){this._dirty=w.MAJOR}return t.prototype.markDirty=function(t,e){void 0===e&&(e=w.TRIVIAL),this._dirty>e||(this._dirty=e)},t.prototype.markClean=function(t){this._dirty=w.NONE},t.prototype.isDirty=function(){return this._dirty>w.NONE},t}(),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},j=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},B=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};!function(t){t[t.All=0]="All",t[t.None=1]="None"}(R||(R={}));var z=function(t){t.parent&&(t.parent.dirtyZIndex=!0),t.zIndexChanged()},W=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.serialNumber=e._nextSerialNumber++,n.id=P(n),n.tag=NaN,n.isContainerNode=!1,n._children=[],n.childSet={},n.matrix=new M,n.inverseMatrix=new M,n._dirtyTransform=!1,n.scalingX=1,n.scalingY=1,n.scalingCenterX=null,n.scalingCenterY=null,n.rotationCenterX=null,n.rotationCenterY=null,n.rotation=0,n.translationX=0,n.translationY=0,n.visible=!0,n.dirtyZIndex=!1,n.zIndex=0,n.zIndexSubOrder=void 0,n.pointerEvents=R.All,n}return A(e,t),Object.defineProperty(e.prototype,"datum",{get:function(){var t;return void 0!==this._datum?this._datum:null===(t=this._parent)||void 0===t?void 0:t.datum},set:function(t){this._datum=t},enumerable:!1,configurable:!0}),e.prototype._setLayerManager=function(t){var e,n;this._layerManager=t,this._debug=null==t?void 0:t.debug;try{for(var i=j(this.children),r=i.next();!r.done;r=i.next()){r.value._setLayerManager(t)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},Object.defineProperty(e.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),e.prototype.append=function(t){var e,n;Array.isArray(t)||(t=[t]);try{for(var i=j(t),r=i.next();!r.done;r=i.next()){var o=r.value;if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.layerManager)throw new Error(o+" already belongs to a scene: "+o.layerManager+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._parent=this,o._setLayerManager(this.layerManager)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.dirtyZIndex=!0,this.markDirty(this,w.MAJOR)},e.prototype.appendChild=function(t){return this.append(t),t},e.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,w.MAJOR),t}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var i=this.children.indexOf(e);if(!(i>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(i,0,t),this.childSet[t.id]=!0,t._parent=this,t._setLayerManager(this.layerManager),this.dirtyZIndex=!0,this.markDirty(t,w.MAJOR)}else this.append(t);return t},e.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var t=M.flyweight(this.matrix),e=this.parent;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t},e.prototype.transformPoint=function(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)},e.prototype.inverseTransformPoint=function(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)},e.prototype.transformBBox=function(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)},e.prototype.inverseTransformBBox=function(t){return this.calculateCumulativeMatrix().transformBBox(t)},e.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,w.MAJOR)},e.prototype.containsPoint=function(t,e){return!1},e.prototype.pickNode=function(t,e){var n;if(this.visible&&this.pointerEvents!==R.None&&this.containsPoint(t,e)){var i=this.children;if(i.length>1e3)for(var r=i.length-1;r>=0;r--){var o=i[r];if(a=(null===(n=o.computeTransformedBBox())||void 0===n?void 0:n.containsPoint(t,e))?o.pickNode(t,e):void 0)return a}else if(i.length)for(r=i.length-1;r>=0;r--){var a;if(a=i[r].pickNode(t,e))return a}else if(!this.isContainerNode)return this}},e.prototype.findNodes=function(t){var e,n,i=t(this)?[this]:[];try{for(var r=j(this.children),o=r.next();!o.done;o=r.next()){var a=o.value.findNodes(t);a&&i.push.apply(i,B([],F(a)))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},e.prototype.computeBBox=function(){},e.prototype.computeTransformedBBox=function(){var t=this.computeBBox();if(t){this.computeTransformMatrix();for(var e=M.flyweight(this.matrix),n=this.parent;n;)n.computeTransformMatrix(),e.preMultiplySelf(n.matrix),n=n.parent;return e.transformBBox(t,t),t}},e.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var t=this,e=t.matrix,n=t.scalingX,i=t.scalingY,r=t.rotation,o=t.translationX,a=t.translationY,l=t.scalingCenterX,s=t.scalingCenterY,u=t.rotationCenterX,c=t.rotationCenterY;M.updateTransformMatrix(e,n,i,r,o,a,{scalingCenterX:l,scalingCenterY:s,rotationCenterX:u,rotationCenterY:c}),e.inverseTo(this.inverseMatrix),this._dirtyTransform=!1}},e.prototype.render=function(t){var e=t.stats;this._dirty=w.NONE,e&&e.nodesRendered++},e.prototype.clearBBox=function(t){var e=this.computeBBox();if(null!=e){var n=e.x,i=e.y,r=e.width,o=e.height,a=this.transformPoint(n,i),l=this.transformPoint(n+r,i+o);t.clearRect(a.x,a.y,l.x-a.x,l.y-a.y)}},e.prototype.markDirty=function(t,e,n){void 0===e&&(e=w.TRIVIAL),void 0===n&&(n=e),this._dirty>e||this._dirty===e&&e===n||(this._dirty=e,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),e.prototype.markClean=function(t){var e,n,i=null!=t?t:{},r=i.force,o=void 0!==r&&r,a=i.recursive,l=void 0===a||a;if((this._dirty!==w.NONE||o)&&(this._dirty=w.NONE,l))try{for(var s=j(this.children),u=s.next();!u.done;u=s.next()){u.value.markClean()}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},e.prototype.visibilityChanged=function(){},Object.defineProperty(e.prototype,"nodeCount",{get:function(){var t,e,n=1,i=this._dirty>=w.NONE||this._dirtyTransform?1:0,r=this.visible?1:0;try{for(var o=j(this._children),a=o.next();!a.done;a=o.next()){var l=a.value.nodeCount,s=l.count,u=l.visibleCount,c=l.dirtyCount;n+=s,r+=u,i+=c}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return{count:n,visibleCount:r,dirtyCount:i}},enumerable:!1,configurable:!0}),e.prototype.zIndexChanged=function(){},e._nextSerialNumber=0,I([T({type:"transform"})],e.prototype,"scalingX",void 0),I([T({type:"transform"})],e.prototype,"scalingY",void 0),I([T({type:"transform"})],e.prototype,"scalingCenterX",void 0),I([T({type:"transform"})],e.prototype,"scalingCenterY",void 0),I([T({type:"transform"})],e.prototype,"rotationCenterX",void 0),I([T({type:"transform"})],e.prototype,"rotationCenterY",void 0),I([T({type:"transform"})],e.prototype,"rotation",void 0),I([T({type:"transform"})],e.prototype,"translationX",void 0),I([T({type:"transform"})],e.prototype,"translationY",void 0),I([T({redraw:w.MAJOR,changeCb:function(t){return t.visibilityChanged()}})],e.prototype,"visible",void 0),I([T({redraw:w.TRIVIAL,changeCb:z})],e.prototype,"zIndex",void 0),I([T({redraw:w.TRIVIAL,changeCb:z})],e.prototype,"zIndexSubOrder",void 0),e}(L);function K(t,e){var n=0;return"number"==typeof t&&"number"==typeof e?n=t-e:"string"==typeof t&&"string"==typeof e?n=t.localeCompare(e):null==t&&null==e||(n=null==t?-1:null==e?1:String(t).localeCompare(String(e))),n}function G(t,e,n){var i=function(t){return"function"==typeof t?t():t};for(var r in t){var o=n(i(t[r]),i(e[r]));if(0!==o)return o}return 0}var X={};function Y(t,e){X[e]||(t(),X[e]=!0)}var H=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},V=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},U={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,V([],H(t)))},warn:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.warn.apply(console,V(["AG Charts - "+t],H(e)))},error:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"object"==typeof t?console.error.apply(console,V(["AG Charts error",t],H(e))):console.error.apply(console,V(["AG Charts - "+t],H(e)))},warnOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Y((function(){return U.warn.apply(U,V([t],H(e)))}),"Logger.warn: "+t)},errorOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Y((function(){return U.error.apply(U,V([t],H(e)))}),"Logger.warn: "+t)}},Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q=function(){return(q=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},J=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},$=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},tt=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},et=function(t){function e(e){var n,i=t.call(this)||this;i.opts=e,i.opacity=1,i.lastBBox=void 0;var r=null!=e?e:{},o=r.zIndex,a=r.zIndexSubOrder;return i.isContainerNode=!0,void 0!==o&&(i.zIndex=o),void 0!==a&&(i.zIndexSubOrder=a),i.name=null===(n=i.opts)||void 0===n?void 0:n.name,i}return Z(e,t),e.prototype.zIndexChanged=function(){var t;this.layer&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},e.prototype.isLayer=function(){return null!=this.layer},e.prototype._setLayerManager=function(e){var n,i,r=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(t.prototype._setLayerManager.call(this,e),e&&(null===(n=this.opts)||void 0===n?void 0:n.layer)){var o=null!==(i=this.opts)&&void 0!==i?i:{},a=o.zIndex,l=o.zIndexSubOrder,s=o.name;this.layer=e.addLayer({zIndex:a,zIndexSubOrder:l,name:s,getComputedOpacity:function(){return r.getComputedOpacity()},getVisibility:function(){return r.getVisibility()}})}},e.prototype.getComputedOpacity=function(){var t=1,n=this;do{n instanceof e&&(t*=n.opacity)}while(n=n.parent);return t},e.prototype.getVisibility=function(){for(var t=this,e=this.visible;t=t.parent;)t.visible||(e=t.visible);return e},e.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},e.prototype.markDirty=function(e,n){void 0===n&&(n=w.TRIVIAL);var i=n<=w.MINOR?w.TRIVIAL:n;t.prototype.markDirty.call(this,e,n,i)},e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){return this.computeTransformMatrix(),e.computeBBox(this.children)},e.prototype.computeTransformedBBox=function(){return this.computeBBox()},e.prototype.render=function(e){var n,i,r,o,a=this.opts,l=(void 0===a?{}:a).name,s=void 0===l?void 0:l,u=this._debug,c=(void 0===u?{}:u).consoleLog,h=void 0!==c&&c,d=this,p=d.dirty,f=d.dirtyZIndex,y=d.layer,v=d.children,g=d.clipRect,m=e.ctx,b=e.forceRender,x=e.clipBBox,S=e.resized,k=e.stats,O=m.getTransform(),D=p>=w.MINOR||f||S,_=D||v.some((function(t){return t.dirty>=w.TRIVIAL}));if(s&&h&&U.debug({name:s,group:this,isDirty:D,isChildDirty:_,renderCtx:e,forceRender:b}),y){var C=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(C)?C.isInfinite()||(b=!1):(b=!0,this.lastBBox=C)}if(!D&&!_&&!b){if(s&&h&&k){var M=this.nodeCount;U.debug({name:s,result:"skipping",renderCtx:e,counts:M,group:this})}return y&&k&&(k.layersSkipped++,k.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1})}var E=this.visible;if(y){if((m=y.context).save(),m.resetTransform(),b=!0,y.clear(),x){var P=x.width,N=x.height,T=x.x,R=x.y;h&&U.debug({name:s,clipBBox:x,ctxTransform:m.getTransform(),renderCtx:e,group:this}),this.clipCtx(m,T,R,P,N)}m.setTransform(O)}else m.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(m),g){T=g.x,R=g.y,P=g.width,N=g.height;m.save(),h&&U.debug({name:s,clipRect:g,ctxTransform:m.getTransform(),renderCtx:e,group:this}),this.clipCtx(m,T,R,P,N),x=this.matrix.inverse().transformBBox(g)}f&&(this.sortChildren(),b=!0);var L=b!==e.forceRender||x!==e.clipBBox||m!==e.ctx?q(q({},e),{ctx:m,forceRender:b,clipBBox:x}):e,A=0;try{for(var I=$(v),j=I.next();!j.done;j=I.next()){var F=j.value;F.visible&&E?b||F.dirty!==w.NONE?(m.save(),F.render(L),m.restore()):k&&(A+=F.nodeCount.count):(F.markClean(),k&&(A+=F.nodeCount.count))}}catch(t){n={error:t}}finally{try{j&&!j.done&&(i=I.return)&&i.call(I)}finally{if(n)throw n.error}}if(k&&(k.nodesSkipped+=A),t.prototype.render.call(this,e),g&&m.restore(),y&&(k&&k.layersRendered++,m.restore(),y.snapshot(),null===(o=(r=y.context).verifyDepthZero)||void 0===o||o.call(r)),s&&h&&k){M=this.nodeCount;U.debug({name:s,result:"rendered",skipped:A,renderCtx:e,counts:M,group:this})}},e.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort((function(t,e){var n,i;return G(tt(tt([t.zIndex],Q(null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0])),[t.serialNumber]),tt(tt([e.zIndex],Q(null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0])),[e.serialNumber]),K)}))},e.prototype.clipCtx=function(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(e+i,n),t.lineTo(e+i,n+r),t.lineTo(e,n+r),t.closePath(),t.clip()},e.computeBBox=function(t){var e=1/0,n=-1/0,i=1/0,r=-1/0;return t.forEach((function(t){if(t.visible){var o=t.computeTransformedBBox();if(o){var a=o.x,l=o.y;a<e&&(e=a),l<i&&(i=l),a+o.width>n&&(n=a+o.width),l+o.height>r&&(r=l+o.height)}}})),new D(e,i,n-e,r-i)},e.prototype.setClipRectInGroupCoordinateSpace=function(t){this.clipRect=t?this.transformBBox(t):void 0},e.className="Group",J([T({convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),e}(W),nt=function(){function t(t){var e=t.width,n=void 0===e?600:e,i=t.height,r=void 0===i?300:i,o=t.overrideDevicePixelRatio,a=void 0===o?void 0:o;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,r),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(a),this.resize(n,r)}return t.isSupported=function(){return null!=window.OffscreenCanvas},t.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},t.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(t){var e=null!=t?t:window.devicePixelRatio;x()||(e=1),S.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this.canvas,i=this.context,r=this.pixelRatio;n.width=Math.round(t*r),n.height=Math.round(e*r),i.resetTransform(),this._width=t,this._height=e}},t}();function it(t){var e="undefined"!=typeof window?window:void 0;return null==e?void 0:e[t]}var rt=function(){return(rt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ot=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},at=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},lt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},st=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},ut=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var ct=function(){function t(t){var e,n,i;this.id=P(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,sceneNodeHighlight:[]};var r=t.document,o=void 0===r?window.document:r,a=t.mode,l=void 0===a?null!==(e=it("agChartsSceneRenderModel"))&&void 0!==e?e:"adv-composite":a,s=t.width,u=t.height,c=t.overrideDevicePixelRatio,h=void 0===c?void 0:c;this.overrideDevicePixelRatio=h,this.opts={document:o,mode:l},this.debug.consoleLog=!0===it("agChartsDebug"),this.debug.stats=null!==(n=it("agChartsSceneStats"))&&void 0!==n&&n,this.debug.dirtyTree=null!==(i=it("agChartsSceneDirtyTree"))&&void 0!==i&&i,this.debug.sceneNodeHighlight=function(){var t,e=null!==(t=it("agChartsSceneDebug"))&&void 0!==t?t:[];"string"==typeof e&&(e=[e]);var n=[];return e.forEach((function(t){"layout"===t?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(t)})),n}(),this.canvas=new S({document:o,width:s,height:u,overrideDevicePixelRatio:h})}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),t.prototype.download=function(t,e){this.canvas.download(t,e)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var n=t<=0||e<=0,i=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||i||n)&&(this.pendingSize=[t,e],this.markDirty(),!0)},t.prototype.addLayer=function(t){var e,n=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(n)){var i=t.zIndex,r=void 0===i?this._nextZIndex++:i,o=t.name,a=t.zIndexSubOrder,l=t.getComputedOpacity,s=t.getVisibility,u=this.width,c=this.height,h=this.overrideDevicePixelRatio,d="dom-composite"===n,p="adv-composite"===n&&nt.isSupported()?new nt({width:u,height:c,overrideDevicePixelRatio:h}):new S({document:this.opts.document,width:u,height:c,domLayer:d,zIndex:r,name:o,overrideDevicePixelRatio:h}),f={id:this._nextLayerId++,name:o,zIndex:r,zIndexSubOrder:a,canvas:p,getComputedOpacity:l,getVisibility:s};if(r>=this._nextZIndex&&(this._nextZIndex=r+1),this.layers.push(f),this.sortLayers(),d){var y=this.layers.map((function(t){return t.canvas})).filter((function(t){return t instanceof S})),v=y.findIndex((function(t){return t===p}));(null!==(e=y[v-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",p.element)}return this.debug.consoleLog&&U.debug({layers:this.layers}),f.canvas}},t.prototype.removeLayer=function(t){var e=this.layers.findIndex((function(e){return e.canvas===t}));e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&U.debug({layers:this.layers}))},t.prototype.moveLayer=function(t,e,n){var i=this.layers.find((function(e){return e.canvas===t}));i&&(i.zIndex=e,i.zIndexSubOrder=n,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&U.debug({layers:this.layers}))},t.prototype.sortLayers=function(){this.layers.sort((function(t,e){var n,i;return G(st(st([t.zIndex],lt(null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0])),[t.id]),st(st([e.zIndex],lt(null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0])),[e.id]),K)}))},t.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager(this)),this.markDirty())},enumerable:!1,configurable:!0}),t.prototype.strip=function(){var t,e,n=this.layers;try{for(var i=ut(n),r=i.next();!r.done;r=i.next()){var o=r.value;o.canvas.destroy(),delete o.canvas}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},t.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},t.prototype.render=function(t){var e;return ot(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b;return at(this,(function(x){return i=(n=null!=t?t:{}).debugSplitTimes,r=void 0===i?[performance.now()]:i,o=n.extraDebugStats,a=void 0===o?{}:o,s=(l=this).canvas,u=l.canvas.context,c=l.root,h=l.layers,d=l.pendingSize,p=l.opts.mode,d&&((b=this.canvas).resize.apply(b,st([],lt(d))),this.layers.forEach((function(t){var e;return(e=t.canvas).resize.apply(e,st([],lt(d)))})),this.pendingSize=void 0),c&&!c.visible?(this._dirty=!1,[2]):c&&!this.dirty?(this.debug.consoleLog&&U.debug("no-op",{redrawType:w[c.dirty],tree:this.buildTree(c)}),this.debugStats(r,u,void 0,a),[2]):(f={ctx:u,forceRender:!0,resized:!!d,debugNodes:{}},"detailed"===this.debug.stats&&(f.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),y=!1,(!c||c.dirty>=w.TRIVIAL)&&(y=!0,s.clear()),c&&this.debug.dirtyTree&&(v=this.buildDirtyTree(c),g=v.dirtyTree,m=v.paths,U.debug({dirtyTree:g,paths:m})),c&&y&&(this.debug.consoleLog&&U.debug("before",{redrawType:w[c.dirty],canvasCleared:y,tree:this.buildTree(c)}),c.visible&&(u.save(),c.render(f),u.restore())),"dom-composite"!==p&&h.length>0&&y&&(this.sortLayers(),u.save(),u.setTransform(1/s.pixelRatio,0,0,1/s.pixelRatio,0,0),h.forEach((function(t){var e=t.canvas,n=e.imageSource,i=e.enabled,r=t.getComputedOpacity,o=t.getVisibility;i&&o()&&(u.globalAlpha=r(),u.drawImage(n,0,0))})),u.restore()),null===(e=u.verifyDepthZero)||void 0===e||e.call(u),this._dirty=!1,this.debugStats(r,u,f.stats,a),this.debugSceneNodeHighlight(u,this.debug.sceneNodeHighlight,f.debugNodes),c&&this.debug.consoleLog&&U.debug("after",{redrawType:w[c.dirty],canvasCleared:y,tree:this.buildTree(c)}),[2])}))}))},t.prototype.debugStats=function(t,e,n,i){var r,o;void 0===i&&(i={});var a=performance.now();if(this.debug.stats){var l=t[0];t.push(a);var s=function(t,e){var n=t+e;return t+" / "+n+" ("+Math.round(100*t/n)+"%)"},u=function(t,e){return Math.round(100*(e-t))/100+"ms"},c=null!=n?n:{},h=c.layersRendered,d=void 0===h?0:h,p=c.layersSkipped,f=void 0===p?0:p,y=c.nodesRendered,v=void 0===y?0:y,g=c.nodesSkipped,m=void 0===g?0:g,b=t.map((function(e,n){return n>0?u(t[n-1],e):null})).filter((function(t){return null!=t})).join(" + "),x=Object.entries(i).map((function(t){var e=lt(t,2);return e[0]+": "+e[1]})).join(" ; "),w=[u(l,a)+" ("+b+")",""+x,"detailed"===this.debug.stats?"Layers: "+s(d,f):null,"detailed"===this.debug.stats?"Nodes: "+s(v,m):null].filter((function(t){return null!=t})).map((function(t){return[t,S.getTextSize(t,e.font)]})),k=Math.max.apply(Math,st([],lt(w.map((function(t){return lt(t,2)[1].width}))))),O=w.reduce((function(t,e){return t+lt(e,2)[1].height}),0);e.save(),e.fillStyle="white",e.fillRect(0,0,k,O),e.fillStyle="black";var D=0;try{for(var _=ut(w),C=_.next();!C.done;C=_.next()){var M=lt(C.value,2),E=M[0];D+=M[1].height,e.fillText(E,2,D)}}catch(t){r={error:t}}finally{try{C&&!C.done&&(o=_.return)&&o.call(_)}finally{if(r)throw r.error}}e.restore()}},t.prototype.debugSceneNodeHighlight=function(t,e,n){var i,r,o,a,l,s,u,c=function(t){return function(e){return!!t.test(e.id)||e instanceof et&&null!=e.name&&t.test(e.name)}},h=function(t){return function(e){return t===e.id||e instanceof et&&null!=e.name&&t===e.name}};try{for(var d=ut(e),p=d.next();!p.done;p=d.next()){var f=p.value;if("string"!=typeof f||null==n[f]){var y="string"==typeof f?h(f):c(f),v=null===(u=this.root)||void 0===u?void 0:u.findNodes(y);if(v&&0!==v.length)try{for(var g=(o=void 0,ut(v)),m=g.next();!m.done;m=g.next()){(w=m.value)instanceof et&&w.name?n[w.name]=w:n[w.id]=w}}catch(t){o={error:t}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}else U.debug("no debugging node with id ["+f+"] in scene graph.")}}}catch(t){i={error:t}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(i)throw i.error}}t.save();try{for(var b=ut(Object.entries(n)),x=b.next();!x.done;x=b.next()){var w,S=lt(x.value,2),k=S[0],O=(w=S[1]).computeTransformedBBox();O?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(O.x,O.y,O.width,O.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(k,O.x,O.y,O.width),t.fillText(k,O.x,O.y,O.width)):U.debug("no bbox for debugged node ["+k+"].")}}catch(t){l={error:t}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(l)throw l.error}}t.restore()},t.prototype.buildTree=function(t){var e,n=this,i=null!==(e=t instanceof et?t.name:null)&&void 0!==e?e:t.id;return rt({name:i,node:t,dirty:w[t.dirty]},t.children.map((function(t){return n.buildTree(t)})).reduce((function(t,e){var n=e.name,i=e.node,r=i.visible,o=i.opacity,a=i.zIndex,l=i.zIndexSubOrder,s=e.node;return(!r||o<=0)&&(n="("+n+")"),s instanceof et&&s.isLayer()&&(n="*"+n+"*"),t[[""+(null!=n?n:"<unknown>"),"z: "+a,l&&"zo: "+l.join(" / ")].filter((function(t){return!!t})).join(" ")]=e,t}),{}))},t.prototype.buildDirtyTree=function(t){var e,n=this;if(t.dirty===w.NONE)return{dirtyTree:{},paths:[]};var i=t.children.map((function(t){return n.buildDirtyTree(t)})).filter((function(t){return t.paths.length>0})),r=null!==(e=t instanceof et?t.name:null)&&void 0!==e?e:t.id,o=0===i.length?[r]:i.map((function(t){return t.paths})).reduce((function(t,e){return t.concat(e)}),[]).map((function(t){return r+"."+t}));return{dirtyTree:rt({name:r,node:t,dirty:w[t.dirty]},i.map((function(t){return t.dirtyTree})).filter((function(t){return void 0!==t.dirty})).reduce((function(t,e){var n;return t[null!==(n=e.name)&&void 0!==n?n:"<unknown>"]=e,t}),{})),paths:o}},t.className="Scene",t}(),ht=function(){this.stops=[]},dt=2*Math.PI;function pt(t){return t%=dt,t+=dt,t%=dt}function ft(t){return t/180*Math.PI}var yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angle=0,e}return yt(e,t),e.prototype.createGradient=function(t,e){var n=this.stops,i=pt(ft(this.angle+90)),r=Math.cos(i),o=Math.sin(i),a=e.width,l=e.height,s=e.x+.5*a,u=e.y+.5*l;if(a>0&&l>0){var c=Math.sqrt(l*l+a*a)/2,h=Math.atan2(l,a),d=void 0;d=i<Math.PI/2?i:i<Math.PI?Math.PI-i:i<3*Math.PI/2?i-Math.PI:2*Math.PI-i;var p=c*Math.abs(Math.cos(d-h)),f=t.createLinearGradient(s+r*p,u+o*p,s-r*p,u-o*p);return n.forEach((function(t){f.addColorStop(t.offset,t.color)})),f}return"black"},e}(ht),gt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},bt=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,xt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n.fillOpacity=1,n.strokeOpacity=1,n.fill=e.defaultStyles.fill,n.stroke=e.defaultStyles.stroke,n.strokeWidth=e.defaultStyles.strokeWidth,n.lineDash=e.defaultStyles.lineDash,n.lineDashOffset=e.defaultStyles.lineDashOffset,n.lineCap=e.defaultStyles.lineCap,n.lineJoin=e.defaultStyles.lineJoin,n.opacity=e.defaultStyles.opacity,n.fillShadow=e.defaultStyles.fillShadow,n}return gt(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,i=e.length;n<i;n++){var r=e[n];this[r]=t[r]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=t[n])},e.prototype.updateGradient=function(){var t,e=this.fill;if((null==e?void 0:e.startsWith("linear-gradient"))&&(t=bt.exec(e))){for(var n=parseFloat(t[1]),i=[],r=t[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,a=void 0;a=o.exec(r);)i.push(a[0]);this.gradient=new vt,this.gradient.angle=n,this.gradient.stops=i.map((function(t,e){return{offset:e/(i.length-1),color:t}}))}else this.gradient=void 0},e.prototype.align=function(t,e){var n,i,r,o=null!==(r=null===(i=null===(n=this.layerManager)||void 0===n?void 0:n.canvas)||void 0===i?void 0:i.pixelRatio)&&void 0!==r?r:1,a=Math.round(t*o)/o;return null==e?a:0===e?0:e<1?Math.ceil(e*o)/o:Math.round((e+t)*o)/o-a},e.prototype.fillStroke=function(t){this.renderFill(t),this.renderStroke(t)},e.prototype.renderFill=function(t){if(this.fill){var e=t.globalAlpha;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"},e.prototype.applyFill=function(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill},e.prototype.applyFillAlpha=function(t){var e=t.globalAlpha;t.globalAlpha=e*this.opacity*this.fillOpacity},e.prototype.applyShadow=function(t){var e,n,i=null!==(n=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==n?n:1,r=this.fillShadow;(null==r?void 0:r.enabled)&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*i,t.shadowOffsetY=r.yOffset*i,t.shadowBlur=r.blur*i)},e.prototype.renderStroke=function(t){if(this.stroke&&this.strokeWidth){var e=t.globalAlpha;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),mt([T({redraw:w.MINOR})],e.prototype,"fillOpacity",void 0),mt([T({redraw:w.MINOR})],e.prototype,"strokeOpacity",void 0),mt([T({redraw:w.MINOR,changeCb:function(t){return t.updateGradient()}})],e.prototype,"fill",void 0),mt([T({redraw:w.MINOR})],e.prototype,"stroke",void 0),mt([T({redraw:w.MINOR})],e.prototype,"strokeWidth",void 0),mt([T({redraw:w.MINOR})],e.prototype,"lineDash",void 0),mt([T({redraw:w.MINOR})],e.prototype,"lineDashOffset",void 0),mt([T({redraw:w.MINOR})],e.prototype,"lineCap",void 0),mt([T({redraw:w.MINOR})],e.prototype,"lineJoin",void 0),mt([T({redraw:w.MINOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),mt([T({redraw:w.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"fillShadow",void 0),e}(W),wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),St=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},kt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ot(t){var e=null!=t?t:{},n=e.redraw;return T({redraw:void 0===n?w.MAJOR:n,type:"font",changeCb:e.changeCb})}var Dt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.x=0,n.y=0,n.lines=[],n.text=void 0,n._dirtyFont=!0,n.fontSize=10,n.fontFamily="sans-serif",n.textAlign=e.defaultStyles.textAlign,n.textBaseline=e.defaultStyles.textBaseline,n.lineHeight=void 0,n}return wt(e,t),e.prototype._setLines=function(){this.lines=Nt(this.text)},Object.defineProperty(e.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=_t(this)),this._font},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){return S.has.textMetrics?Mt(this.lines,this.x,this.y,this):Et(this.lines,this.x,this.y,this)},e.prototype.getLineHeight=function(t){var e,n;if(this.lineHeight)return this.lineHeight;if(S.has.textMetrics){var i=S.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!==(e=i.fontBoundingBoxAscent)&&void 0!==e?e:i.emHeightAscent)+(null!==(n=i.fontBoundingBoxDescent)&&void 0!==n?n:i.emHeightDescent)}return S.getTextSize(t,this.font).height},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),i=this.computeBBox();return!!i&&i.containsPoint(n.x,n.y)},e.prototype.render=function(e){var n=e.ctx,i=e.forceRender,r=e.stats;if(this.dirty!==w.NONE||i)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(n);var o=this.fill,a=this.stroke,l=this.strokeWidth;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;var s=this.layerManager.canvas.pixelRatio||1,u=n.globalAlpha;if(o){n.fillStyle=o,n.globalAlpha=u*this.opacity*this.fillOpacity;var c=this.fillShadow;(null==c?void 0:c.enabled)&&(n.shadowColor=c.color,n.shadowOffsetX=c.xOffset*s,n.shadowOffsetY=c.yOffset*s,n.shadowBlur=c.blur*s),this.renderLines((function(t,e,i){return n.fillText(t,e,i)}))}if(a&&l){n.strokeStyle=a,n.lineWidth=l,n.globalAlpha=u*this.opacity*this.strokeOpacity;var h=this.lineDash,d=this.lineDashOffset,p=this.lineCap,f=this.lineJoin;h&&n.setLineDash(h),d&&(n.lineDashOffset=d),p&&(n.lineCap=p),f&&(n.lineJoin=f),this.renderLines((function(t,e,i){return n.strokeText(t,e,i)}))}t.prototype.render.call(this,e)}else r&&(r.nodesSkipped+=this.nodeCount.count);else r&&(r.nodesSkipped+=this.nodeCount.count)},e.prototype.renderLines=function(t){for(var e=this,n=this.lines,i=this.x,r=this.y,o=this.lines.map((function(t){return e.getLineHeight(t)})),a=-(o.reduce((function(t,e){return t+e}),0)-o[0])*Pt(this.textBaseline),l=0;l<n.length;l++)t(n[l],i,r+a),a+=o[l]},e.wrap=function(t,n,i,r,o){var a,l,s=function(t){var e=new Map,n=function(e){return S.getTextSize(e,t)};return{size:n,width:function(t){if(e.has(t))return e.get(t);var i=n(t).width;return e.set(t,i),i}}}(_t(r)),u=t.split(/\r?\n/g);if(0===u.length)return"";if("never"===o)return e.truncateLine(u[0],n,s,!1);var c=[],h=0;try{for(var d=kt(u),p=d.next();!p.done;p=d.next()){var f=p.value,y=e.wrapLine(f,n,i,s,r,o,h);if(c.push(y.result),h=y.cumulativeHeight,y.truncated)break}}catch(t){a={error:t}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}return c.join("\n").trim()},e.wrapLine=function(t,n,i,r,o,a,l){if(!(t=t.trim()))return{result:"",truncated:!1,cumulativeHeight:l};var s=r.size(t);if(s.width<=n)return{result:t,truncated:!1,cumulativeHeight:l+s.height};if(s.height>i||r.width("W")>n)return{result:"",truncated:!0,cumulativeHeight:l};var u=t.split(/\s+/g),c=e.wrapLineSequentially(u,n,i,r,o,a,l);l=c.cumulativeHeight;var h=c.lines;if(!c.wordsBrokenOrTruncated&&!c.linesTruncated){var d=c.lines.length,p=e.wrapLineBalanced(u,n,r,d);p.length===h.length&&(h=p)}return{result:h.map((function(t){return t.join(" ")})).join("\n"),truncated:c.linesTruncated,cumulativeHeight:l}},e.breakWord=function(t,n,i,r,o){for(var a,l,s=function(n){return e.punctuationMarks.includes(t[n])},u=r?o.width("-"):0,c=[],h=0,d=0,p=0;p<t.length;p++){var f=t[p],y=o.width(f);h+y+u>(0===d?n:i)&&(c.push(p),h=0,d++),h+=y}var v=[],g=0;try{for(var m=kt(c),b=m.next();!b.done;b=m.next()){var x=b.value,w=t.substring(g,x);r&&w.length>0&&!s(x-1)&&!s(x)&&(w+="-"),v.push(w),g=x}}catch(t){a={error:t}}finally{try{b&&!b.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}return v.push(t.substring(g)),v},e.truncateLine=function(t,e,n,i){var r=n.width(t);if(r<e&&!i)return t;var o=n.width("\u2026");if(r+o<=e)return t+"\u2026";var a,l,s=Math.floor(t.length*e/r)+1;do{a=t.substring(0,s),l=n.width(a)}while(--s>=0&&l+o>e);return a+"\u2026"},e.wrapLineSequentially=function(t,n,i,r,o,a,l){var s=o.fontSize,u=o.lineHeight,c=void 0===u?s*e.defaultLineHeightRatio:u,h="always"===a||"hyphenate"===a,d="hyphenate"===a,p=r.width(" "),f=!1,y=!1,v=[],g=[],m=0,b=function(){var t=l+c;if(t>=i){var o=g.join(" "),a=e.truncateLine(o,n,r,!0);return g.splice(0,g.length,a),y=!0,!1}return g=[],m=0,l=t,v.push(g),!0};if(!b())return{lines:v,linesTruncated:!0,wordsBrokenOrTruncated:f,cumulativeHeight:l};for(var x=0;x<t.length;x++){var w=t[x],S=r.width(w),k=0===g.length?0:p,O=m+k+S;if(O<=n)g.push(w),m=O;else if(S<=n){if(!b())break;g.push(w),m=S}else{if(f=!0,!h){if(!b())break;var D=e.truncateLine(w,n,r,!0);g.push(D),x<t.length-1&&(y=!0);break}for(var _=n-m-k,C=e.breakWord(w,_,n,d,r),M=!1,E=0;E<C.length;E++){var P=C[E];if(P&&g.push(P),E===C.length-1)m=r.width(P);else if(!b()){M=!0;break}}if(M)break}}return{lines:v,linesTruncated:y,wordsBrokenOrTruncated:f,cumulativeHeight:l}},e.wrapLineBalanced=function(t,e,n,i){var r,o,a=t.reduce((function(t,e){return t+n.width(e)}),0),l=n.width(" "),s=(a+l*(t.length-i-2))/i,u=[],c=[],h=n.width(t[0]),d=!0;try{for(var p=kt(t),f=p.next();!f.done;f=p.next()){var y=f.value,v=n.width(y);if(d)(c=[]).push(y),h=v,d=!1,u.push(c);else{var g=h+l+v;g<=s?(c.push(y),h=g):g<=e?(c.push(y),d=!0):(c=[y],h=v,u.push(c))}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}return u},e.className="Text",e.defaultLineHeightRatio=1.15,e.defaultStyles=Object.assign({},xt.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),e.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"],St([T({redraw:w.MAJOR})],e.prototype,"x",void 0),St([T({redraw:w.MAJOR})],e.prototype,"y",void 0),St([T({redraw:w.MAJOR,changeCb:function(t){return t._setLines()}})],e.prototype,"text",void 0),St([Ot()],e.prototype,"fontStyle",void 0),St([Ot()],e.prototype,"fontWeight",void 0),St([Ot()],e.prototype,"fontSize",void 0),St([Ot()],e.prototype,"fontFamily",void 0),St([T({redraw:w.MAJOR})],e.prototype,"textAlign",void 0),St([T({redraw:w.MAJOR})],e.prototype,"textBaseline",void 0),St([T({redraw:w.MAJOR})],e.prototype,"lineHeight",void 0),e}(xt);function _t(t){var e=t.fontFamily,n=t.fontSize,i=t.fontStyle,r=t.fontWeight;return[null!=i?i:"",null!=r?r:"",n+"px",e].join(" ").trim()}function Ct(t,e,n,i){return S.has.textMetrics?Mt(t,e,n,i):Et(t,e,n,i)}function Mt(t,e,n,i){for(var r,o,a=0,l=0,s=0,u=0,c=0,h=_t(i),d=i.lineHeight,p=i.textBaseline,f=void 0===p?Dt.defaultStyles.textBaseline:p,y=i.textAlign,v=void 0===y?Dt.defaultStyles.textAlign:y,g=0;g<t.length;g++){var m=S.measureText(t[g],h,f,v);a=Math.max(a,m.actualBoundingBoxLeft),s=Math.max(s,m.width),0==g?(l+=m.actualBoundingBoxAscent,u+=m.actualBoundingBoxAscent):c+=null!==(r=m.fontBoundingBoxAscent)&&void 0!==r?r:m.emHeightAscent,g==t.length-1?u+=m.actualBoundingBoxDescent:c+=null!==(o=m.fontBoundingBoxDescent)&&void 0!==o?o:m.emHeightDescent}return void 0!==d&&(c=(t.length-1)*d),u+=c,l+=c*Pt(f),new D(e-a,n-l,s,u)}function Et(t,e,n,i){var r=0,o=0,a=0,l=_t(i),s=i.lineHeight,u=i.textBaseline,c=void 0===u?Dt.defaultStyles.textBaseline:u,h=i.textAlign,d=void 0===h?Dt.defaultStyles.textAlign:h;t.length>0&&(r=(f=S.getTextSize(t[0],l)).width,o=f.height);for(var p=1;p<t.length;p++){var f=S.getTextSize(t[p],l);r=Math.max(r,f.width),a+=null!=s?s:f.height}switch(d){case"end":case"right":e-=r;break;case"center":e-=r/2}switch(c){case"alphabetic":n-=.7*o+.5*a;break;case"middle":n-=.45*o+.5*a;break;case"ideographic":n-=o+a;break;case"hanging":n-=.2*o+.5*a;break;case"bottom":n-=o+a}return new D(e,n,r,o+a)}function Pt(t){switch(t){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}function Nt(t){return"string"==typeof t?t.split(/\r?\n/g):[]}var Tt=function(){function t(){this.allEventListeners=new Map}return t.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var n=this.allEventListeners,i=n.get(t);i||(i=new Set,n.set(t,i)),i.has(e)||i.add(e)},t.prototype.removeEventListener=function(t,e){var n=this.allEventListeners,i=n.get(t);i&&(i.delete(e),0===i.size&&n.delete(t))},t.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},t.prototype.clearEventListeners=function(){this.allEventListeners.clear()},t.prototype.fireEvent=function(t){var e=this.allEventListeners.get(t.type);null==e||e.forEach((function(e){return e(t)}))},t}(),Rt=function(t){return"string"==typeof t},Lt=function(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"toString")&&Rt(t.toString())};function At(t){return Rt(t)||Lt(t)}function It(t){var e;return Ft(t)||!!(e=t)&&Object.prototype.hasOwnProperty.call(e,"valueOf")&&Ft(e.valueOf())||function(t){return t instanceof Date&&!isNaN(+t)}(t)}function jt(t,e){return e&&It(t)?t:e?void 0:At(t)?t:String(t)}var Ft=function(t){return"number"==typeof t&&Number.isFinite(t)},Bt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},zt=function(){function t(t,e,n,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,i||0))}return t.validColorString=function(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]},t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e.toLowerCase()];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.tryParseFromString=function(e){try{return t.fromString(e)}catch(n){return U.warnOnce("invalid color string: '"+e+"'."),t.fromArray([0,0,0])}},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map((function(t){return parseInt(t,16)})).map((function(t){return t+16*t}))}if((null==e?void 0:e.length)>=3&&e.every((function(t){return t>=0})))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var i=Bt(n,4);return new t(i[0]/255,i[1]/255,i[2]/255,i[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=Bt([NaN,NaN],2),n=e[0],i=e[1],r=0;r<t.length;r++){var o=t[r];if(n||"("!==o){if(")"===o){i=r;break}}else n=r}var a=n&&i&&t.substring(n+1,i);if(a){var l=a.split(","),s=[];for(r=0;r<l.length;r++){var u=l[r],c=parseFloat(u);if(isNaN(c))return;u.indexOf("%")>=0?(c=Math.max(0,Math.min(100,c)),c/=100):3===r?c=Math.max(0,Math.min(1,c)):(c=Math.max(0,Math.min(255,c)),c/=255),s.push(c)}return s}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,i,r){void 0===r&&(r=1);var o=t.HSBtoRGB(e,n,i);return new t(o[0],o[1],o[2],r)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var i=Math.min(t,e,n),r=Math.max(t,e,n),o=NaN;if(i!==r){var a=r-i,l=(r-t)/a,s=(r-e)/a,u=(r-n)/a;o=t===r?u-s:e===r?2+l-u:4+s-l,(o/=6)<0&&(o+=1)}return[360*o,0!==r?(r-i)/r:0,r]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,r=0,o=0;if(0===e)i=r=o=n;else{var a=6*(t-Math.floor(t)),l=a-Math.floor(a),s=n*(1-e),u=n*(1-e*l),c=n*(1-e*(1-l));switch(a>>0){case 0:i=n,r=c,o=s;break;case 1:i=u,r=n,o=s;break;case 2:i=s,r=n,o=c;break;case 3:i=s,r=u,o=n;break;case 4:i=c,r=s,o=n;break;case 5:i=n,r=s,o=u}}return[i,r,o]},t.prototype.derive=function(e,n,i,r){var o=t.RGBtoHSB(this.r,this.g,this.b),a=o[2];0==a&&i>1&&(a=.05);var l=((o[0]+e)%360+360)%360,s=Math.max(Math.min(o[1]*n,1),0);a=Math.max(Math.min(a*i,1),0);var u=Math.max(Math.min(this.a*r,1),0),c=t.HSBtoRGB(l,s,a);return c.push(u),t.fromArray(c)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.interpolate=function(e,n){var i=t.tryParseFromString(e),r=t.tryParseFromString(n);return function(e){var n=function(t,n){return t*(1-e)+n*e};return new t(n(i.r,r.r),n(i.g,r.g),n(i.b,r.b),n(i.a,r.a)).toString()}},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}(),Wt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kt=Symbol("BREAK");function Gt(t,e){return function(n,i){var r=i.toString(),o=function(t,e,n,i){null==Object.getOwnPropertyDescriptor(t,"__decorator_config")&&Object.defineProperty(t,"__decorator_config",{value:{}});var r=t.__decorator_config;if(null!=r[n])return r[n];r[n]={setters:[],getters:[]};var o=Object.getOwnPropertyDescriptor(t,e),a=null==o?void 0:o.set,l=null==o?void 0:o.get;return Object.defineProperty(t,e,{set:function(t){var o,s,u,c,h,d=null!==(c=null===(u=r[n])||void 0===u?void 0:u.setters)&&void 0!==c?c:[];d.some((function(t){return t.length>2}))&&(h=l?l.call(this):this[i]);try{for(var p=Wt(d),f=p.next();!f.done;f=p.next()){if((t=(0,f.value)(this,e,t,h))===Kt)return}}catch(t){o={error:t}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}a?a.call(this,t):this[i]=t},get:function(){var t,o,a,s,u=l?l.call(this):this[i];try{for(var c=Wt(null!==(s=null===(a=r[n])||void 0===a?void 0:a.getters)&&void 0!==s?s:[]),h=c.next();!h.done;h=c.next()){if((u=(0,h.value)(this,e,u))===Kt)return}}catch(e){t={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}return u},enumerable:!0,configurable:!1}),r[n]}(n,i,r,"__"+r),a=o.getters;o.setters.push(t),e&&a.splice(0,0,e)}}function Xt(t){return Gt((function(e,n,i){var r,o,a;if(t(i,{target:e}))return i;var l=n.toString().replace(/^_*/,""),s=null!==(o=null===(r=e.constructor)||void 0===r?void 0:r.className)&&void 0!==o?o:null===(a=e.constructor)||void 0===a?void 0:a.name;(null==s?void 0:s.length)<3&&(s=null);var u=s?"of ["+s+"] ":"";return t.message?U.warn("Property ["+l+"] "+u+"cannot be set to ["+JSON.stringify(i)+"]; "+t.message+", ignoring."):U.warn("Property ["+l+"] "+u+"cannot be set to ["+JSON.stringify(i)+"], ignoring."),Kt}))}function Yt(t,e){return t.message=e,t}var Ht=function(t,e,n){return void 0===t||n(t,e)},Vt=function(t,e){return Yt((function(n,i){return Array.isArray(n)&&(!t||n.length===t)&&(!e||n.every((function(t){return e(t,i)})))}),"expecting an Array")},Ut=function(t){return Yt((function(e,n){return Ht(e,n,Vt(t))}),"expecting an optional Array")},Zt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Yt((function(e,n){return t.every((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" AND "))},qt=function(t){return null!=t&&!isNaN(t)},Jt=function(t){return Yt((function(e,n){return!qt(e)||!qt(n.target[t])||e<n.target[t]}),"expected to be less than "+t)},$t=function(t){return Yt((function(e,n){return!qt(e)||!qt(n.target[t])||e>n.target[t]}),"expected to be greater than "+t)},Qt=Yt((function(t){return"function"==typeof t}),"expecting a Function"),te=Yt((function(t,e){return Ht(t,e,Qt)}),"expecting an optional Function"),ee=Yt((function(t){return!0===t||!1===t}),"expecting a Boolean"),ne=Yt((function(t,e){return Ht(t,e,ee)}),"expecting an optional Boolean"),ie=Yt((function(t){return"string"==typeof t}),"expecting a String"),re=Yt((function(t,e){return Ht(t,e,ie)}),"expecting an optional String"),oe=Yt((function(t){return t instanceof Date&&!isNaN(+t)}),"expecting a Date object"),ae=Yt((function(t,e){return Ht(t,e,oe)}),"expecting an optional Date");Yt(Vt(void 0,oe),"expecting an Array of Date objects");var le=fe(0),se=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Yt((function(e,n){return t.some((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" OR "))}(ae,Yt((function(t,e){return Ht(t,e,le)}),"expecting an optional number")),ue="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",ce=Yt((function(t){return"string"==typeof t&&zt.validColorString(t)}),"expecting a color String. "+ue),he=Yt((function(t,e){return Ht(t,e,ce)}),"expecting an optional color String. "+ue),de=Yt(Vt(void 0,ce),"expecting an Array of color strings. "+ue),pe=Yt((function(t,e){return Ht(t,e,de)}),"expecting an optional Array of color strings. "+ue);function fe(t,e){return Yt((function(n){return"number"==typeof n&&Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e)}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function ye(t,e){return Yt((function(n,i){return Ht(n,i,fe(t,e))}),"expecting an optional finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function ve(t,e){return Yt((function(n){return"number"==typeof n&&(isNaN(n)||Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e))}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}var ge=Yt(Vt(void 0,fe()),"expecting an Array of numbers"),me=Yt((function(t,e){return Ht(t,e,ge)}),"expecting an optional Array of numbers"),be=Yt(Vt(void 0,ie),"expecting an Array of strings");function xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="expecting one of: "+t.join(", ");return Yt((function(e){return"string"==typeof e&&t.indexOf(e)>=0}),n)}Yt((function(t,e){return Ht(t,e,be)}),"expecting an optional Array of strings");var we=Yt(Vt(void 0,ee),"expecting an Array of boolean values");Yt((function(t,e){return Ht(t,e,we)}),"expecting an optional Array of boolean values");var Se=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],ke=Yt((function(t){return"normal"===t||"italic"===t||"oblique"===t}),"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),Oe=Yt((function(t,e){return Ht(t,e,ke)}),"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),De=Yt((function(t){return Se.includes(t)}),"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),_e=Yt((function(t,e){return Ht(t,e,De)}),"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),Ce=Yt(Vt(void 0,fe(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Me=Yt((function(t,e){return Ht(t,e,Ce)}),"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Ee=["butt","round","square"],Pe=Yt((function(t){return Ee.includes(t)}),"expecting a line cap keyword such as 'butt', 'round' or 'square'");Yt((function(t,e){return Ht(t,e,Pe)}),"expecting an optional line cap keyword such as 'butt', 'round' or 'square'");var Ne=["round","bevel","miter"],Te=Yt((function(t){return Ne.includes(t)}),"expecting a line join keyword such as 'round', 'bevel' or 'miter'");Yt((function(t,e){return Ht(t,e,Te)}),"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");var Re,Le,Ae=["top","right","bottom","left"],Ie=Yt((function(t){return Ae.includes(t)}),"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),je=["exact","nearest"],Fe=Yt((function(t){return"number"==typeof t&&Number.isFinite(t)||je.includes(t)}),"expecting an interaction range of 'exact', 'nearest' or a number"),Be=["never","always","hyphenate","on-space"],ze=Yt((function(t){return Be.includes(t)}),"expecting a text wrap strategy keyword such as 'never', 'always', 'hyphenate', 'on-space'");!function(t){t[t.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=20]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Re||(Re={})),function(t){t.X="x",t.Y="y"}(Le||(Le={}));var We=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ke(t,e){var n,i;void 0===e&&(e=[1/0,-1/0]);try{for(var r=We(t),o=r.next();!o.done;o=r.next()){var a=o.value;"number"==typeof a&&(a<e[0]&&(e[0]=a),a>e[1]&&(e[1]=a))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return e}var Ge=function(){return(Ge=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Xe=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Ye=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},He=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};function Ve(t){return t.map((function(t){return null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t})).join("-")}function Ue(t){if(void 0===t)return[];var e=Xe(t,2),n=e[0],i=e[1];return i=+i,0===(n=+n)&&0===i?[0,1]:n===1/0&&i===-1/0?[]:(n===1/0&&(n=0),i===-1/0&&(i=0),Ft(n)&&Ft(i)?[n,i]:[])}var Ze=Symbol("invalid"),qe=function(){function t(t){var e,n,i,r,o,a,l,s=t.props,u=!0;try{for(var c=Ye(s),h=c.next();!h.done;h=c.next()){var d=h.value;if("key"===d.type&&!u)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===d.type&&u&&(u=!1)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}this.opts=Ge({dataVisible:!0},t),this.keys=s.filter((function(t){return"key"===t.type})).map((function(t,e){return Ge(Ge({},t),{index:e,missing:!1})})),this.values=s.filter((function(t){return"value"===t.type})).map((function(t,e){return Ge(Ge({},t),{index:e,missing:!1})})),this.aggregates=s.filter((function(t){return"aggregate"===t.type})),this.groupProcessors=s.filter((function(t){return"group-value-processor"===t.type})),this.propertyProcessors=s.filter((function(t){return"property-value-processor"===t.type})),this.reducers=s.filter((function(t){return"reducer"===t.type})),this.processors=s.filter((function(t){return"processor"===t.type}));try{for(var p=Ye(null!==(l=this.aggregates)&&void 0!==l?l:[]),f=p.next();!f.done;f=p.next()){var y=f.value.properties;if(0!==y.length){var v=function(t){if("string"==typeof t&&!g.values.some((function(e){return e.property===t})))throw new Error("AG Charts - internal config error: aggregate properties must match defined properties ("+y+").");if("string"!=typeof t&&!g.values.some((function(e){return e.id===t.id})))throw new Error("AG Charts - internal config error: aggregate properties must match defined properties ("+y+").")},g=this;try{for(var m=(o=void 0,Ye(y)),b=m.next();!b.done;b=m.next()){v(b.value)}}catch(t){o={error:t}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(i)throw i.error}}}return t.prototype.resolveProcessedDataIndexById=function(t){var e=this.keys,n=this.values,i=He(He([],Xe(e)),Xe(n)).find((function(e){return e.id===t}));if(i)return"key"===(null==i?void 0:i.type)||"value"===(null==i?void 0:i.type)?{type:i.type,index:i.index}:void 0},t.prototype.resolveProcessedDataDefById=function(t){var e=this.keys,n=this.values,i=He(He([],Xe(e)),Xe(n)).find((function(e){return e.id===t}));if(i)return i},t.prototype.getDomain=function(t,e){var n=this.resolveProcessedDataIndexById(t);return n?e.domain["key"===n.type?"keys":"values"][n.index]:[]},t.prototype.processData=function(e){var n,i,r,o,a=this,l=a.opts,s=l.groupByKeys,u=l.groupByFn,c=a.aggregates,h=a.groupProcessors,d=a.reducers,p=a.processors,f=a.propertyProcessors,y=performance.now();try{for(var v=Ye(He(He([],Xe(this.keys)),Xe(this.values))),g=v.next();!g.done;g=v.next()){(w=g.value).missing=!1}}catch(t){n={error:t}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}if(!s||0!==this.keys.length){var m=this.extractData(e);s?m=this.groupData(m):u&&(m=this.groupData(m,u(m))),h.length>0&&this.postProcessGroups(m),c.length>0&&this.aggregateData(m),f.length>0&&this.postProcessProperties(m),d.length>0&&this.reduceData(m),p.length>0&&this.postProcessData(m);try{for(var b=Ye(He(He([],Xe(this.keys)),Xe(this.values))),x=b.next();!x.done;x=b.next()){var w;(w=x.value).missing&&U.warnOnce("the key '"+w.property+"' was not found in at least one data element.")}}catch(t){r={error:t}}finally{try{x&&!x.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}var S=performance.now();return m.time=S-y,t.DEBUG()&&function(t){var e,n,i=function(t,e){e.length>0&&(console.log(t),console.table(e))};if(console.log({processedData:t}),i("Key Domains",t.domain.keys),i("Group Domains",null!==(e=t.domain.groups)&&void 0!==e?e:[]),i("Value Domains",t.domain.values),i("Aggregate Domains",null!==(n=t.domain.aggValues)&&void 0!==n?n:[]),"grouped"===t.type){var r=t.data.reduce((function(t,e){var n,i,r=null!==(n=e.keys)&&void 0!==n?n:[],o=null!==(i=e.aggValues)&&void 0!==i?i:[],a=e.keys.map((function(){})),l=null==o?void 0:o.map((function(){}));return t.push.apply(t,He([],Xe(e.values.map((function(t,e){return He(He(He([],Xe(0===e?r:a)),Xe(null!=t?t:[])),Xe(0==e?o:l))}))))),t}),[]);i("Values",r)}else{r=t.data.reduce((function(t,e){var n,i=null!==(n=e.aggValues)&&void 0!==n?n:[];return t.push(He(He(He([],Xe(e.keys)),Xe(e.values)),Xe(i))),t}),[]);i("Values",r)}}(m),m}},t.prototype.valueIdxLookup=function(t){var e;if((e="string"==typeof t?this.values.findIndex((function(e){return e.property===t})):this.values.findIndex((function(e){return e.id===t.id})))>=0)return e;throw new Error("AG Charts - configuration error, unknown property: "+t)},t.prototype.extractData=function(t){var e,n,i,r,o,a,l=this.keys,s=this.values,u=this.opts.dataVisible,c=this.initDataDomainProcessor(),h=c.dataDomain,d=c.processValue,p=new Array(u?t.length:0),f=0;try{for(var y=Ye(t),v=y.next();!v.done;v=y.next()){var g=v.value,m=u?new Array(l.length):void 0,b=0,x=void 0;try{for(var w=(i=void 0,Ye(l)),S=w.next();!S.done;S=w.next()){if((x=d(S.value,g,x))===Ze)break;m&&(m[b++]=x)}}catch(t){i={error:t}}finally{try{S&&!S.done&&(r=w.return)&&r.call(w)}finally{if(i)throw i.error}}if(x!==Ze){var k=u&&s.length>0?new Array(s.length):void 0,O=0,D=void 0;try{for(var _=(o=void 0,Ye(s)),C=_.next();!C.done;C=_.next()){if((D=d(C.value,g,D))===Ze)break;k&&(k[O++]=D)}}catch(t){o={error:t}}finally{try{C&&!C.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}D!==Ze&&u&&(p[f++]={datum:g,keys:m,values:k})}}}catch(t){e={error:t}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}p.length=f;var M=function(t){var e,n=h.get(null!==(e=t.id)&&void 0!==e?e:t.property).domain;return Array.isArray(n)&&n[0]>n[1]?[]:He([],Xe(n))};return{type:"ungrouped",data:p,domain:{keys:l.map((function(t){return M(t)})),values:s.map((function(t){return M(t)}))},indices:{keys:l.reduce((function(t,e){var n=e.property,i=e.index;return t[n]=i,t}),{}),values:s.reduce((function(t,e){var n=e.property,i=e.index;return t[n]=i,t}),{})},defs:{keys:l,values:s},time:0}},t.prototype.groupData=function(t,e){var n,i,r,o,a=new Map;try{for(var l=Ye(t.data),s=l.next();!s.done;s=l.next()){var u=s.value,c=u.keys,h=u.values,d=u.datum,p=e?e(u):c,f=Ve(p);if(a.has(f)){var y=a.get(f);y.values.push(h),y.datum.push(d)}else a.set(f,{keys:p,values:[h],datum:[d]})}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}var v=new Array(a.size),g=new Array(a.size),m=0;try{for(var b=Ye(a.entries()),x=b.next();!x.done;x=b.next()){var w=Xe(x.value,2)[1];c=w.keys,h=w.values,d=w.datum;g[m]=c,v[m++]={keys:c,values:h,datum:d}}}catch(t){r={error:t}}finally{try{x&&!x.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}return Ge(Ge({},t),{type:"grouped",data:v,domain:Ge(Ge({},t.domain),{groups:g})})},t.prototype.aggregateData=function(t){var e,n,i,r,o,a,l,s,u,c,h,d,p,f=this,y=this.aggregates;if(y){var v=y.map((function(){return[1/0,-1/0]})),g=y.map((function(t){return t.properties.map((function(t){return f.valueIdxLookup(t)}))})),m=y.map((function(t){return t.aggregateFunction})),b=y.map((function(t){return t.groupAggregateFunction})),x=y.map((function(t){return t.finalFunction}));try{for(var w=Ye(t.data),S=w.next();!S.done;S=w.next()){var k=S.value,O=k.values;null!==(l=k.aggValues)&&void 0!==l||(k.aggValues=new Array(g.length)),"ungrouped"===t.type&&(O=[O]);var D=0;try{for(var _=(i=void 0,Ye(g)),C=_.next();!C.done;C=_.next()){var M=C.value,E=null!==(u=null===(s=b[D])||void 0===s?void 0:s.call(b))&&void 0!==u?u:Ke([]),P=function(t){var e=M.map((function(e){return t[e]})),n=m[D](e,k.keys);n&&(E=null!==(h=null===(c=b[D])||void 0===c?void 0:c.call(b,n,E))&&void 0!==h?h:Ke(n,E))};try{for(var N=(o=void 0,Ye(O)),T=N.next();!T.done;T=N.next()){P(T.value)}}catch(t){o={error:t}}finally{try{T&&!T.done&&(a=N.return)&&a.call(N)}finally{if(o)throw o.error}}var R=(null!==(p=null===(d=x[D])||void 0===d?void 0:d.call(x,E))&&void 0!==p?p:E).map((function(t){return e=t,Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(1e4*e)/1e4;var e}));Ke(R,v[D]),k.aggValues[D++]=R}}catch(t){i={error:t}}finally{try{C&&!C.done&&(r=_.return)&&r.call(_)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{S&&!S.done&&(n=w.return)&&n.call(w)}finally{if(e)throw e.error}}t.domain.aggValues=v}},t.prototype.postProcessGroups=function(t){var e,n,i,r,o,a,l,s,u=this,c=this.groupProcessors;if(c)try{for(var h=Ye(c),d=h.next();!d.done;d=h.next()){var p=d.value,f=p.properties.map((function(t){return u.valueIdxLookup(t)})),y=p.adjust();if("grouped"===t.type)try{for(var v=(i=void 0,Ye(t.data)),g=v.next();!g.done;g=v.next()){var m=g.value;try{for(var b=(o=void 0,Ye(m.values)),x=b.next();!x.done;x=b.next()){var w=x.value;w&&y(w,f)}}catch(t){o={error:t}}finally{try{x&&!x.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}}catch(t){i={error:t}}finally{try{g&&!g.done&&(r=v.return)&&r.call(v)}finally{if(i)throw i.error}}else try{for(var S=(l=void 0,Ye(t.data)),k=S.next();!k.done;k=S.next()){(m=k.value).values&&y(m.values,f)}}catch(t){l={error:t}}finally{try{k&&!k.done&&(s=S.return)&&s.call(S)}finally{if(l)throw l.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}},t.prototype.postProcessProperties=function(t){var e,n,i=this.propertyProcessors;if(i)try{for(var r=Ye(i),o=r.next();!o.done;o=r.next()){var a=o.value,l=a.adjust,s=a.property;l()(t,this.valueIdxLookup(s))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.reduceData=function(t){var e,n,i,r,o,a=this.reducers,l=a.map((function(t){return t.reducer()})),s=a.map((function(t){return t.initialValue}));try{for(var u=Ye(t.data),c=u.next();!c.done;c=u.next()){var h=c.value,d=0;try{for(var p=(i=void 0,Ye(l)),f=p.next();!f.done;f=p.next()){var y=f.value;s[d]=y(s[d],h),d++}}catch(t){i={error:t}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}for(var v=0;v<s.length;v++)null!==(o=t.reduced)&&void 0!==o||(t.reduced={}),t.reduced[a[v].property]=s[v]},t.prototype.postProcessData=function(t){var e,n,i,r=this.processors;try{for(var o=Ye(r),a=o.next();!a.done;a=o.next()){var l=a.value;null!==(i=t.reduced)&&void 0!==i||(t.reduced={}),t.reduced[l.property]=l.calculate(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.initDataDomainProcessor=function(){var t=this.keys,e=this.values,n=new Map,i=new Map,r=function(t,e,n){"category"===e?n.set(t,{type:e,domain:new Set}):n.set(t,{type:e,domain:[1/0,-1/0]})},o=function(i){return void 0===i&&(i=n),t.forEach((function(t){var e;return r(null!==(e=t.id)&&void 0!==e?e:t.property,t.valueType,i)})),e.forEach((function(t){var e;return r(null!==(e=t.id)&&void 0!==e?e:t.property,t.valueType,i)})),i};o();return{dataDomain:n,processValue:function(t,e,r){var a,l,s,u,c,h=t.property in e,d="missingValue"in t;t.missing||h||d||(t.missing=!0),n.has(null!==(a=t.id)&&void 0!==a?a:t.property)||o(n);var p=h?e[t.property]:t.missingValue;if(h&&!(null===(s=null===(l=t.validation)||void 0===l?void 0:l.call(t,p))||void 0===s||s)){if(!("invalidValue"in t))return Ze;p=t.invalidValue}t.processor&&(i.has(t)||i.set(t,t.processor()),p=null===(u=i.get(t))||void 0===u?void 0:u(p,r!==Ze?r:void 0));var f=n.get(null!==(c=t.id)&&void 0!==c?c:t.property);return"category"===(null==f?void 0:f.type)?f.domain.add(p):"range"===(null==f?void 0:f.type)&&(f.domain[0]>p&&(f.domain[0]=p),f.domain[1]<p&&(f.domain[1]=p)),p},initDataDomain:o}},t.DEBUG=function(){var t;return null!==(t=[!0,"data-model"].includes(it("agChartsDebug")))&&void 0!==t&&t},t}();function Je(){return function(t,e){var n=["Property ["+t+"] is deprecated.",e].filter((function(t){return null!=t})).join(" ");U.warnOnce(n)}}var $e=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Qe=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function tn(t,e){var n,i,r,o;if("string"==typeof t)return t;e=null!=e?e:{};var a=t.content,l=void 0===a?null!==(n=e.content)&&void 0!==n?n:"":a,s=t.title,u=void 0===s?null!==(i=e.title)&&void 0!==i?i:void 0:s,c=t.color,h=void 0===c?null!==(r=e.color)&&void 0!==r?r:"white":c,d=t.backgroundColor,p=void 0===d?null!==(o=e.backgroundColor)&&void 0!==o?o:"#888":d;return(u?'<div class="ag-chart-tooltip-title"\n        style="color: '+h+"; background-color: "+p+'">'+u+"</div>":"")+'<div class="ag-chart-tooltip-content">'+l+"</div>"}var en=["pointer","node"],nn=Yt((function(t){return en.includes(t)}),"expecting a position type keyword such as 'pointer' or 'node'"),rn=function(){function t(){this.type="pointer",this.xOffset=0,this.yOffset=0}return $e([Xt(nn)],t.prototype,"type",void 0),$e([Xt(fe())],t.prototype,"xOffset",void 0),$e([Xt(fe())],t.prototype,"yOffset",void 0),t}(),on=function(){function t(e,n,i){var r=this;this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new rn,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=i;var o=n.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add("ag-chart-tooltip"),this.canvasElement=e,window.IntersectionObserver){var a=new IntersectionObserver((function(t){var e,n;try{for(var i=Qe(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.target===r.canvasElement&&0===a.intersectionRatio&&r.toggle(!1)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}),{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}if(t.tooltipDocuments.indexOf(n)<0){var l=n.createElement("style");l.innerHTML='\n.ag-chart-tooltip {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.ag-chart-tooltip-no-animation {\n    transition: none !important;\n}\n\n.ag-chart-tooltip-hidden {\n    visibility: hidden;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',n.head.insertBefore(l,n.head.querySelector("style")),t.tooltipDocuments.push(n)}}var e,n,i;return t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},t.prototype.isVisible=function(){return!this.element.classList.contains("ag-chart-tooltip-hidden")},t.prototype.updateClass=function(t,e){var n=this.element,i=this.class,r=this.lastClass,o=this.enableInteraction,a=function(t,e){var i="ag-chart-tooltip-"+t;e?n.classList.add(i):n.classList.remove(i)};a("no-animation",!this.isVisible()&&!!t),a("no-interaction",!o),a("hidden",!t),a("arrow",!!e),i!==r&&(r&&n.classList.remove(r),i&&n.classList.add(i),this.lastClass=i)},t.prototype.show=function(t,e,n){var i,r,o,a,l,s,u,c=this;void 0===n&&(n=!1);var h=this.element,d=this.canvasElement;if(void 0!==e)h.innerHTML=e;else if(!h.innerHTML)return;var p=function(t,e,n){return Math.max(Math.min(e,n),t)},f=null!==(r=null===(i=t.position)||void 0===i?void 0:i.xOffset)&&void 0!==r?r:0,y=null!==(a=null===(o=t.position)||void 0===o?void 0:o.yOffset)&&void 0!==a?a:0,v=d.getBoundingClientRect(),g=v.left+t.offsetX-h.clientWidth/2+f,m=v.top+t.offsetY-h.clientHeight-8+y,b=this.getWindowBoundingBox(),x=b.x+b.width-h.clientWidth-1,w=b.y+b.height-h.clientHeight,S=p(b.x,g,x),k=p(b.y,m,w),O=!(S!==g||k!==m)&&!f&&!y,D=null!==(s=null!==(l=t.showArrow)&&void 0!==l?l:this.showArrow)&&void 0!==s?s:O;if(this.updateShowArrow(D),h.style.transform="translate("+Math.round(S)+"px, "+Math.round(k)+"px)",this.enableInteraction=null!==(u=t.enableInteraction)&&void 0!==u&&u,this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){c.toggle(!0)}),this.delay));this.toggle(!0)},t.prototype.getWindowBoundingBox=function(){return new D(0,0,window.innerWidth,window.innerHeight)},t.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow)},t.prototype.pointerLeftOntoTooltip=function(t){var e;if(!this.enableInteraction)return!1;var n=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,i=Boolean(["","-title","-content"].filter((function(t){return null==n?void 0:n.contains("ag-chart-tooltip"+t)})));return void 0!==n&&i},t.prototype.updateShowArrow=function(t){this._showArrow=t},t.tooltipDocuments=[],$e([Xt(ee)],t.prototype,"enabled",void 0),$e([Xt(ne)],t.prototype,"showArrow",void 0),$e([Xt(re)],t.prototype,"class",void 0),$e([Xt(fe(0))],t.prototype,"delay",void 0),$e([(e="range",n=function(t){return t?"nearest":"exact"},i=Je(),Gt((function(t,r,o){return o!==t[e]&&(i(r.toString(),"Use ["+e+"] instead."),t[e]=n?n(o):o),Kt}),(function(t,n){return i(n.toString(),"Use ["+e+"] instead."),t[e]})))],t.prototype,"tracking",void 0),$e([Xt(Fe)],t.prototype,"range",void 0),t}(),an=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ln(t,e){var n,i;void 0===e&&(e=[0,0]);try{for(var r=an(t),o=r.next();!o.done;o=r.next()){var a=o.value;"number"==typeof a&&(a<0&&(e[0]+=a),a>0&&(e[1]+=a))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return e}function sn(t){return{properties:t,type:"aggregate",aggregateFunction:function(t){return ln(t)}}}function un(t,e){var n={properties:t,type:"aggregate",aggregateFunction:function(t,n){void 0===n&&(n=[]);var i=n[1]-n[0];return e.aggregateFunction(t).map((function(t){return t/i}))}};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}var cn,hn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dn=function(){return(dn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},fn=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},yn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},gn=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};function mn(t,e,n){return void 0===n&&(n={}),dn({property:t,type:"key",valueType:e?"range":"category",validation:function(t){return null!=jt(t,e)}},n)}function bn(t,e,n){return void 0===n&&(n={}),dn({property:t,type:"value",valueType:e?"range":"category",validation:function(t){return null!=jt(t,e)}},n)}!function(t){t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE"}(cn||(cn={}));var xn=function(t,e,n){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=n.id},wn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hn(e,t),e}(xn),Sn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return hn(e,t),e}(xn),kn=function(){function t(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return pn([Xt(he)],t.prototype,"fill",void 0),pn([Xt(ye(0,1))],t.prototype,"fillOpacity",void 0),pn([Xt(he)],t.prototype,"stroke",void 0),pn([Xt(ye(0))],t.prototype,"strokeWidth",void 0),t}(),On=function(){function t(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return pn([Xt(ye(0))],t.prototype,"strokeWidth",void 0),pn([Xt(ye(0,1))],t.prototype,"dimOpacity",void 0),pn([Xt(ne)],t.prototype,"enabled",void 0),t}(),Dn=function(){function t(){this.color="black"}return pn([Xt(he)],t.prototype,"color",void 0),t}(),_n=function(){this.item=new kn,this.series=new On,this.text=new Dn},Cn=function(){function t(){this.enabled=!0,this.showArrow=void 0,this.interaction=new Mn,this.position=new rn}return pn([Xt(ee)],t.prototype,"enabled",void 0),pn([Xt(ne)],t.prototype,"showArrow",void 0),t}(),Mn=function(){function t(){this.enabled=!1}return pn([Xt(ee)],t.prototype,"enabled",void 0),t}(),En=function(t){function e(e){var n=t.call(this)||this;n.id=P(n),n.rootGroup=new et({name:"seriesRoot"}),n.directions=[Le.X,Le.Y],n.nodeDataRefresh=!0,n._data=void 0,n._visible=!0,n.showInLegend=!0,n.cursor="default",n.nodeClickRange="exact",n._declarationOrder=-1,n.highlightStyle=new _n,n.ctx=e.moduleCtx;var i=e.useSeriesGroupLayer,r=void 0===i||i,o=e.useLabelLayer,a=void 0!==o&&o,l=e.pickModes,s=void 0===l?[cn.NEAREST_BY_MAIN_AXIS_FIRST]:l,u=e.directionKeys,c=void 0===u?{}:u,h=e.directionNames,d=void 0===h?{}:h,p=n.rootGroup;return n.directionKeys=c,n.directionNames=d,n.contentGroup=p.appendChild(new et({name:n.id+"-content",layer:r,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return n._declarationOrder},0]})),n.highlightGroup=p.appendChild(new et({name:n.id+"-highlight",layer:!0,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return n._declarationOrder},15e3]})),n.highlightNode=n.highlightGroup.appendChild(new et({name:"highlightNode"})),n.highlightLabel=n.highlightGroup.appendChild(new et({name:"highlightLabel"})),n.highlightNode.zIndex=0,n.highlightLabel.zIndex=10,n.pickModes=s,a&&(n.labelGroup=p.appendChild(new et({name:n.id+"-series-labels",layer:!0,zIndex:Re.SERIES_LABEL_ZINDEX}))),n}return hn(e,t),Object.defineProperty(e.prototype,"type",{get:function(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),e.prototype.hasData=function(){var t=this.data;return t&&(!Array.isArray(t)||t.length>0)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChanged()},enumerable:!1,configurable:!0}),e.prototype.getBandScalePadding=function(){return{inner:1,outer:0}},e.prototype.addChartEventListeners=function(){},e.prototype.destroy=function(){},e.prototype.getDirectionValues=function(t,e){var n=this,i=this.resolveKeyDirection(t),r=null==e?void 0:e[i],o=[],a=function(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var r=yn(n),o=r.next();!o.done;o=r.next()){var a=o.value;l(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},l=function(t){Array.isArray(t)?a.apply(void 0,gn([],vn(t))):"object"==typeof t?a(Object.values(t)):o.push(t)};return r?(r.forEach((function(t){var e=n[t];l(e)})),o):o},e.prototype.getKeys=function(t){return this.getDirectionValues(t,this.directionKeys)},e.prototype.getNames=function(t){return this.getDirectionValues(t,this.directionNames)},e.prototype.resolveKeyDirection=function(t){return t},e.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},e.prototype.visibleChanged=function(){},e.prototype.getOpacity=function(t){var e=this.highlightStyle.series,n=e.dimOpacity,i=void 0===n?1:n,r=e.enabled;if(!1===(void 0===r||r)||1===i)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return i}},e.prototype.getStrokeWidth=function(t,e){var n=this.highlightStyle.series,i=n.strokeWidth,r=n.enabled;if(!1===(void 0===r||r)||void 0===i)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return i;case"no-highlight":case"other-highlighted":case"peer-highlighted":return t}},e.prototype.isItemIdHighlighted=function(t){var e,n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),i=null!=n?n:{},r=i.series,o=i.itemId;return null!=r?r!==this?"other-highlighted":void 0===o?"highlighted":t&&n!==t&&o!==t.itemId?"peer-highlighted":"highlighted":"no-highlight"},e.prototype.pickNode=function(t,e){var n,i,r=this.pickModes,o=this.visible,a=this.rootGroup;if(o&&a.visible)try{for(var l=yn(r),s=l.next();!s.done;s=l.next()){var u=s.value;if(!e||e.includes(u)){var c=void 0;switch(u){case cn.EXACT_SHAPE_MATCH:c=this.pickNodeExactShape(t);break;case cn.NEAREST_BY_MAIN_AXIS_FIRST:case cn.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:c=this.pickNodeMainAxisFirst(t,u===cn.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case cn.NEAREST_NODE:c=this.pickNodeClosestDatum(t)}if(c)return{pickMode:u,match:c.datum,distance:c.distance}}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},e.prototype.pickNodeExactShape=function(t){var e=this.contentGroup.pickNode(t.x,t.y);if(e)return{datum:e.datum,distance:0}},e.prototype.pickNodeClosestDatum=function(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},e.prototype.pickNodeMainAxisFirst=function(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},e.prototype.fireNodeClickEvent=function(t,e){var n=this.getNodeClickEvent(t,e);this.fireEvent(n)},e.prototype.fireNodeDoubleClickEvent=function(t,e){var n=this.getNodeDoubleClickEvent(t,e);this.fireEvent(n)},e.prototype.getNodeClickEvent=function(t,e){return new wn(t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new Sn(t,e,this)},e.prototype.toggleSeriesItem=function(t,e){this.visible=e,this.nodeDataRefresh=!0},e.prototype.isEnabled=function(){return this.visible},e.prototype.fixNumericExtent=function(t,e){var n,i=Ue(t);if(0===i.length)return i;var r=vn(i,2),o=r[0],a=r[1];if(o===a){var l=null!==(n=null==e?void 0:e.calculatePadding(o,a))&&void 0!==n?n:1;o-=l,a+=l}return[o,a]},e.highlightedZIndex=1e12,pn([Xt(ie)],e.prototype,"id",void 0),pn([Xt(ee)],e.prototype,"_visible",void 0),pn([Xt(ee)],e.prototype,"showInLegend",void 0),pn([Xt(ie)],e.prototype,"cursor",void 0),pn([Xt(Fe)],e.prototype,"nodeClickRange",void 0),e}(Tt),Pn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Nn=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===i&&(i=e),this.top=t,this.right=e,this.bottom=n,this.left=i}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},Pn([Xt(fe(0))],t.prototype,"top",void 0),Pn([Xt(fe(0))],t.prototype,"right",void 0),Pn([Xt(fe(0))],t.prototype,"bottom",void 0),Pn([Xt(fe(0))],t.prototype,"left",void 0),t}(),Tn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rn=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;if(e)this.resizeObserver=new e((function(e){var n,i;try{for(var r=Tn(e),o=r.next();!o.done;o=r.next()){var a=o.value,l=a.contentRect,s=l.width,u=l.height;t.checkSize(t.elements.get(a.target),a.target,s,u)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}));else{window.setInterval((function(){t.elements.forEach((function(e,n){t.checkClientSize(n,e)}))}),100)}this.ready=!0},t.checkSize=function(t,e,n,i){t&&(t.size&&n===t.size.width&&i===t.size.height||(t.size={width:n,height:i},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},t.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},t.checkClientSize=function(t,e){var n=t.clientWidth?t.clientWidth:0,i=t.clientHeight?t.clientHeight:0;this.checkSize(e,t,n,i)},t.elements=new Map,t.ready=!1,t}();function Ln(t,e,n,i,r){var o=t.x;t.x<e?o=e:t.x>e+i&&(o=e+i);var a=t.y;t.y<n?a=n:t.y>n+r&&(a=n+r);var l=t.x-o,s=t.y-a;return Math.sqrt(l*l+s*s)<=.5*t.size}function An(t,e,n,i,r){var o=t.x+t.width>e&&t.x<e+i,a=t.y+t.height>n&&t.y<n+r;return o&&a}var In=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},jn=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function Fn(t,e){var n,i,r=0,o=!1,a=function(){return o},l=function(){o=!1,null==i||i(),i=void 0,n=void 0,r>0&&t(s)},s=function(){var t=r;r=0,o=!0;var n=e({count:t});n?n.then(l).catch(l):l()};return{schedule:function(){0!==r||a()||t(s),r++},await:function(){return In(this,void 0,void 0,(function(){return jn(this,(function(t){switch(t.label){case 0:if(!a())return[2];n||(n=new Promise((function(t){i=t}))),t.label=1;case 1:return a()?[4,n]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))}}}function Bn(t,e,n,i){if(0===t)return function(t,e,n){if(0===t)return function(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}(e,n);var i=e*e-4*t*n,r=[];if(0===i){var o=-e/(2*t);o>=0&&o<=1&&r.push(o)}else if(i>0){var a=Math.sqrt(i),l=(-e-a)/(2*t),s=(-e+a)/(2*t);l>=0&&l<=1&&r.push(l),s>=0&&s<=1&&r.push(s)}return r}(e,n,i);var r=e/t,o=n/t,a=(3*o-r*r)/9,l=(9*r*o-27*(i/t)-2*r*r*r)/54,s=a*a*a+l*l,u=[];if(s>=0){var c=Math.sqrt(s),h=Math.sign(l+c)*Math.pow(Math.abs(l+c),1/3),d=Math.sign(l-c)*Math.pow(Math.abs(l-c),1/3),p=Math.abs(Math.sqrt(3)*(h-d)/2),f=-1/3*r+(h+d);if(f>=0&&f<=1&&u.push(f),0===p){var y=-1/3*r-(h+d)/2;y>=0&&y<=1&&u.push(y)}}else{var v=Math.acos(l/Math.sqrt(-a*a*a)),g=1/3*r,m=2*Math.sqrt(-a),b=m*Math.cos(1/3*v)-g,x=m*Math.cos(1/3*(v+2*Math.PI))-g,w=m*Math.cos(1/3*(v+4*Math.PI))-g;b>=0&&b<=1&&u.push(b),x>=0&&x<=1&&u.push(x),w>=0&&w<=1&&u.push(w)}return u}var zn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Wn(t,e,n,i,r,o,a,l){var s=(n-t)*(l-o)-(i-e)*(a-r);if(0===s)return null;var u=((a-r)*(e-o)-(t-r)*(l-o))/s,c=((n-t)*(e-o)-(i-e)*(t-r))/s;return u>=0&&u<=1&&c>=0&&c<=1?{x:t+u*(n-t),y:e+u*(i-e)}:null}function Kn(t,e,n,i,r,o,a,l,s,u,c,h){var d,p,f=[],y=u-h,v=c-s,g=s*(h-u)-u*(c-s),m=Gn(t,n,r,a),b=Gn(e,i,o,l),x=Bn(y*m[0]+v*b[0],y*m[1]+v*b[1],y*m[2]+v*b[2],y*m[3]+v*b[3]+g);try{for(var w=zn(x),S=w.next();!S.done;S=w.next()){var k=S.value,O=k*k,D=k*O,_=m[0]*D+m[1]*O+m[2]*k+m[3],C=b[0]*D+b[1]*O+b[2]*k+b[3],M=void 0;(M=s!==c?(_-s)/(c-s):(C-u)/(h-u))>=0&&M<=1&&f.push({x:_,y:C})}}catch(t){d={error:t}}finally{try{S&&!S.done&&(p=w.return)&&p.call(w)}finally{if(d)throw d.error}}return f}function Gn(t,e,n,i){return[3*e-t-3*n+i,3*t-6*e+3*n,-3*t+3*e,t]}function Xn(t,e,n,i,r,o,a,l,s,u){var c=(u-l)/(s-a),h=l-c*a,d=Math.pow(c,2)+1,p=2*(c*(h-e)-t),f=Math.pow(t,2)+Math.pow(h-e,2)-Math.pow(n,2),y=Math.pow(p,2)-4*d*f;if(y<0)return[];var v=(-p+Math.sqrt(y))/2/d,g=(-p-Math.sqrt(y))/2/d,m=[];return[v,g].forEach((function(t){if(t>=Math.min(a,s)&&t<=Math.max(a,s)){var e=c*t,n=pt(o?r:i),l=pt(o?i:r),u=pt(Math.atan2(e,t));l<=n&&(l+=2*Math.PI),u<n&&(u+=2*Math.PI),u>=n&&u<=l&&m.push({x:t,y:e})}})),m}var Yn,Hn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.Move=0]="Move",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Curve=3]="Curve",t[t.ClosePath=4]="ClosePath"}(Yn||(Yn={}));var Vn=function(){function t(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath)return!0;if(this.previousCommands.length!==this.commands.length)return!0;if(this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},t.prototype.draw=function(t){var e,n,i=this.commands,r=this.params,o=0;t.beginPath();try{for(var a=Hn(i),l=a.next();!l.done;l=a.next()){switch(l.value){case Yn.Move:t.moveTo(r[o++],r[o++]);break;case Yn.Line:t.lineTo(r[o++],r[o++]);break;case Yn.Curve:t.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case Yn.Arc:t.arc(r[o++],r[o++],r[o++],r[o++],r[o++],1===r[o++]);break;case Yn.ClosePath:t.closePath()}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}0===i.length&&t.closePath()},t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(Yn.Move),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push(Yn.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,i){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath()},t.prototype.arc=function(t,e,n,i,r,o){void 0===o&&(o=!1);var a=t+n*Math.cos(r),l=e+n*Math.sin(r);this.xy?(this.xy[0]=a,this.xy[1]=l):this.xy=[a,l],this.commands.push(Yn.Arc),this.params.push(t,e,n,i,r,o?1:0)},t.prototype.cubicCurveTo=function(t,e,n,i,r,o){this.xy||this.moveTo(t,e),this.commands.push(Yn.Curve),this.params.push(t,e,n,i,r,o),this.xy[0]=r,this.xy[1]=o},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(Yn.ClosePath),this._closedPath=!0)},t.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,i=this.params,r=n.length,o=-1e4,a=-1e4,l=NaN,s=NaN,u=0,c=0,h=0,d=0,p=0;d<r;d++)switch(n[d]){case Yn.Move:isNaN(l)||Wn(l,s,u,c,o,a,t,e)&&h++,l=u=i[p++],s=c=i[p++];break;case Yn.Line:Wn(u,c,i[p++],i[p++],o,a,t,e)&&h++,u=i[p-2],c=i[p-1];break;case Yn.Curve:h+=Kn(u,c,i[p++],i[p++],i[p++],i[p++],i[p++],i[p++],o,a,t,e).length,u=i[p-2],c=i[p-1];break;case Yn.Arc:h+=Xn(i[p++],i[p++],i[p++],i[p++],i[p++],Boolean(i[p++]),o,a,t,e).length,u=i[p-2],c=i[p-1];break;case Yn.ClosePath:isNaN(l)||Wn(l,s,u,c,o,a,t,e)&&h++}return h%2==1},t}(),Un=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function qn(t){var e=null!=t?t:{},n=e.redraw,i=void 0===n?w.MAJOR:n,r=e.changeCb;return T({redraw:i,type:"path",convertor:e.convertor,changeCb:r})}var Jn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new Vn,e._dirtyPath=!0,e}return Un(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,w.MAJOR))},enumerable:!1,configurable:!0}),e.prototype.checkPathDirty=function(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isDirtyPath=function(){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(e){var n,i,r=e.ctx,o=e.forceRender,a=e.stats;if(this.dirty!==w.NONE||o){if(this.computeTransformMatrix(),this.matrix.toContext(r),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(r.save(),"normal"===this.clipMode&&(this.clipPath.draw(r),r.clip()),this.path.draw(r),this.fillStroke(r),"punch-out"===this.clipMode){this.clipPath.draw(r),r.clip();var l=null!==(n=this.computeBBox())&&void 0!==n?n:{},s=l.x,u=void 0===s?-1e4:s,c=l.y,h=void 0===c?-1e4:c,d=l.width,p=void 0===d?2e4:d,f=l.height,y=void 0===f?2e4:f;r.clearRect(u,h,p,y)}r.restore()}else this.path.draw(r),this.fillStroke(r);null===(i=this.fillShadow)||void 0===i||i.markClean(),t.prototype.render.call(this,e)}else a&&(a.nodesSkipped+=this.nodeCount.count)},e.className="Path",Zn([qn()],e.prototype,"clipPath",void 0),Zn([qn()],e.prototype,"clipMode",void 0),e}(xt),$n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ti=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ei=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return $n(e,t),e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.size,i=n/2;return new D(t-i,e-i,n,n)},e.prototype.applyPath=function(t,e){var n,i,r=this.path,o=this.x,a=this.y;r.clear();try{for(var l=ti(e),s=l.next();!s.done;s=l.next()){var u=s.value,c=u.x,h=u.y,d=u.t;o+=c*t,a+=h*t,"move"===d?r.moveTo(o,a):r.lineTo(o,a)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}r.closePath()},Qn([qn()],e.prototype,"x",void 0),Qn([qn()],e.prototype,"y",void 0),Qn([qn({convertor:Math.abs})],e.prototype,"size",void 0),e}(Jn),ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ni(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,i=this.size/2;n.clear(),n.arc(t,e,i,0,2*Math.PI),n.closePath()},e.className="Circle",e}(ei),ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oi=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ai=["circle","cross","diamond","heart","plus","square","triangle"],li=Yt((function(t){return ai.includes(t)||Object.getPrototypeOf(t)===ei}),"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),si=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=ii,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return ri(e,t),oi([Xt(ee),T({redraw:w.MAJOR})],e.prototype,"enabled",void 0),oi([Xt(li),T({redraw:w.MAJOR})],e.prototype,"shape",void 0),oi([Xt(fe(0)),T({redraw:w.MAJOR})],e.prototype,"size",void 0),oi([Xt(fe(0)),T({redraw:w.MAJOR})],e.prototype,"maxSize",void 0),oi([Xt(me),T({redraw:w.MAJOR})],e.prototype,"domain",void 0),oi([Xt(he),T({redraw:w.MAJOR})],e.prototype,"fill",void 0),oi([Xt(he),T({redraw:w.MAJOR})],e.prototype,"stroke",void 0),oi([Xt(ye(0)),T({redraw:w.MAJOR})],e.prototype,"strokeWidth",void 0),oi([Xt(ye(0,1)),T({redraw:w.MAJOR})],e.prototype,"fillOpacity",void 0),oi([Xt(ye(0,1)),T({redraw:w.MAJOR})],e.prototype,"strokeOpacity",void 0),e}(L),ui=function(){function t(t,e){this._nodes=[],this._data=[],this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(W,e)?function(){return new e}:e}return t.select=function(e,n){return new t(e,n)},t.prototype.each=function(t){return this._nodes.forEach((function(e,n){return t(e,e.datum,n)})),this},t.prototype.update=function(t,e){var n=this,i=this._data,r=this._parent,o=this._factory;t.length>i.length?t.slice(i.length).forEach((function(t){var i=o(t);i.datum=t,null==e||e(i),r.appendChild(i),n._nodes.push(i)})):t.length<i.length&&this._nodes.splice(t.length).forEach((function(t){r.removeChild(t)})),this._data=t.slice(0);for(var a=0;a<t.length;a++)this._nodes[a].datum=this._data[a];return this},t.prototype.clear=function(){return this.update([]),this},t.selectAll=function(t,e){var n=[],i=function(t){e(t)&&n.push(t),t.children.forEach(i)};return i(t),n},t.selectByClass=function(e,n){return t.selectAll(e,(function(t){return t instanceof n}))},t.selectByTag=function(e,n){return t.selectAll(e,(function(t){return t.tag===n}))},t.prototype.select=function(e){return t.selectAll(this._parent,e)},t.prototype.selectByClass=function(t){return this.select((function(e){return e instanceof t}))},t.prototype.selectByTag=function(t){return this.select((function(e){return e.tag===t}))},t.prototype.nodes=function(){return this._nodes},t}(),ci=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};function hi(t,e,n){return Math.max(e,Math.min(n,t))}var di=function(){function t(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var n=this.index;t.forEach((function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)})),this._domain=e},enumerable:!1,configurable:!0}),t.prototype.ticks=function(){this.refresh();var t=this.interval,e=void 0===t?1:t,n=Math.abs(Math.round(e));return this._domain.filter((function(t,e){return e%n==0}))},t.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},t.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex((function(e){return e===t}));return this.domain[e]},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=hi(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=hi(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=hi(t,0,1)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,n=this._paddingInner,i=this._paddingOuter,r=ci(this.range,2),o=r[0],a=r[1]-o,l=a/Math.max(1,t+2*i-n),s=e?Math.floor(l):l,u=o+(a-s*(t-n))/2,c=e?Math.round(u):u,h=s*(1-n),d=e?Math.round(h):h,p=l*(1-n),f=[],y=0;y<t;y++)f.push(c+s*y);this._bandwidth=d,this._rawBandwidth=p,this.ordinalRange=f}},t}(),pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fi=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},yi=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return pi(e,t),e.prototype.computeBBox=function(){return new D(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,i=e.ctx,r=e.forceRender,o=e.stats;if(this.dirty!==w.NONE||r){this.computeTransformMatrix(),this.matrix.toContext(i);var a=this.x1,l=this.y1,s=this.x2,u=this.y2;if(a===s){var c=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=c,s=c}else if(l===u){var h=Math.round(l)+Math.floor(this.strokeWidth)%2/2;l=h,u=h}i.beginPath(),i.moveTo(a,l),i.lineTo(s,u),this.fillStroke(i),null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count)},e.className="Line",e.defaultStyles=Object.assign({},xt.defaultStyles,{fill:void 0,strokeWidth:1}),fi([T({redraw:w.MAJOR})],e.prototype,"x1",void 0),fi([T({redraw:w.MAJOR})],e.prototype,"y1",void 0),fi([T({redraw:w.MAJOR})],e.prototype,"x2",void 0),fi([T({redraw:w.MAJOR})],e.prototype,"y2",void 0),e}(xt);function vi(t,e,n){return void 0===n&&(n=1e-10),Math.abs(t-e)<n}function gi(t,e){void 0===e&&(e=2);var n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}var mi,bi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xi=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(mi||(mi={}));var wi=function(t){function e(){var e=t.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=mi.Open,e.restoreOwnStyles(),e}return bi(e,t),Object.defineProperty(e.prototype,"fullPie",{get:function(){return vi(pt(this.startAngle),pt(this.endAngle))},enumerable:!1,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===mi.Chord?t.closePath():this.type!==mi.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new D(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),i=this.computeBBox();return this.type!==mi.Open&&i.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},e.className="Arc",e.defaultStyles=Object.assign({},xt.defaultStyles,{lineWidth:1,fillStyle:null}),xi([qn()],e.prototype,"centerX",void 0),xi([qn()],e.prototype,"centerY",void 0),xi([qn()],e.prototype,"radius",void 0),xi([qn()],e.prototype,"startAngle",void 0),xi([qn()],e.prototype,"endAngle",void 0),xi([qn()],e.prototype,"counterClockwise",void 0),xi([qn()],e.prototype,"type",void 0),e}(Jn);function Si(t,e){return Gt((function(n,i,r){return n[t][null!=e?e:i]=r,r}))}function ki(t){var e=t.newValue,n=t.oldValue,i=t.changeValue;return Gt((function(t,r,o,a){return o!==a&&(void 0!==a&&(null==n||n.call(t,a)),void 0!==o&&(null==e||e.call(t,o)),null==i||i.call(t,o,a)),o}))}var Oi=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Di=function(){function t(){this.node=new Dt,this.enabled=!1,this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.spacing=t.PADDING,this.lineHeight=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.wrapping="always";var e=this.node;e.textAlign="center",e.pointerEvents=R.None}return t.prototype.computeTextWrap=function(t,e){var n,i,r=this.text,o=this.wrapping,a=Math.min(null!==(n=this.maxWidth)&&void 0!==n?n:1/0,t),l=null!==(i=this.maxHeight)&&void 0!==i?i:e;if(isFinite(a)||isFinite(l)){var s=Dt.wrap(null!=r?r:"",a,l,this,o);this.node.text=s}else this.node.text=r},t.PADDING=10,Oi([Xt(ee)],t.prototype,"enabled",void 0),Oi([Xt(re),Si("node")],t.prototype,"text",void 0),Oi([Xt(Oe),Si("node")],t.prototype,"fontStyle",void 0),Oi([Xt(_e),Si("node")],t.prototype,"fontWeight",void 0),Oi([Xt(fe(0)),Si("node")],t.prototype,"fontSize",void 0),Oi([Xt(ie),Si("node")],t.prototype,"fontFamily",void 0),Oi([Xt(he),Si("node","fill")],t.prototype,"color",void 0),Oi([Xt(ye(0))],t.prototype,"spacing",void 0),Oi([Xt(ye(0))],t.prototype,"lineHeight",void 0),Oi([Xt(ye(0))],t.prototype,"maxWidth",void 0),Oi([Xt(ye(0))],t.prototype,"maxHeight",void 0),Oi([Xt(ze)],t.prototype,"wrapping",void 0),t}();function _i(t,e){return t.length===e.length&&t.every((function(t,n){var i=e[n];return Array.isArray(t)&&Array.isArray(i)?_i(t,i):t===i}))}function Ci(t,e){return t.length===e.length&&t.every((function(t,n){return Number(t)===Number(e[n])}))}var Mi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Ei=function(){function t(e,n){this.domain=e,this.range=n,this.nice=!1,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return t.prototype.transform=function(t){return t},t.prototype.transformInvert=function(t){return t},t.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},t.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},t.prototype.convert=function(t,e){var n,i=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var r=null!==(n=null==e?void 0:e.strict)&&void 0!==n?n:this.strictClampByDefault,o=this.getDomain().map((function(t){return i.transform(t)})),a=Mi(o,2),l=a[0],s=a[1],u=this.range,c=Mi(u,2),h=c[0],d=c[1];return(t=this.transform(t))<l?r?NaN:h:t>s?r?NaN:d:l===s?(h+d)/2:t===l?h:t===s?d:h+(this.fromDomain(t)-this.fromDomain(l))/(this.fromDomain(s)-this.fromDomain(l))*(d-h)},t.prototype.invert=function(t){var e=this;this.refresh();var n,i=this.getDomain().map((function(t){return e.transform(t)})),r=Mi(i,2),o=r[0],a=r[1],l=this.range,s=Mi(l,2),u=s[0],c=s[1],h=u>c;return t<(h?c:u)?h?a:o:t>(h?u:c)?h?o:a:(n=u===c?this.toDomain((this.fromDomain(o)+this.fromDomain(a))/2):this.toDomain(this.fromDomain(o)+(t-u)/(c-u)*(this.fromDomain(a)-this.fromDomain(o))),this.transformInvert(n))},t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},t.prototype.isDenseInterval=function(t){var e=t.start,n=t.stop,i=t.interval,r=t.count,o=this.range,a=n-e,l=Math.min(o[0],o[1]);return null!=r||(r=a/("number"==typeof i?i:1)),r>=Math.max(o[0],o[1])-l&&(U.warn("the configured tick interval results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},t.defaultTickCount=5,t.defaultMaxTickCount=6,t}(),Pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ni(t,e,n,i,r){if(n<2)return Ai(t,e,e-t);var o=Ri(t,e,n,i,r);return isNaN(o)?new Li(0):Ai(t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o,o)}var Ti=[1,2,5,10];function Ri(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=1/0);var o=(e-t)/n,a=Math.floor(Math.log10(o)),l=Math.pow(10,a),s=Ti.map((function(o){var a=o*l,s=Math.ceil((e-t)/a);return{multiplier:o,isWithinBounds:s>=i&&s<=r,diffCount:Math.abs(s-n)}})).sort((function(t,e){return t.isWithinBounds!==e.isWithinBounds?t.isWithinBounds?-1:1:t.diffCount-e.diffCount}))[0].multiplier;return!s||isNaN(s)?NaN:s*l}var Li=function(t){function e(e,n){var i=t.call(this)||this;if(n)for(var r=0,o=n.length;r<o;r++)i[r]=n[r];return i.fractionDigits=e,i}return Pi(e,t),e}(Array);function Ai(t,e,n){for(var i=function(t){var e,n,i=t.split("e");return Math.max((null!==(n=null===(e=i[0].split(".")[1])||void 0===e?void 0:e.length)&&void 0!==n?n:0)-Number(i[1]),0)}((n%1).toExponential()),r=Math.pow(10,i),o=Math.ceil((e-t)/n),a=new Li(i),l=0;l<=o;l++){var s=t+n*l;a.push(Math.round(s*r)/r)}return a}var Ii={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function ji(t,e){void 0===e&&(e=new Date(t.getFullYear(),0,1));var n=t.getTimezoneOffset()-e.getTimezoneOffset(),i=t.getTime()-e.getTime()+6e4*n;return Math.floor(i/864e5)}function Fi(t,e){var n=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,i=new Date(t.getFullYear(),0,n+1);return i<=t?Math.floor(ji(t,i)/7)+1:0}var Bi={a:function(t){return Ii.shortDays[t.getDay()]},A:function(t){return Ii.days[t.getDay()]},b:function(t){return Ii.shortMonths[t.getMonth()]},B:function(t){return Ii.months[t.getMonth()]},c:"%x, %X",d:function(t,e){return Wi(t.getDate(),2,null!=e?e:"0")},e:"%_d",f:function(t,e){return Wi(1e3*t.getMilliseconds(),6,null!=e?e:"0")},H:function(t,e){return Wi(t.getHours(),2,null!=e?e:"0")},I:function(t,e){var n=t.getHours()%12;return 0===n?"12":Wi(n,2,null!=e?e:"0")},j:function(t,e){return Wi(ji(t)+1,3,null!=e?e:"0")},m:function(t,e){return Wi(t.getMonth()+1,2,null!=e?e:"0")},M:function(t,e){return Wi(t.getMinutes(),2,null!=e?e:"0")},L:function(t,e){return Wi(t.getMilliseconds(),3,null!=e?e:"0")},p:function(t){return t.getHours()<12?"AM":"PM"},Q:function(t){return String(t.getTime())},s:function(t){return String(Math.floor(t.getTime()/1e3))},S:function(t,e){return Wi(t.getSeconds(),2,null!=e?e:"0")},u:function(t){var e=t.getDay();return e<1&&(e+=7),String(e%7)},U:function(t,e){return Wi(Fi(t,0),2,null!=e?e:"0")},V:function(t,e){return Wi(function t(e,n){void 0===n&&(n=e.getFullYear());var i=new Date(n,0,1).getDay(),r=new Date(n,0,(4-i+7)%7-3+1);return r<=e?Math.floor(ji(e,r)/7)+1:t(e,n-1)}(t),2,null!=e?e:"0")},w:function(t,e){return Wi(t.getDay(),2,null!=e?e:"0")},W:function(t,e){return Wi(Fi(t,1),2,null!=e?e:"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(t,e){return Wi(t.getFullYear()%100,2,null!=e?e:"0")},Y:function(t,e){return Wi(t.getFullYear(),4,null!=e?e:"0")},Z:function(t){return function(t){var e=t.getTimezoneOffset(),n=Math.abs(e);return""+(e>0?"-":"+")+Wi(Math.floor(n/60),2,"0")+Wi(Math.floor(n%60),2,"0")}(t)},"%":function(){return"%"}},zi={_:" ",0:"0","-":""};function Wi(t,e,n){var i=String(Math.floor(t));return i.length>=e?i:""+n.repeat(e-i.length)+i}function Ki(t){for(var e=[];t.length>0;){var n=t.indexOf("%");if(0!==n){var i=n>0?t.substring(0,n):t;e.push(i)}if(n<0)break;var r=t[n+1],o=zi[r];null!=o&&n++;var a=t[n+1],l=Bi[a];if("function"==typeof l)e.push([l,o]);else if("string"==typeof l){var s=Ki(l);e.push([s,o])}else e.push(""+(null!=o?o:"")+a);t=t.substring(n+2)}return function(t){var n="number"==typeof t?new Date(t):t;return e.map((function(t){return"string"==typeof t?t:t[0](n,t[1])})).join("")}}var Gi,Xi,Yi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Ui=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};!function(t){t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR"}(Xi||(Xi={}));var Zi=((Gi={})[Xi.MILLISECOND]=".%L",Gi[Xi.SECOND]=":%S",Gi[Xi.MINUTE]="%I:%M",Gi[Xi.HOUR]="%I %p",Gi[Xi.WEEK_DAY]="%a",Gi[Xi.SHORT_MONTH]="%b %d",Gi[Xi.MONTH]="%B",Gi[Xi.SHORT_YEAR]="%y",Gi[Xi.YEAR]="%Y",Gi);function qi(t){return t instanceof Date?t.getTime():t}var Ji,$i=function(t){function e(){var e=t.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=m,e.month=g,e.week=v,e.day=p,e.hour=d,e.minute=c,e.second=s,e.millisecond=a,e.tickIntervals=[[e.second,1,1e3],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,6e4],[e.minute,5,3e5],[e.minute,15,9e5],[e.minute,30,18e5],[e.hour,1,36e5],[e.hour,3,108e5],[e.hour,6,216e5],[e.hour,12,432e5],[e.day,1,864e5],[e.day,2,1728e5],[e.week,1,6048e5],[e.week,2,12096e5],[e.week,3,18144e5],[e.month,1,2592e6],[e.month,2,5184e6],[e.month,3,7776e6],[e.month,4,10368e6],[e.month,6,15552e6],[e.year,1,31536e6]],e}return Yi(e,t),e.prototype.toDomain=function(t){return new Date(t)},e.prototype.calculateDefaultTickFormat=function(t){var e,n;void 0===t&&(t=[]);var i=Xi.YEAR,r=function(t){t<i&&(i=t)};try{for(var o=Hi(t),a=o.next();!a.done;a=o.next()){var l=a.value;r(this.getLowestGranularityFormat(l))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}var s=qi(t[0]),u=qi(t[t.length-1]),c=new Date(s).getFullYear(),h=new Date(u).getFullYear()-c>0;return this.buildFormatString(i,h)},e.prototype.buildFormatString=function(t,e){var n=[Zi[t]],i=0,r=this.getDomain(),o=Math.min.apply(Math,Ui([],Vi(r.map(qi)))),a=Math.max.apply(Math,Ui([],Vi(r.map(qi))))-o;switch(t){case Xi.SECOND:a/6e4>1&&n.push(Zi[Xi.MINUTE]);case Xi.MINUTE:a/36e5>1&&n.push(Zi[Xi.HOUR]);case Xi.HOUR:i=n.length,a/864e5>1&&n.push(Zi[Xi.WEEK_DAY]);case Xi.WEEK_DAY:if(a/6048e5>1||e){var l=n.indexOf(Zi[Xi.WEEK_DAY]);l>-1&&n.splice(l,1,Zi[Xi.SHORT_MONTH])}case Xi.SHORT_MONTH:case Xi.MONTH:(a/31536e6>1||e)&&n.push(Zi[Xi.YEAR])}return i<n.length&&(n=Ui(Ui([],Vi(n.slice(0,i))),[n.slice(i).join(" ")])),i>0&&i<(n=Ui(Ui([],Vi(n.slice(0,i).reverse())),Vi(n.slice(i)))).length&&n.splice(i,0," "),n.join("")},e.prototype.getLowestGranularityFormat=function(t){return this.second.floor(t)<t?Xi.MILLISECOND:this.minute.floor(t)<t?Xi.SECOND:this.hour.floor(t)<t?Xi.MINUTE:this.day.floor(t)<t?Xi.HOUR:this.month.floor(t)<t?this.week.floor(t)<t?Xi.WEEK_DAY:Xi.SHORT_MONTH:this.year.floor(t)<t?Xi.MONTH:Xi.YEAR},e.prototype.defaultTickFormat=function(t){var e=this.calculateDefaultTickFormat(t);return function(t){return Ki(e)(t)}},e.prototype.getTickInterval=function(t){for(var e,n,i,r=t.start,o=t.stop,a=t.count,l=t.minCount,s=t.maxCount,u=this.tickIntervals,c=null!=a?a:Ei.defaultTickCount,h=Math.abs(o-r)/Math.max(c,1),d=0;d<u.length&&h>u[d][2];)d++;if(0===d)i=Math.max(Ri(r,o,c,l,s),1),n=this.millisecond;else if(d===u.length){i=Ri(r/31536e6,o/31536e6,c,l,s),n=this.year}else{var p=h-u[d-1][2],f=u[d][2]-h;n=(e=Vi(u[p<f?d-1:d],2))[0],i=e[1]}return n.every(i)},e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var t=Vi(this.getDomain().map(qi),2),e=t[0],n=t[1];if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:n});if(this.nice){var i=this.tickCount;if(2===i)return this.niceDomain;if(1===i)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:n})},e.prototype.getDefaultTicks=function(t){var e=t.start,n=t.stop,i=this.getTickInterval({start:e,stop:n,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return i?i.range(new Date(e),new Date(n)):[]},e.prototype.getTicksForInterval=function(t){var e=t.start,n=t.stop,i=this.interval,o=this.tickIntervals;if(!i)return[];if(i instanceof r){var a=i.range(new Date(e),new Date(n));return this.isDenseInterval({start:e,stop:n,interval:i,count:a.length})?this.getDefaultTicks({start:e,stop:n}):a}var l=Math.abs(i);if(this.isDenseInterval({start:e,stop:n,interval:l}))return this.getDefaultTicks({start:e,stop:n});var s=Ui([],Vi(o));s.reverse();var u=s.find((function(t){return l%t[2]==0}));if(u)return u[0].every(l/(u[2]/u[1])).range(new Date(e),new Date(n));for(var c=new Date(e),h=new Date(n),d=[];c<=h;)d.push(c),(c=new Date(c)).setMilliseconds(c.getMilliseconds()+l);return d},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return null==n?this.defaultTickFormat(e):Ki(n)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){for(var t=Vi(this.domain,2),e=t[0],n=t[1],i=0;i<4;i++){this.updateNiceDomainIteration(e,n);var r=Vi(this.niceDomain,2),o=r[0],a=r[1];if(qi(e)===qi(o)&&qi(n)===qi(a))break;e=o,n=a}},e.prototype.updateNiceDomainIteration=function(t,e){var n,i=qi(t),o=qi(e),a=this.interval;if(a instanceof r)n=a;else{var l="number"==typeof a?(o-i)/Math.max(a,1):this.tickCount;n=this.getTickInterval({start:i,stop:o,count:l,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(n){var s=n.range(t,e,!0),u=s[0],c=s[s.length-1];this.niceDomain=[u,c]}},e}(Ei),Qi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},tr=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},er=function(t){return"("+t+")"},nr=function(t){return er(t)+"?"},ir=function(t){return nr("?:"+t)},rr=new RegExp(["^",ir(""+nr(".")+er("[<>=^]")),nr("[+\\-( ]"),nr("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),nr("0"),nr("\\d+"),nr(","),ir("\\."+er("\\d+")),nr("~"),nr("[%a-z]"),"$"].join(""),"i"),or=new RegExp(["^",er(".*?"),"#\\{"+er(".+?")+"\\}",er(".*?"),"$"].join(""));function ar(t){var e,n,i,r=or.exec(t);r&&(n=(e=Qi(r,4))[1],t=e[2],i=e[3]);var o=rr.exec(t);if(!o)throw new Error("The number formatter is invalid: "+t);var a=Qi(o,11),l=a[1],s=a[2],u=a[3],c=a[4],h=a[5],d=a[6],p=a[7],f=a[8],y=a[9],v=a[10];return{fill:l,align:s,sign:u,symbol:c,zero:h,width:parseInt(d),comma:p,precision:parseInt(f),trim:Boolean(y),type:v,prefix:n,suffix:i}}function lr(t){var e,n="string"==typeof t?ar(t):t,i=n.fill,r=n.align,o=n.sign,a=void 0===o?"-":o,l=n.symbol,s=n.zero,u=n.width,c=n.comma,h=n.type,d=n.prefix,p=void 0===d?"":d,f=n.suffix,y=void 0===f?"":f,v=n.precision,g=n.trim;if(h)if(h in cr&&h in ur)e=isNaN(v)?ur[h]:cr[h];else if(h in cr)e=cr[h];else{if(!(h in ur))throw new Error("The number formatter type is invalid: "+h);e=ur[h]}else e=cr.g,g=!0;return isNaN(v)&&(v=h?6:12),function(t){var n=e(t,v);return g&&(n=n.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),c&&(n=function(t,e){var n=t.indexOf(".");n<0&&(n=t.length);for(var i=t.substring(0,n).split(""),r=t.substring(n),o=i.length-3;o>0;o-=3)i.splice(o,0,e);return""+i.join("")+r}(n,c)),n=function(t,e,n){void 0===n&&(n="");if("("===n)return t>=0?e:"("+e+")";var i="+"===n?"+":"";return""+(t>=0?i:"\u2212")+e}(t,n,a),l&&"#"!==l&&(n=""+l+n),"#"===l&&"x"===h&&(n="0x"+n),"s"===h&&(n=""+n+function(t){return fr[hr(t)]}(t)),"%"!==h&&"p"!==h||(n+="%"),isNaN(u)||(n=function(t,e,n,i){void 0===n&&(n=" ");void 0===i&&(i=">");var r=t;if(">"!==i&&i){if("<"===i)r=r.padEnd(e,n);else if("^"===i){var o=Math.max(0,e-r.length),a=Math.ceil(o/2),l=Math.floor(o/2);r=(r=r.padStart(a+r.length,n)).padEnd(l+r.length,n)}}else r=r.padStart(e,n);return r}(n,u,null!=i?i:s,r)),n=""+p+n+y}}var sr=function(t){return Math.floor(Math.abs(t))},ur={b:function(t){return sr(t).toString(2)},c:function(t){return String.fromCharCode(t)},d:function(t){return Math.round(Math.abs(t)).toFixed(0)},o:function(t){return sr(t).toString(8)},x:function(t){return sr(t).toString(16)},X:function(t){return ur.x(t).toUpperCase()},n:function(t){return ur.d(t)},"%":function(t){return""+sr(100*t).toFixed(0)}},cr={e:function(t,e){return Math.abs(t).toExponential(e)},E:function(t,e){return cr.e(t,e).toUpperCase()},f:function(t,e){return Math.abs(t).toFixed(e)},F:function(t,e){return cr.f(t,e).toUpperCase()},g:function(t,e){if(0===t)return"0";var n=Math.abs(t),i=Math.floor(Math.log10(n));return i>=-4&&i<e?n.toFixed(e-1-i):n.toExponential(e-1)},G:function(t,e){return cr.g(t,e).toUpperCase()},n:function(t,e){return cr.g(t,e)},p:function(t,e){return cr.r(100*t,e)},r:function(t,e){if(0===t)return"0";var n=Math.abs(t),i=Math.floor(Math.log10(n))-(e-1);if(i<=0)return n.toFixed(-i);var r=Math.pow(10,i);return(Math.round(n/r)*r).toFixed()},s:function(t,e){var n=hr(t);return cr.r(t/Math.pow(10,n),e)},"%":function(t,e){return cr.f(100*t,e)}};function hr(t){var e=Math.log10(Math.abs(t)),n=3*Math.floor(e/3);return Math.max(dr,Math.min(pr,n))}var dr=-24,pr=24,fr=((Ji={})[dr]="y",Ji[-21]="z",Ji[-18]="a",Ji[-15]="f",Ji[-12]="p",Ji[-9]="n",Ji[-6]="\xb5",Ji[-3]="m",Ji[0]="",Ji[3]="k",Ji[6]="M",Ji[9]="G",Ji[12]="T",Ji[15]="P",Ji[18]="E",Ji[21]="Z",Ji[pr]="Y",Ji);var yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vr=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},gr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},mr=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},br=function(t){return t},xr=function(t){function e(){var e=t.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=br,e.basePow=br,e.log=function(t){return e.domain[0]>=0?e.baseLog(t):-e.baseLog(-t)},e.pow=function(t){return e.domain[0]>=0?e.basePow(t):-e.basePow(-t)},e}return yr(e,t),e.prototype.toDomain=function(t){return t},e.prototype.transform=function(t){return this.domain[0]>=0?Math.log(t):-Math.log(-t)},e.prototype.transformInvert=function(t){return this.domain[0]>=0?Math.exp(t):-Math.exp(-t)},e.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},e.prototype.updateLogFn=function(){var t,e=this.base;if(10===e)t=Math.log10;else if(e===Math.E)t=Math.log;else if(2===e)t=Math.log2;else{var n=Math.log(e);t=function(t){return Math.log(t)/n}}this.baseLog=t},e.prototype.updatePowFn=function(){var t,n=this.base;t=10===n?e.pow10:n===Math.E?Math.exp:function(t){return Math.pow(n,t)},this.basePow=t},e.prototype.updateNiceDomain=function(){var t=gr(this.domain,2),e=t[0],n=t[1],i=this.pow(Math.floor(this.log(e))),r=this.pow(Math.ceil(this.log(n)));this.niceDomain=[i,r]},e.pow10=function(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)},e.prototype.ticks=function(){var t,e=this,n=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||n<1)return[];this.refresh();var i=this.base,r=gr(this.getDomain(),2),o=r[0],a=r[1],l=this.log(o),s=this.log(a);if(this.interval){var u=Math.abs(this.interval),c=Math.abs(s-l),h=Ai(l,s,Math.min(c,u)).map((function(t){return e.pow(t)})).filter((function(t){return t>=o&&t<=a}));if(!this.isDenseInterval({start:o,stop:a,interval:u,count:h.length}))return h}if(!(i%1==0)||s-l>=n)return Ni(l,s,Math.min(s-l,n)).map((function(t){return e.pow(t)}));var d=[],p=o>0;l=Math.floor(l)-1,s=Math.round(s)+1;for(var f=Math.min.apply(Math,mr([],gr(this.range))),y=(Math.max.apply(Math,mr([],gr(this.range)))-f)/n,v=1/0,g=l;g<=s;g++)for(var m=this.convert(this.pow(g+1)),b=1;b<i;b++){var x=p?b:i-b+1,w=this.pow(g)*x,S=this.convert(w),k=Math.abs(v-S),O=Math.abs(S-m);w>=o&&w<=a&&(1===b||k>=y&&O>=y)&&(d.push(w),v=S)}return d},e.prototype.tickFormat=function(t){var e=t.count,n=t.ticks,i=t.specifier,r=this.base;return null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=lr(i)),e===1/0?i:(null==n&&this.ticks(),function(t){return i(t)})},vr([Xt(fe(0))],e.prototype,"base",void 0),e}(Ei);function wr(t,e){return void 0===e&&(e=[void 0]),Gt((function(n,i,r){return e.includes(r)?t:r}))}function Sr(t){var e=t.length;if(0!==e){for(var n=1/0,i=-1/0,r=0;r<e;r++){var o=t[r];o instanceof Date&&(o=o.getTime()),"number"==typeof o&&(o<n&&(n=o),o>i&&(i=o))}var a=[n,i];if(!a.some((function(t){return!isFinite(t)})))return a}}var kr=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Or=function(){function t(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return t.prototype.getFont=function(){return _t(this)},kr([Xt(ee)],t.prototype,"enabled",void 0),kr([Xt(fe(0))],t.prototype,"fontSize",void 0),kr([Xt(ie)],t.prototype,"fontFamily",void 0),kr([Xt(Oe)],t.prototype,"fontStyle",void 0),kr([Xt(_e)],t.prototype,"fontWeight",void 0),kr([Xt(ce)],t.prototype,"color",void 0),t}();function Dr(t){var e=t.parallelFlipRotation,n=void 0===e?0:e,i=t.regularFlipRotation,r=void 0===i?0:i,o=t.rotation?pt(ft(t.rotation)):0,a=!o&&n>=0&&n<=Math.PI?-1:1,l=!o&&r>=0&&r<=Math.PI?-1:1,s=0;return t.parallel?s=a*Math.PI/2:-1===l&&(s=Math.PI),{configuredRotation:o,defaultRotation:s,parallelFlipFlag:a,regularFlipFlag:l}}function _r(t,e,n,i,r){var o=e>0&&e<=Math.PI,a=n>0&&n<=Math.PI;if(t){if(!e&&!n)return"center";if(i*(o||a?-1:1)==-1)return"end"}else if(i*r==-1)return"end";return"start"}function Cr(t,e,n,i,r){var o=e.width,a=e.height,l=new D(n,i,0,0);r.transformBBox(l,e);var s=e.x,u=void 0===s?0:s,c=e.y,h=void 0===c?0:c;return e.width=o,e.height=a,{point:{x:u,y:h,size:0},label:{width:o,height:a,text:t}}}var Mr,Er,Pr=function(){return(Pr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Nr=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Tr=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},Rr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Lr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ar=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Ir=Yt((function(t,e){return fe(0)(t,e)||t instanceof r}),"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),jr=Yt((function(t,e){return Ht(t,e,Ir)}),"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Fr=Yt((function(t,e){return Ht(t,e,(function(t,e){return 0!==t&&fe(0)(t,e)||t instanceof r}))}),"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Br=["stroke","lineDash"],zr=Yt(Vt(void 0,(function(t){for(var e in t)if(!Br.includes(e))return!1;return!0})),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'");!function(t){t[t.TickLine=0]="TickLine",t[t.TickLabel=1]="TickLabel",t[t.GridLine=2]="GridLine",t[t.GridArc=3]="GridArc",t[t.AxisLine=4]="AxisLine"}(Mr||(Mr={})),function(t){t[t.CREATE=0]="CREATE",t[t.CREATE_SECONDARY=1]="CREATE_SECONDARY",t[t.FILTER=2]="FILTER",t[t.VALUES=3]="VALUES"}(Er||(Er={}));var Wr=function(){function t(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return Nr([Xt(fe(0))],t.prototype,"width",void 0),Nr([Xt(he)],t.prototype,"color",void 0),t}(),Kr=function(){function t(){this.enabled=!0,this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}var e,n,i,r;return Nr([Xt(ee)],t.prototype,"enabled",void 0),Nr([Xt(fe(0))],t.prototype,"width",void 0),Nr([Xt(fe(0))],t.prototype,"size",void 0),Nr([Xt(he)],t.prototype,"color",void 0),Nr([Xt(jr),(e="Use tick.interval or tick.minSpacing and tick.maxSpacing instead",i=null==n?void 0:n.default,r=Je(),Gt((function(t,n,o){return o!==i&&r(n.toString(),e),o})))],t.prototype,"count",void 0),Nr([Xt(Fr)],t.prototype,"interval",void 0),Nr([Xt(Ut())],t.prototype,"values",void 0),Nr([Xt(Zt(ve(1),Jt("maxSpacing"))),wr(NaN)],t.prototype,"minSpacing",void 0),t}(),Gr=function(){function t(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return t.prototype.getSideFlag=function(){return this.mirrored?1:-1},t.prototype.getFont=function(){return _t(this)},Nr([Xt(ee)],t.prototype,"enabled",void 0),Nr([Xt(ne)],t.prototype,"autoWrap",void 0),Nr([Xt(ye(0))],t.prototype,"maxWidth",void 0),Nr([Xt(ye(0))],t.prototype,"maxHeight",void 0),Nr([Xt(Oe)],t.prototype,"fontStyle",void 0),Nr([Xt(_e)],t.prototype,"fontWeight",void 0),Nr([Xt(fe(1))],t.prototype,"fontSize",void 0),Nr([Xt(ie)],t.prototype,"fontFamily",void 0),Nr([Xt(fe(0))],t.prototype,"padding",void 0),Nr([Xt(ve()),wr(NaN)],t.prototype,"minSpacing",void 0),Nr([Xt(he)],t.prototype,"color",void 0),Nr([Xt(ye(-360,360))],t.prototype,"rotation",void 0),Nr([Xt(ne)],t.prototype,"autoRotate",void 0),Nr([Xt(fe(-360,360))],t.prototype,"autoRotateAngle",void 0),Nr([Xt(ee)],t.prototype,"avoidCollisions",void 0),Nr([Xt(ee)],t.prototype,"mirrored",void 0),Nr([Xt(ee)],t.prototype,"parallel",void 0),Nr([Xt(re)],t.prototype,"format",void 0),t}();!function(){function t(){this.enabled=!1,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.color=void 0,this.wrapping="always",this.formatter=void 0}Nr([Xt(ee)],t.prototype,"enabled",void 0),Nr([Xt(re)],t.prototype,"text",void 0),Nr([Xt(Oe)],t.prototype,"fontStyle",void 0),Nr([Xt(_e)],t.prototype,"fontWeight",void 0),Nr([Xt(fe(0))],t.prototype,"fontSize",void 0),Nr([Xt(ie)],t.prototype,"fontFamily",void 0),Nr([Xt(he)],t.prototype,"color",void 0),Nr([Xt(ze)],t.prototype,"wrapping",void 0),Nr([Xt(te)],t.prototype,"formatter",void 0)}();var Xr=function(){function t(t,e){this.moduleCtx=t,this.id=P(this),this.nice=!0,this.dataDomain=[],this.axisGroup=new et({name:this.id+"-axis",zIndex:Re.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new yi),this.tickLineGroup=this.axisGroup.appendChild(new et({name:this.id+"-Axis-tick-lines",zIndex:Re.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new et({name:this.id+"-Axis-tick-labels",zIndex:Re.AXIS_ZINDEX})),this.crossLineGroup=new et({name:this.id+"-CrossLines"}),this.gridGroup=new et({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new et({name:this.id+"-gridLines",zIndex:Re.AXIS_GRID_ZINDEX})),this.gridArcGroup=this.gridGroup.appendChild(new et({name:this.id+"-gridArcs",zIndex:Re.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=ui.select(this.tickLineGroup,yi),this.tickLabelGroupSelection=ui.select(this.tickLabelGroup,Dt),this.gridLineGroupSelection=ui.select(this.gridLineGroup,yi),this.gridArcGroupSelection=ui.select(this.gridArcGroup,wi),this._crossLines=[],this.line=new Wr,this.tick=this.createTick(),this.label=new Gr,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new Di,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.thickness=0,this.maxThickness=1/0,this._scale=e,this.refreshScale(),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node)}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var e,n,i=this;null===(e=this._crossLines)||void 0===e||e.forEach((function(t){return i.detachCrossLine(t)})),this._crossLines=t,null===(n=this._crossLines)||void 0===n||n.forEach((function(t){i.attachCrossLine(t),i.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},t.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},t.prototype.destroy=function(){},t.prototype.refreshScale=function(){var t,e=this;this.range=this.scale.range.slice(),null===(t=this.crossLines)||void 0===t||t.forEach((function(t){e.initCrossLine(t)}))},t.prototype.updateRange=function(){var t,e=this.range,n=this.visibleRange,i=this.scale,r=(e[1]-e[0])/(n[1]-n[0]),o=r*n[0],a=e[0]-o;i.range=[a,a+r],null===(t=this.crossLines)||void 0===t||t.forEach((function(t){t.clippedRange=[e[0],e[1]]}))},t.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},t.prototype.attachAxis=function(t,e){t.insertBefore(this.gridGroup,e),t.insertBefore(this.axisGroup,e),t.insertBefore(this.crossLineGroup,e)},t.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},t.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},t.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=this.range,r=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]);return t+e<r-n?-1:t>o+n?1:0},t.prototype.onLabelFormatChange=function(t,e){var n=this.scale,i=this.fractionDigits,r=!(n instanceof xr)&&i>0?function(t){return"number"==typeof t?t.toFixed(i):String(t)}:function(t){return String(t)};if(e&&n&&n.tickFormat)try{this.labelFormatter=n.tickFormat({ticks:t,specifier:e})}catch(t){this.labelFormatter=r,U.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=r},t.prototype.setDomain=function(){var t,e=this.scale,n=this.dataDomain,i=this.tick.values;if(i&&e instanceof Ei){var r=Rr(null!==(t=Sr(i))&&void 0!==t?t:[1/0,-1/0],2),o=r[0],a=r[1],l=Math.min(e.fromDomain(n[0]),o),s=Math.max(e.fromDomain(n[1]),a);e.domain=[e.toDomain(l),e.toDomain(s)]}else e.domain=n},t.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},t.prototype.setTickCount=function(t,e,n){var i=this.scale;if(t&&i instanceof Ei)return"number"==typeof t?(i.tickCount=t,i.minTickCount=null!=e?e:0,void(i.maxTickCount=null!=n?n:1/0)):void(i instanceof $i&&this.setTickInterval(t))},Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var e,n=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear()),this._gridLength=t,null===(e=this.crossLines)||void 0===e||e.forEach((function(t){n.initCrossLine(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear())},enumerable:!1,configurable:!0}),t.prototype.createTick=function(){return new Kr},t.prototype.update=function(t){var e=this.calculateRotations(),n=e.rotation,i=e.parallelFlipRotation,r=e.regularFlipRotation,o=this.label.getSideFlag(),a=o*(this.tick.size+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.updatePosition({rotation:n,sideFlag:o}),this.updateLine();var l=this.generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:r,labelX:a,sideFlag:o}),s=l.tickData,u=l.combinedRotation,c=l.textBaseline,h=l.textAlign,d=Tr(l,["tickData","combinedRotation","textBaseline","textAlign"]);return this.updateSelections(s.ticks),this.updateLabels({tickLabelGroupSelection:this.tickLabelGroupSelection,combinedRotation:u,textBaseline:c,textAlign:h,labelX:a}),this.updateVisibility(),this.updateGridLines(o),this.updateTickLines(o),this.updateTitle({anyTickVisible:s.ticks.length>0,sideFlag:o}),this.updateCrossLines({rotation:n,parallelFlipRotation:i,regularFlipRotation:r,sideFlag:o}),this.updateLayoutState(),t=d.primaryTickCount},t.prototype.updateLayoutState=function(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}},t.prototype.updateScale=function(){this.updateRange(),this.calculateDomain(),this.setDomain(),this.setTickInterval(this.tick.interval);var t=this.scale,e=this.nice;t instanceof Ei&&(this.setTickCount(this.tick.count),t.nice=e,t.update())},t.prototype.calculateRotations=function(){var t=ft(this.rotation);return{rotation:t,parallelFlipRotation:pt(t),regularFlipRotation:pt(t-Math.PI/2)}},t.prototype.generateTicks=function(t){for(var e,n,i,r,o=t.primaryTickCount,a=t.parallelFlipRotation,l=t.regularFlipRotation,s=t.labelX,u=t.sideFlag,c=this.scale,h=this.tick,d=this.label,p=d.parallel,f=d.rotation,y=d.fontFamily,v=d.fontSize,g=d.fontStyle,m=d.fontWeight,b=void 0!==o,x=Dr({rotation:f,parallel:p,regularFlipRotation:l,parallelFlipRotation:a}),w=x.defaultRotation,S=x.configuredRotation,k=x.parallelFlipFlag,O=x.regularFlipFlag,D=S+w,_=new M,C=this.estimateTickCount({minSpacing:h.minSpacing,maxSpacing:null!==(r=h.maxSpacing)&&void 0!==r?r:NaN}).maxTickCount,E=c instanceof Ei,P=h.count||!E||isNaN(C)?10:C,N=_r(p,S,0,u,O),T=function(t,e,n,i){return t&&!e?n*i==-1?"hanging":"bottom":"middle"}(p,S,u,k),R={fontFamily:y,fontSize:v,fontStyle:g,fontWeight:m,textBaseline:T,textAlign:N},L={rawTicks:[],ticks:[],labelCount:0},A=0,I=0,j=!0,F=!1;j&&A<=P&&!F;){I=0,N=_r(p,S,0,u,O);var B=this.getTickStrategies({secondaryAxis:b,index:A});try{for(var z=(e=void 0,Lr(B)),W=z.next();!W.done;W=z.next()){L=(i=(0,W.value)({index:A,tickData:L,textProps:R,labelOverlap:j,terminate:F,primaryTickCount:o})).tickData,A=i.index,I=i.autoRotation,F=i.terminate;var K=L.ticks;N=_r(p,S,I,u,O);var G=0!==S||0!==I,X=D+I;j=this.checkLabelOverlap(X,G,_,K,s,Pr(Pr({},R),{textAlign:N}))}}catch(t){e={error:t}}finally{try{W&&!W.done&&(n=z.return)&&n.call(z)}finally{if(e)throw e.error}}}var Y=w+S+I;return!b&&L.rawTicks.length>0&&(o=L.rawTicks.length),{tickData:L,primaryTickCount:o,combinedRotation:Y,textBaseline:T,textAlign:N}},t.prototype.getTickStrategies=function(t){var e,n=this,i=t.index,r=t.secondaryAxis,o=this.scale,a=this.label,l=this.tick,s=o instanceof Ei,u=a.enabled&&a.avoidCollisions,c=!(s&&void 0===this.tick.count)&&0!==i&&u,h=!0===a.autoRotate&&void 0===a.rotation,d=[];e=this.tick.values?Er.VALUES:r?Er.CREATE_SECONDARY:c?Er.FILTER:Er.CREATE;if(d.push((function(t){var i=t.index,r=t.tickData,o=t.primaryTickCount,a=t.terminate;return n.createTickData(e,i,r,a,o)})),!s&&!isNaN(l.minSpacing)){d.push((function(t){var e=t.index,i=t.tickData,r=t.primaryTickCount,o=t.terminate;return n.createTickData(Er.FILTER,e,i,o,r)}))}if(!u)return d;if(a.autoWrap){d.push((function(t){var e=t.index,i=t.tickData,r=t.textProps;return n.wrapLabels(i,e,r)}))}else if(h){d.push((function(t){var e=t.index,i=t.tickData,r=t.labelOverlap,o=t.terminate;return{index:e,tickData:i,autoRotation:n.getAutoRotation(r),terminate:o}}))}return d},t.prototype.createTickData=function(t,e,n,i,r){for(var o,a,l,s=this.scale,u=this.tick,c=this.estimateTickCount({minSpacing:u.minSpacing,maxSpacing:null!==(o=u.maxSpacing)&&void 0!==o?o:NaN}),h=c.maxTickCount,d=c.minTickCount,p=c.defaultTickCount,f=s instanceof Ei,y=u.count||!f||isNaN(h)?10:h,v=null!==(a=u.count)&&void 0!==a?a:f?Math.max(p-e,d):h,g=void 0===u.interval&&void 0===u.values&&void 0===u.count&&v>d&&(f||t===Er.FILTER),m=!0;m&&e<=y;){var b=n.rawTicks;v=null!==(l=u.count)&&void 0!==l?l:f?Math.max(p-e,d):h;var x=this.getTicks({tickGenerationType:t,previousTicks:b,tickCount:v,minTickCount:d,maxTickCount:h,primaryTickCount:r}),w=x.rawTicks,S=x.ticks,k=x.labelCount;n.rawTicks=w,n.ticks=S,n.labelCount=k,m=!!g&&Ci(w,b),e++}var O=void 0!==u.interval||void 0!==u.values;return i||(i=O),{tickData:n,index:e,autoRotation:0,terminate:i}},t.prototype.checkLabelOverlap=function(t,e,n,i,r,o){return M.updateTransformMatrix(n,1,1,t,0,0),function(t,e){for(var n=[],i=function(i){var r=t[i],o=r.point,a=o.x,l=o.y,s=r.label.text,u=r.label,c=u.width,h=u.height;if(c+=null!=e?e:0,h+=null!=e?e:0,n.some((function(t){return An(t,a,l,c,h)})))return{value:!0};n.push({index:i,text:s,x:a,y:l,width:c,height:h,datum:r})},r=0;r<t.length;r++){var o=i(r);if("object"==typeof o)return o.value}return!1}(this.createLabelData(i,r,o,n),function(t,e){return isNaN(t)?e?0:10:t}(this.label.minSpacing,e))},t.prototype.createLabelData=function(t,e,n,i){var r,o,a=[];try{for(var l=Lr(t),s=l.next();!s.done;s=l.next()){var u=s.value,c=u.tickLabel,h=u.translationY;if(""!==c&&null!=c){var d=Ct(Nt(c),e,h,n),p=d.width,f=d.height,y=Cr(c,new D(e,h,p,f),e,h,i);a.push(y)}}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return a},t.prototype.getAutoRotation=function(t){return t?pt(ft(this.label.autoRotateAngle)):0},t.prototype.getTicks=function(t){var e,n=t.tickGenerationType,i=t.previousTicks,r=t.tickCount,o=t.minTickCount,a=t.maxTickCount,l=t.primaryTickCount,s=this.scale,u=[];switch(n){case Er.VALUES:u=this.tick.values;break;case Er.CREATE_SECONDARY:u=this.updateSecondaryAxisTicks(l);break;case Er.FILTER:u=this.filterTicks(i,r);break;default:u=this.createTicks(r,o,a)}this.onLabelFormatChange(u,this.label.format),this.fractionDigits=u.fractionDigits>=0?u.fractionDigits:0;for(var c=(null!==(e=this.scale.bandwidth)&&void 0!==e?e:0)/2,h=[],d=0,p=0;p<u.length;p++){var f=u[p],y=s.convert(f)+c,v=this.formatTick(f,p);h.push({tick:f,tickLabel:v,translationY:y}),""!==v&&null!=v&&d++}return{rawTicks:u,ticks:h,labelCount:d}},t.prototype.filterTicks=function(t,e){var n,i=!isNaN(this.tick.minSpacing)||!isNaN(null!==(n=this.tick.maxSpacing)&&void 0!==n?n:NaN)?Math.ceil(t.length/e):2;return t.filter((function(t,e){return e%i==0}))},t.prototype.createTicks=function(t,e,n){return this.setTickCount(t,e,n),this.scale.ticks()},t.prototype.estimateTickCount=function(e){var n=e.minSpacing,i=e.maxSpacing,r=this.calculateAvailableRange(),o=Math.max(t.defaultTickMinSpacing,r/Ei.defaultMaxTickCount);isNaN(n)&&isNaN(i)?(n=o)>(i=r)&&(i=n):isNaN(n)?(n=o)>i&&(n=i):isNaN(i)&&n>(i=r)&&(i=n);var a=Math.max(1,Math.floor(r/n)),l=Math.min(a,Math.ceil(r/i)),s=Ei.defaultTickCount;return s>a?s=a:s<l&&(s=l),{minTickCount:l,maxTickCount:a,defaultTickCount:s}},t.prototype.updateVisibility=function(){var t=this.range,e=Math.min.apply(Math,Ar([],Rr(t))),n=Math.max.apply(Math,Ar([],Rr(t))),i=function(t){var i=Math.floor(e),r=Math.ceil(n);if(i!==r){t.translationY>=i-1&&t.translationY<i&&(t.translationY=i),t.translationY>r&&t.translationY<=r+1&&(t.translationY=r);var o=t.translationY>=i&&t.translationY<=r;t.visible=o}else t.visible=!1},r=this.gridLineGroupSelection,o=this.gridArcGroupSelection,a=this.tickLineGroupSelection,l=this.tickLabelGroupSelection;r.each(i),o.each(i),a.each(i),l.each(i),this.tickLineGroup.visible=this.tick.enabled,this.tickLabelGroup.visible=this.label.enabled},t.prototype.updateCrossLines=function(t){var e,n=this,i=t.rotation,r=t.parallelFlipRotation,o=t.regularFlipRotation,a=t.sideFlag,l=this.isAnySeriesActive();null===(e=this.crossLines)||void 0===e||e.forEach((function(t){var e;t.sideFlag=-a,t.direction=i===-Math.PI/2?Le.X:Le.Y,t.label.parallel=null!==(e=t.label.parallel)&&void 0!==e?e:n.label.parallel,t.parallelFlipRotation=r,t.regularFlipRotation=o,t.update(l)}))},t.prototype.updateTickLines=function(t){var e=this.tick;this.tickLineGroupSelection.each((function(n){n.strokeWidth=e.width,n.stroke=e.color,n.x1=t*e.size,n.x2=0,n.y1=0,n.y2=0}))},t.prototype.calculateAvailableRange=function(){var t=this.range,e=Math.min.apply(Math,Ar([],Rr(t)));return Math.max.apply(Math,Ar([],Rr(t)))-e},t.prototype.calculateDomain=function(){},t.prototype.updatePosition=function(t){var e=t.rotation,n=t.sideFlag,i=this,r=i.crossLineGroup,o=i.axisGroup,a=i.gridGroup,l=i.translation,s=i.gridLineGroupSelection,u=i.gridPadding,c=i.gridLength,h=Math.floor(l.x),d=Math.floor(l.y);r.translationX=h,r.translationY=d,r.rotation=e,o.translationX=h,o.translationY=d,o.rotation=e,a.translationX=h,a.translationY=d,a.rotation=e,s.each((function(t){t.x1=u,t.x2=-n*c+u,t.y1=0,t.y2=0}))},t.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},t.prototype.updateSelections=function(t){var e=this.gridLength?t:[],n=this.radialGrid?this.gridLineGroupSelection:this.gridLineGroupSelection.update(e,(function(t){var e=new yi;e.tag=Mr.GridLine,t.append(e)})),i=this.radialGrid?this.gridArcGroupSelection.update(e,(function(t){var e=new wi;e.tag=Mr.GridArc,t.append(e)})):this.gridArcGroupSelection,r=this.tickLineGroupSelection.update(t,(function(t){var e=new yi;e.tag=Mr.TickLine,t.appendChild(e)})),o=this.tickLabelGroupSelection.update(t,(function(t){var e=new Dt;e.tag=Mr.TickLabel,t.appendChild(e)})),a=function(t){return t.translationY=Math.round(t.datum.translationY)};n.each(a),i.each(a),r.each(a),o.each(a),this.tickLineGroupSelection=r,this.tickLabelGroupSelection=o,this.gridLineGroupSelection=n,this.gridArcGroupSelection=i},t.prototype.updateGridLines=function(t){var e,n,i=this,r=i.gridStyle,o=i.scale,a=i.tick,l=i.gridPadding,s=i.gridLength;if(s&&r.length){var u=r.length,c=void 0;if(this.radialGrid){var h=(n=ft(s),n%=dt,(n+=dt)!==dt&&(n%=dt),n),d=(null!==(e=this.scale.bandwidth)&&void 0!==e?e:0)/2;c=this.gridArcGroupSelection.each((function(t,e){var n=Math.round(o.convert(e)+d);t.centerX=0,t.centerY=o.range[0]-n,t.endAngle=h,t.radius=n}))}else c=this.gridLineGroupSelection.each((function(e){e.x1=l,e.x2=-t*s+l,e.y1=0,e.y2=0}));c.each((function(t,e,n){var i=r[n%u];t.stroke=i.stroke,t.strokeWidth=a.width,t.lineDash=i.lineDash,t.fill=void 0}))}},t.prototype.updateLabels=function(t){var e=t.tickLabelGroupSelection,n=t.combinedRotation,i=t.textBaseline,r=t.textAlign,o=t.labelX,a=this.label;if(!this.label.enabled)return{labelData:[],rotated:!1};e.each((function(t,e){var l=e.tickLabel;t.fontStyle=a.fontStyle,t.fontWeight=a.fontWeight,t.fontSize=a.fontSize,t.fontFamily=a.fontFamily,t.fill=a.color,t.text=l,""===t.text||null==t.text?t.visible=!1:(t.textBaseline=i,t.textAlign=r,t.x=o,t.rotationCenterX=o,t.rotation=n,t.visible=!0)}))},t.prototype.wrapLabels=function(t,e,n){var i=this.label,r=i.parallel,o=i.maxWidth,a=i.maxHeight,l=r?Math.round(this.calculateAvailableRange()/t.labelCount):this.maxThickness,s=null!=o?o:l,u=r?this.maxThickness:Math.round(this.calculateAvailableRange()/t.labelCount),c=null!=a?a:u;return t.ticks.forEach((function(t){var e=t.tickLabel,i=Dt.wrap(e,s,c,n,"hyphenate");t.tickLabel=i})),{tickData:t,index:e,autoRotation:0,terminate:!0}},t.prototype.updateLine=function(){var t=this.lineNode,e=this.range;t.x1=0,t.x2=0,t.y1=e[0],t.y2=e[1],t.strokeWidth=this.line.width,t.stroke=this.line.color,t.visible=!0},t.prototype.updateTitle=function(t){var e,n=t.anyTickVisible,i=t.sideFlag,r=this,o=r.rotation,a=r.title,l=r._titleCaption,s=r.lineNode,u=r.range,c=r.tickLineGroup,h=r.tickLabelGroup,d=r.moduleCtx.callbackCache,p=(null!==(e=this.title)&&void 0!==e?e:{}).formatter,f=void 0===p?function(t){return t.defaultValue}:p;if(a){l.enabled=a.enabled,l.fontFamily=a.fontFamily,l.fontSize=a.fontSize,l.fontStyle=a.fontStyle,l.fontWeight=a.fontWeight,l.color=a.color,l.wrapping=a.wrapping;var y=!1,v=l.node;if(a.enabled&&s.visible){y=!0;var g=pt(o),m=Di.PADDING,b=-1===i&&g>Math.PI&&g<2*Math.PI?-1:1;v.rotation=b*i*Math.PI/2,v.x=Math.floor(b*i*(u[0]+u[1])/2);var x=0;if(n){var w=et.computeBBox([c,h]),S=0===o?w.width:w.height;Math.abs(S)<1/0&&(x+=S)}v.y=-1===i?Math.floor(b*(-m-x)):Math.floor(-m-x),v.textBaseline=1===b?"bottom":"top",v.text=d.call(f,this.getTitleFormatterParams())}v.visible=y}else l.enabled=!1},t.prototype.formatTick=function(t,e){var n,i,r=this.label,o=this.labelFormatter,a=this.fractionDigits,l=this.moduleCtx.callbackCache;if(r.formatter){var s=a>0?t:String(t);return null!==(n=l.call(r.formatter,{value:s,index:e,fractionDigits:a,formatter:o}))&&void 0!==n?n:s}return o&&null!==(i=l.call(o,t))&&void 0!==i?i:String(t)},t.prototype.formatDatum=function(t){return String(t)},t.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},t.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},t.prototype.isAnySeriesActive=function(){return!1},t.prototype.clipTickLines=function(t,e,n,i){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new D(t,e,n,i))},t.prototype.clipGrid=function(t,e,n,i){this.gridGroup.setClipRectInGroupCoordinateSpace(new D(t,e,n,i))},t.prototype.calculatePadding=function(t,e){return Math.abs(.01*t)},t.defaultTickMinSpacing=50,Nr([Xt(ee)],t.prototype,"nice",void 0),Nr([Xt(zr)],t.prototype,"gridStyle",void 0),Nr([Xt(fe(0))],t.prototype,"thickness",void 0),t}(),Yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Vr=function(t){function e(){var e=t.call(this,[0,1],[0,1])||this;return e.type="linear",e}return Yr(e,t),e.prototype.toDomain=function(t){return t},e.prototype.ticks=function(){var t,e=null!==(t=this.tickCount)&&void 0!==t?t:Ei.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some((function(t){return!isFinite(t)})))return[];this.refresh();var n=Hr(this.getDomain(),2),i=n[0],r=n[1],o=this.interval;if(o){var a=Math.abs(o);if(!this.isDenseInterval({start:i,stop:r,interval:a}))return Ai(i,r,a)}return Ni(i,r,e,this.minTickCount,this.maxTickCount)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){var t,e,n=null!==(t=this.tickCount)&&void 0!==t?t:Ei.defaultTickCount,i=Hr(this.domain,2),r=i[0],o=i[1];if(n<1)this.niceDomain=[r,o];else if(1!==n){for(var a=r,l=o,s=0;s<4;s++){var u=null!==(e=this.interval)&&void 0!==e?e:Ri(r,o,n,this.minTickCount,this.maxTickCount),c=Hr(this.domain,2),h=c[0],d=c[1];if(u>=1)r=Math.floor(h/u)*u,o=Math.ceil(d/u)*u;else{var p=1/u;r=Math.floor(h*p)/p,o=Math.ceil(d*p)/p}if(r===a&&o===l)break;a=r,l=o}this.niceDomain=[r,o]}else this.niceDomain=function(t,e){var n=Math.floor(Math.log10(e-t)),i=Math.pow(10,n);return Ti.map((function(n){var r=n*i,o=Math.floor(t/r)*r,a=Math.ceil(e/r)*r;return{error:1-(e-t)/(a-o),domain:[o,a]}})).sort((function(t,e){return t.error-e.error}))[0].domain}(r,o)},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return function(t,e){var n=ar(null!=e?e:",f");isNaN(n.precision)&&("f"===n.type||"%"===n.type?n.precision=Math.max.apply(Math,tr([],Qi(t.map((function(t){if("number"!=typeof t||0===t)return 0;var e=Math.floor(Math.log10(Math.abs(t))),i=n.type?6:12,r=t.toExponential(i-1).replace(/\.?0+e/,"e"),o=r.indexOf(".");if(o<0)return e>=0?0:-e;var a=r.indexOf("e")-o;return Math.max(0,a-e-1)}))))):n.type&&!(n.type in cr)||(n.precision=Math.max.apply(Math,tr([],Qi(t.map((function(t){if("number"!=typeof t)return 0;var e=t.toExponential((n.type?6:12)-1).replace(/\.?0+e/,"e");return e.substring(0,e.indexOf("e")).replace(".","").length})))))));var i=lr(n);return function(t){return i(Number(t))}}(null!=e?e:this.ticks(),n)},e}(Ei),Ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zr=function(){return(Zr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},qr=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Jr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Qr=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},to=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.keys=[],i.boundSeries=[],i.includeInvisibleDomains=!1,i.modules={},i.position="left",i}return Ur(e,t),Object.defineProperty(e.prototype,"type",{get:function(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return["top","bottom"].includes(this.position)?Le.X:Le.Y},enumerable:!1,configurable:!0}),e.prototype.useCalculatedTickCount=function(){return this.scale instanceof Vr},e.prototype.update=function(e){return this.updateDirection(),t.prototype.update.call(this,e)},e.prototype.updateDirection=function(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)},e.prototype.calculateDomain=function(){var t,e,n,i=this.direction,r=this.boundSeries,o=this.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var a=[],l=r.filter((function(t){return o||t.isEnabled()}));try{for(var s=Jr(l),u=s.next();!u.done;u=s.next()){var c=u.value;a.push(c.getDomain(i))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}var h=(n=new Array).concat.apply(n,Qr([],$r(a)));this.dataDomain=this.normaliseDataDomain(h)}},e.prototype.normaliseDataDomain=function(t){return t},e.prototype.isAnySeriesActive=function(){var t=this;return this.boundSeries.some((function(e){return t.includeInvisibleDomains||e.isEnabled()}))},e.prototype.getLayoutState=function(){return Zr({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)},e.prototype.addModule=function(t){var e=this;if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);if(null==this.axisContext){this.axisContext={axisId:this.id,position:this.position,direction:this.direction,continuous:this.scale instanceof Ei,keys:function(){return e.boundSeries.map((function(t){return t.getKeys(e.direction)})).reduce((function(t,e){return t.push.apply(t,Qr([],$r(e))),t}),[])},scaleValueFormatter:function(t){var n,i,r;return null!==(r=null===(i=(n=e.scale).tickFormat)||void 0===i?void 0:i.call(n,{specifier:t}))&&void 0!==r?r:void 0},scaleBandwidth:function(){var t;return null!==(t=e.scale.bandwidth)&&void 0!==t?t:0},scaleConvert:function(t){return e.scale.convert(t)},scaleInvert:function(t){var n,i,r;return null!==(r=null===(i=(n=e.scale).invert)||void 0===i?void 0:i.call(n,t))&&void 0!==r?r:void 0}}}var n=new t.instanceConstructor(Zr(Zr({},this.moduleCtx),{parent:this.axisContext}));this.modules[t.optionsKey]={instance:n},this[t.optionsKey]=n},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.destroy=function(){var e,n;t.prototype.destroy.call(this);try{for(var i=Jr(Object.entries(this.modules)),r=i.next();!r.done;r=i.next()){var o=$r(r.value,2),a=o[0];o[1].instance.destroy(),delete this.modules[a],delete this[a]}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.getTitleFormatterParams=function(){var t,e=this,n=this.boundSeries.reduce((function(t,n){for(var i=n.getKeys(e.direction),r=n.getNames(e.direction),o=0;o<i.length;o++)t.push({key:i[o],name:r[o]});return t}),[]);return{direction:this.direction,boundSeries:n,defaultValue:null===(t=this.title)||void 0===t?void 0:t.text}},qr([Xt(be)],e.prototype,"keys",void 0),qr([Xt(Ie)],e.prototype,"position",void 0),e}(Xr),eo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),no=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},io=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},ro=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},oo=function(t){function e(e){var n=t.call(this,e,new di)||this;return n._paddingOverrideEnabled=!1,n.groupPaddingInner=.1,n.includeInvisibleDomains=!0,n}return eo(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!1,configurable:!0}),e.prototype.normaliseDataDomain=function(t){var e=new Set(t);return new(Array.bind.apply(Array,ro([void 0],io(e.values()))))},e.prototype.calculateDomain=function(){if(!this._paddingOverrideEnabled){var e=this.boundSeries.map((function(t){var e;return null===(e=t.getBandScalePadding)||void 0===e?void 0:e.call(t)})).filter((function(t){return null!=t}));e.length>0&&(this.scale.paddingInner=Math.min.apply(Math,ro([],io(e.map((function(t){return t.inner}))))),this.scale.paddingOuter=Math.max.apply(Math,ro([],io(e.map((function(t){return t.outer}))))))}return t.prototype.calculateDomain.call(this)},e.className="CategoryAxis",e.type="category",no([Xt(fe(0,1))],e.prototype,"groupPaddingInner",void 0),e}(to),ao=function(){return(ao=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},lo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},so=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},uo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var co=Symbol("<delete-property>"),ho=Symbol("<unspecified-property>");function po(t,e){var n,i,r,o=null!==(r=null==e?void 0:e.avoidDeepClone)&&void 0!==r?r:[];if(t.map((function(t){return yo(t)})).some((function(t){return"array"===t}))){var a=t[t.length-1];return a instanceof Array?a.map((function(t){var n=yo(t);return"array"===n?po([[],t],e):"object"===n?po([{},t],e):t})):a}var l={},s=new Set(t.map((function(t){return null!=t?Object.keys(t):[]})).reduce((function(t,e){return t.concat(e)}),[])),u=function(n){var i=t.map((function(t){return null!=t&&n in t?t[n]:ho})).filter((function(t){return t!==ho}));if(0===i.length)return"continue";var r=i[i.length-1];if(r===co)return"continue";var a=i.map((function(t){return yo(t)})),s=a[0];if(a.some((function(t){return t!==s})))return l[n]=r,"continue";"array"!==s&&"object"!==s||o.includes(n)?l[n]="array"===s?so([],lo(r)):r:l[n]=po(i,e)};try{for(var c=uo(s),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l}var fo="undefined"!=typeof window;function yo(t){return null==t?null:fo&&t instanceof HTMLElement?"primitive":t instanceof Array?"array":t instanceof Date?"primitive":"object"==typeof t&&t.constructor===Object?"object":"function"==typeof t?"function":"object"==typeof t&&null!=t.constructor?"class-instance":"primitive"}var vo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vo(e,t),e.prototype.updatePath=function(){var t=this.path,e=this.x,n=this.y,i=this.size/2;t.clear(),t.moveTo(this.align(e-i),this.align(n-i)),t.lineTo(this.align(e+i),this.align(n-i)),t.lineTo(this.align(e+i),this.align(n+i)),t.lineTo(this.align(e-i),this.align(n+i)),t.closePath()},e.className="Square",e}(ei),mo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mo(e,t),e.prototype.updatePath=function(){var n=this.size/4.2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Cross",e.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],e}(ei),xo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xo(e,t),e.prototype.updatePath=function(){var n=this.size/2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Diamond",e.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],e}(ei),So=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return So(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this.x,e=this.path,n=this.size,i=this.rad,r=n/4,o=this.y+r/2;e.clear(),e.arc(t-r,o-r,r,i(130),i(330)),e.arc(t+r,o-r,r,i(220),i(50)),e.lineTo(t,o+r),e.closePath()},e.className="Heart",e}(ei),Oo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.updatePath=function(){var n=this.size/3;t.prototype.applyPath.call(this,n,e.moves)},e.className="Plus",e.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],e}(ei),_o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _o(e,t),e.prototype.updatePath=function(){var n=1.1*this.size;t.prototype.applyPath.call(this,n,e.moves)},e.className="Triangle",e.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],e}(ei);function Mo(t){if(void 0===t&&(t=go),"string"==typeof t)switch(t){case"circle":return ii;case"cross":return bo;case"diamond":return wo;case"heart":return ko;case"plus":return Do;case"triangle":return Co;default:return go}return"function"==typeof t?t:go}var Eo,Po,No=function(){function t(t,e){this.debug=!1,this.state=t,this.states=e,this.debug&&U.debug("%c"+this.constructor.name+" | init -> "+t,"color: green")}return t.prototype.transition=function(t,e){var n,i,r,o,a,l=this.states[this.state],s=null===(n=null==l?void 0:l.on)||void 0===n?void 0:n[t];if(s){var u=s.target,c=this.states[u];return this.debug&&U.debug("%c"+this.constructor.name+" | "+this.state+" -> "+t+" -> "+u,"color: green"),s.action(e),null===(r=null===(i=null==l?void 0:l.actions)||void 0===i?void 0:i.onExit)||void 0===r||r.call(i),null===(a=null===(o=null==c?void 0:c.actions)||void 0===o?void 0:o.onEnter)||void 0===a||a.call(o),this.state=u,this.state}this.debug&&U.debug("%c"+this.constructor.name+" | "+this.state+" -> "+t+" -> "+this.state,"color: grey")},t}(),To=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ro=function(){return(Ro=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Lo=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ao=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},Io=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},jo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Fo=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Bo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zo=((Eo={})[Le.X]=["xKey"],Eo[Le.Y]=["yKey"],Eo),Wo=((Po={})[Le.X]=["xName"],Po[Le.Y]=["yName"],Po),Ko=function(t){function e(e,n,i,r,o){var a=t.call(this,i,r,o)||this;return a.xKey=e,a.yKey=n,a}return To(e,t),e}(xn),Go=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return To(e,t),e}(Ko),Xo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return To(e,t),e}(Ko),Yo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return To(e,t),e}(No),Ho=function(t){function e(e){var n,i,r=t.call(this,Ro(Ro({},e),{useSeriesGroupLayer:!0,directionKeys:null!==(n=e.directionKeys)&&void 0!==n?n:zo,directionNames:null!==(i=e.directionNames)&&void 0!==i?i:Wo}))||this;r._contextNodeData=[],r.nodeDataDependencies={},r.highlightSelection=ui.select(r.highlightNode,(function(){return r.opts.hasMarkers?r.markerFactory():r.nodeFactory()})),r.highlightLabelSelection=ui.select(r.highlightLabel,Dt),r.subGroups=[],r.subGroupId=0,r.seriesItemEnabled=new Map;var o=e.pathsPerSeries,a=void 0===o?1:o,l=e.hasMarkers,s=void 0!==l&&l,u=e.pathsZIndexSubOrderOffset,c=void 0===u?[]:u;return r.opts={pathsPerSeries:a,hasMarkers:s,pathsZIndexSubOrderOffset:c},r.animationState=new Yo("empty",{empty:{on:{update:{target:"ready",action:function(t){return r.animateEmptyUpdateReady(t)}}}},ready:{on:{update:{target:"ready",action:function(t){return r.animateReadyUpdate(t)}},highlight:{target:"ready",action:function(t){return r.animateReadyHighlight(t)}},highlightMarkers:{target:"ready",action:function(t){return r.animateReadyHighlightMarkers(t)}},resize:{target:"ready",action:function(t){return r.animateReadyResize(t)}}}}}),r}return To(e,t),Object.defineProperty(e.prototype,"contextNodeData",{get:function(){var t;return null===(t=this._contextNodeData)||void 0===t?void 0:t.slice()},enumerable:!1,configurable:!0}),e.prototype.addChartEventListeners=function(){var t,e,n=this;null===(t=this.chartEventManager)||void 0===t||t.addListener("legend-item-click",(function(t){return n.onLegendItemClick(t)})),null===(e=this.chartEventManager)||void 0===e||e.addListener("legend-item-double-click",(function(t){return n.onLegendItemDoubleClick(t)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},e.prototype.checkDomainXY=function(t,e,n,i){return(n&&It(t)||!n&&At(t))&&(i&&It(e)||!i&&At(e))?[t,e]:void 0},e.prototype.checkRangeXY=function(t,e,n,i){return!isNaN(t)&&!isNaN(e)&&n.inRange(t)&&i.inRange(e)},e.prototype.update=function(t){var e,n,i=t.seriesRect;return Ao(this,void 0,void 0,(function(){var t,r,o,a,l,s,u;return Io(this,(function(c){switch(c.label){case 0:return r=(t=this).seriesItemEnabled,o=t.visible,a=(null!==(n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&void 0!==n?n:{}).series,l=a?a===this:void 0,s=o&&0===r.size||Fo([],jo(r.values())).some((function(t){return!0===t})),u={seriesRectWidth:null==i?void 0:i.width,seriesRectHeight:null==i?void 0:i.height},null!=function t(e,n){var i,r,o=yo(e),a=yo(n);if("array"===a){var l=n;return"array"!==o||e.length!==l.length||l.some((function(n,i){var r;return null!=t(null===(r=e)||void 0===r?void 0:r[i],n)}))?so([],lo(l)):null}if("primitive"===a)return"primitive"!==o?ao({},n):e!==n?n:null;var s=e||{},u=n||{},c=new Set(so(so([],lo(Object.keys(s))),lo(Object.keys(u)))),h=0,d={},p=function(e){if(s[e]===u[e])return"continue";var n=function(t){d[e]=t,h++},i=yo(s[e]),r=yo(u[e]);if(i!==r)return n(u[e]),"continue";if("primitive"===r||null===r)return n(u[e]),"continue";if("array"===r&&s[e].length!==u[e].length)return n(u[e]),"continue";if("class-instance"===r)return n(u[e]),"continue";if("function"===r&&s[e]!==u[e])return n(u[e]),"continue";var o=t(s[e],u[e]);null!==o&&n(o)};try{for(var f=uo(c),y=f.next();!y.done;y=f.next()){p(y.value)}}catch(t){i={error:t}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(i)throw i.error}}return 0===h?null:d}(this.nodeDataDependencies,u)&&(this.nodeDataDependencies=u,this.markNodeDataDirty(),this.animationState.transition("resize",{datumSelections:this.subGroups.map((function(t){return t.datumSelection})),markerSelections:this.subGroups.map((function(t){return t.markerSelection})),contextData:this._contextNodeData,paths:this.subGroups.map((function(t){return t.paths}))})),[4,this.updateSelections(l,s)];case 1:return c.sent(),[4,this.updateNodes(l,s)];case 2:return c.sent(),this.animationState.transition("update",{datumSelections:this.subGroups.map((function(t){return t.datumSelection})),markerSelections:this.subGroups.map((function(t){return t.markerSelection})),labelSelections:this.subGroups.map((function(t){return t.labelSelection})),contextData:this._contextNodeData,paths:this.subGroups.map((function(t){return t.paths})),seriesRect:i}),[2]}}))}))},e.prototype.updateSelections=function(t,e){return Ao(this,void 0,void 0,(function(){var n,i=this;return Io(this,(function(r){switch(r.label){case 0:return[4,this.updateHighlightSelection(t)];case 1:return r.sent(),e?this.nodeDataRefresh||this.isPathOrSelectionDirty()?this.nodeDataRefresh?(this.nodeDataRefresh=!1,n=this,[4,this.createNodeData()]):[3,4]:[2]:[2];case 2:return n._contextNodeData=r.sent(),[4,this.updateSeriesGroups()];case 3:r.sent(),r.label=4;case 4:return[4,Promise.all(this.subGroups.map((function(t,e){return i.updateSeriesGroupSelections(t,e)})))];case 5:return r.sent(),[2]}}))}))},e.prototype.updateSeriesGroupSelections=function(t,e){return Ao(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u,c;return Io(this,(function(h){switch(h.label){case 0:return n=t.datumSelection,i=t.labelSelection,r=t.markerSelection,o=this._contextNodeData[e],a=o.nodeData,l=o.labelData,s=t,[4,this.updateDatumSelection({nodeData:a,datumSelection:n,seriesIdx:e})];case 1:return s.datumSelection=h.sent(),u=t,[4,this.updateLabelSelection({labelData:l,labelSelection:i,seriesIdx:e})];case 2:return u.labelSelection=h.sent(),r?(c=t,[4,this.updateMarkerSelection({nodeData:a,markerSelection:r,seriesIdx:e})]):[3,4];case 3:c.markerSelection=h.sent(),h.label=4;case 4:return[2]}}))}))},e.prototype.nodeFactory=function(){return new et},e.prototype.markerFactory=function(){return new(Mo())},e.prototype.updateSeriesGroups=function(){var t;return Ao(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g=this;return Io(this,(function(m){if(n=(e=this)._contextNodeData,i=e.contentGroup,r=e.subGroups,o=e.opts,a=o.pathsPerSeries,l=o.hasMarkers,s=o.pathsZIndexSubOrderOffset,n.length===r.length)return[2];for(n.length<r.length&&r.splice(n.length).forEach((function(t){var e,n,r=t.dataNodeGroup,o=t.markerGroup,a=t.labelGroup,l=t.paths;i.removeChild(r),o&&i.removeChild(o),a&&i.removeChild(a);try{for(var s=Bo(l),u=s.next();!u.done;u=s.next()){var c=u.value;i.removeChild(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}})),u=n.length;u>r.length;){for(!1,c=this.subGroupId++,h=c,d=new et({name:this.id+"-series-sub"+c+"-dataNodes",layer:!1,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return g._declarationOrder},h]}),p=l?new et({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:!1,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return g._declarationOrder},1e4+c]}):void 0,f=new et({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:!1,zIndex:Re.SERIES_LABEL_ZINDEX,zIndexSubOrder:[function(){return g._declarationOrder},c]}),i.appendChild(d),i.appendChild(f),p&&i.appendChild(p),y=[],v=0;v<a;v++)y[v]=new Jn,y[v].zIndex=Re.SERIES_LAYER_ZINDEX,y[v].zIndexSubOrder=[function(){return g._declarationOrder},(null!==(t=s[v])&&void 0!==t?t:0)+h],i.appendChild(y[v]);r.push({paths:y,dataNodeGroup:d,markerGroup:p,labelGroup:f,labelSelection:ui.select(f,Dt),datumSelection:ui.select(d,(function(){return g.nodeFactory()})),markerSelection:p?ui.select(p,(function(){return g.markerFactory()})):void 0})}return[2]}))}))},e.prototype.updateNodes=function(t,e){var n;return Ao(this,void 0,void 0,(function(){var i,r,o,a,l,s,u,c,h,d,p=this;return Io(this,(function(f){switch(f.label){case 0:return r=(i=this).highlightSelection,o=i.highlightLabelSelection,a=i._contextNodeData,l=i.seriesItemEnabled,s=i.opts.hasMarkers,u=this.visible&&(null===(n=this._contextNodeData)||void 0===n?void 0:n.length)>0&&e,this.rootGroup.visible=u,this.contentGroup.visible=u,this.highlightGroup.visible=u&&!!t,c=this.getOpacity(),h=this.subGroups.map((function(t,e){var n=a[e].itemId;return p.getOpacity({itemId:n})})),d=h.some((function(t){return t!==c})),this.contentGroup.opacity=d?1:c,s?[4,this.updateMarkerNodes({markerSelection:r,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return f.sent(),this.animationState.transition("highlightMarkers",r),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:r,isHighlight:!0,seriesIdx:-1})];case 3:f.sent(),this.animationState.transition("highlight",r),f.label=4;case 4:return[4,this.updateLabelNodes({labelSelection:o,seriesIdx:-1})];case 5:return f.sent(),[4,Promise.all(this.subGroups.map((function(t,e){return Ao(p,void 0,void 0,(function(){var n,i,r,o,c,p,f,y,v,g,m,b,x,w,S,k;return Io(this,(function(O){switch(O.label){case 0:n=t.dataNodeGroup,i=t.markerGroup,r=t.datumSelection,o=t.labelSelection,c=t.markerSelection,p=t.paths,f=t.labelGroup,y=a[e].itemId,v=u&&(null===(k=l.get(y))||void 0===k||k),g=d?h[e]:1,n.opacity=g,n.visible=v,f.visible=v,i&&(i.opacity=g,i.zIndex=n.zIndex>=Re.SERIES_LAYER_ZINDEX?n.zIndex:n.zIndex+1,i.visible=v),f&&(f.opacity=g);try{for(m=Bo(p),b=m.next();!b.done;b=m.next())(x=b.value).opacity=g,x.visible=v}catch(t){w={error:t}}finally{try{b&&!b.done&&(S=m.return)&&S.call(m)}finally{if(w)throw w.error}}return n.visible?[4,this.updateDatumNodes({datumSelection:r,isHighlight:!1,seriesIdx:e})]:[2];case 1:return O.sent(),[4,this.updateLabelNodes({labelSelection:o,seriesIdx:e})];case 2:return O.sent(),s&&c?[4,this.updateMarkerNodes({markerSelection:c,isHighlight:!1,seriesIdx:e})]:[3,4];case 3:O.sent(),O.label=4;case 4:return[2]}}))}))})))];case 6:return f.sent(),[2]}}))}))},e.prototype.updateHighlightSelection=function(t){var e;return Ao(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g;return Io(this,(function(m){switch(m.label){case 0:return i=(n=this).highlightSelection,r=n.highlightLabelSelection,o=n._contextNodeData,a=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),l=t&&(null==a?void 0:a.datum)?a:void 0,s=this,[4,this.updateHighlightSelectionItem({item:l,highlightSelection:i})];case 1:if(s.highlightSelection=m.sent(),this.isLabelEnabled()&&null!=l){c=l.itemId,h=void 0===c?void 0:c;try{for(d=Bo(o),p=d.next();!p.done&&(f=p.value.labelData,null==(u=f.find((function(t){return t.datum===l.datum&&t.itemId===h}))));p=d.next());}catch(t){v={error:t}}finally{try{p&&!p.done&&(g=d.return)&&g.call(d)}finally{if(v)throw v.error}}}return y=this,[4,this.updateHighlightSelectionLabel({item:u,highlightLabelSelection:r})];case 2:return y.highlightLabelSelection=m.sent(),[2]}}))}))},e.prototype.pickNodeExactShape=function(e){var n,i,r=t.prototype.pickNodeExactShape.call(this,e);if(r)return r;var o=e.x,a=e.y,l=this.opts.hasMarkers;try{for(var s=Bo(this.subGroups),u=s.next();!u.done;u=s.next()){var c=u.value,h=c.dataNodeGroup,d=c.markerGroup,p=h.pickNode(o,a);if(!p&&l&&(p=null==d?void 0:d.pickNode(o,a)),p)return{datum:p.datum,distance:0}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.pickNodeClosestDatum=function(t){var e,n,i,r,o,a,l,s=t.x,u=t.y,c=this.xAxis,h=this.yAxis,d=this.rootGroup,p=this._contextNodeData,f=d.transformPoint(s,u),y=1/0;try{for(var v=Bo(p),g=v.next();!g.done;g=v.next()){var m=g.value;try{for(var b=(i=void 0,Bo(m.nodeData)),x=b.next();!x.done;x=b.next()){var w,S=x.value,k=S.point,O=void 0===k?{}:k,D=O.x,_=void 0===D?NaN:D,C=O.y,M=void 0===C?NaN:C;if(!isNaN(_)&&!isNaN(M))if((null==c?void 0:c.inRange(_))&&(null==h?void 0:h.inRange(M)))(w=Math.max(Math.pow(f.x-_,2)+Math.pow(f.y-M,2),0))<y&&(y=w,l=S)}}catch(t){i={error:t}}finally{try{x&&!x.done&&(r=b.return)&&r.call(b)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}if(l)return{datum:l,distance:w=Math.max(Math.sqrt(y)-(null!==(a=null===(o=l.point)||void 0===o?void 0:o.size)&&void 0!==a?a:0),0)}},e.prototype.pickNodeMainAxisFirst=function(t,e){var n,i,r,o,a,l,s=t.x,u=t.y,c=this.xAxis,h=this.yAxis,d=this.rootGroup,p=this._contextNodeData,f=[c,h].filter((function(t){return t instanceof oo})).map((function(t){return t.direction}));if(!e||0!==f.length){var y=jo(f,1)[0],v=void 0===y?Le.X:y,g=d.transformPoint(s,u),m=v===Le.X?[g.x,g.y]:[g.y,g.x],b=[1/0,1/0],x=void 0;try{for(var w=Bo(p),S=w.next();!S.done;S=w.next()){var k=S.value;try{for(var O=(r=void 0,Bo(k.nodeData)),D=O.next();!D.done;D=O.next()){var _=D.value,C=_.point,M=void 0===C?{}:C,E=M.x,P=void 0===E?NaN:E,N=M.y,T=void 0===N?NaN:N;if(!isNaN(P)&&!isNaN(T))if((null==c?void 0:c.inRange(P))&&(null==h?void 0:h.inRange(T))){for(var R=v===Le.X?[P,T]:[T,P],L=!0,A=0;A<R.length;A++){var I=Math.abs(R[A]-m[A]);if(I>b[A]){L=!1;break}I<b[A]&&(b[A]=I,b.fill(1/0,A+1,b.length))}L&&(x=_)}}}catch(t){r={error:t}}finally{try{D&&!D.done&&(o=O.return)&&o.call(O)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}if(x)return{datum:x,distance:Math.max(Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2))-(null!==(l=null===(a=x.point)||void 0===a?void 0:a.size)&&void 0!==l?l:0),0)}}},e.prototype.onLegendItemClick=function(t){var e=t.enabled,n=t.itemId;t.series.id===this.id&&this.toggleSeriesItem(n,e)},e.prototype.onLegendItemDoubleClick=function(t){var e=t.enabled,n=t.itemId,i=t.series,r=t.numVisibleItems,o=Object.values(r).reduce((function(t,e){return t+e}),0),a=i.id===this.id||e&&1===o;this.toggleSeriesItem(n,a)},e.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,n),this.nodeDataRefresh=!0):t.prototype.toggleSeriesItem.call(this,e,n)},e.prototype.isEnabled=function(){var e,n;if(this.seriesItemEnabled.size>0){try{for(var i=Bo(this.seriesItemEnabled),r=i.next();!r.done;r=i.next()){if(jo(r.value,2)[1])return!0}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1}return t.prototype.isEnabled.call(this)},e.prototype.isPathOrSelectionDirty=function(){return!1},e.prototype.getLabelData=function(){return[]},e.prototype.isAnySeriesVisible=function(){var t,e;try{for(var n=Bo(this.seriesItemEnabled.values()),i=n.next();!i.done;i=n.next()){if(i.value)return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return!1},e.prototype.updateHighlightSelectionItem=function(t){return Ao(this,void 0,void 0,(function(){var e,n,i,r,o;return Io(this,(function(a){return e=this.opts.hasMarkers,n=t.item,i=t.highlightSelection,r=n?[n]:[],e?(o=i,[2,this.updateMarkerSelection({nodeData:r,markerSelection:o,seriesIdx:-1})]):[2,this.updateDatumSelection({nodeData:r,datumSelection:i,seriesIdx:-1})]}))}))},e.prototype.updateHighlightSelectionLabel=function(t){return Ao(this,void 0,void 0,(function(){var e,n,i;return Io(this,(function(r){return e=t.item,n=t.highlightLabelSelection,i=e?[e]:[],[2,this.updateLabelSelection({labelData:i,labelSelection:n,seriesIdx:-1})]}))}))},e.prototype.updateDatumSelection=function(t){return Ao(this,void 0,void 0,(function(){return Io(this,(function(e){return[2,t.datumSelection]}))}))},e.prototype.updateDatumNodes=function(t){return Ao(this,void 0,void 0,(function(){return Io(this,(function(t){return[2]}))}))},e.prototype.updateMarkerSelection=function(t){return Ao(this,void 0,void 0,(function(){return Io(this,(function(e){return[2,t.markerSelection]}))}))},e.prototype.updateMarkerNodes=function(t){return Ao(this,void 0,void 0,(function(){return Io(this,(function(t){return[2]}))}))},e.prototype.animateEmptyUpdateReady=function(t){},e.prototype.animateReadyUpdate=function(t){},e.prototype.animateReadyHighlight=function(t){},e.prototype.animateReadyHighlightMarkers=function(t){},e.prototype.animateReadyResize=function(t){},e}(En),Vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return To(e,t),Lo([Xt(te),T({redraw:w.MAJOR})],e.prototype,"formatter",void 0),e}(si);function Uo(t){return new Promise((function(e){setTimeout((function(){return e(void 0)}),t)}))}var Zo=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},qo=function(){function t(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return t.prototype.show=function(t){var e,n,i=this.element;if(this.element||((i=document.createElement("div")).className=this.className,this.element=i),i.style.position="absolute",i.style.left=t.x+"px",i.style.top=t.y+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",this.renderer)this.element.innerHTML=this.renderer();else{var r=document.createElement("div");r.style.alignItems="center",r.style.boxSizing="border-box",r.style.display="flex",r.style.justifyContent="center",r.style.margin="8px",r.style.height="100%",r.style.font="12px Verdana, sans-serif",r.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",i.append(r)}null===(n=this.parentElement)||void 0===n||n.append(i)},t.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},Zo([Xt(te)],t.prototype,"renderer",void 0),Zo([Xt(re)],t.prototype,"text",void 0),t}(),Jo=function(t){this.noData=new qo("ag-chart-no-data-overlay",t)},$o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},ta=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},ea=function(){function t(){this.registeredListeners={}}return t.prototype.addListener=function(t,e){var n,i=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(n=this.registeredListeners[t])||void 0===n||n.push({symbol:i,handler:e}),i},t.prototype.dispatch=function(t){for(var e,n,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=null!==(i=this.registeredListeners[t])&&void 0!==i?i:[],l=[];try{for(var s=$o(a),u=s.next();!u.done;u=s.next()){var c=u.value;try{l.push(c.handler.apply(c,ta([],Qo(r))))}catch(t){U.errorOnce(t),l.push(void 0)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return l},t.prototype.cancellableDispatch=function(t,e){for(var n,i,r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l=null!==(r=this.registeredListeners[t])&&void 0!==r?r:[],s=[];try{for(var u=$o(l),c=u.next();!c.done;c=u.next()){var h=c.value;if(e())break;s.push(h.handler.apply(h,ta([],Qo(o))))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s},t.prototype.reduceDispatch=function(t,e){for(var n,i,r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l=null!==(r=this.registeredListeners[t])&&void 0!==r?r:[],s=void 0;try{for(var u=$o(l),c=u.next();!c.done;c=u.next()){var h=c.value;s=h.handler.apply(h,ta([],Qo(o))),o=e.apply(void 0,ta([s],Qo(o)))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s},t.prototype.removeListener=function(t){for(var e in this.registeredListeners){var n=this.registeredListeners[e],i=null==n?void 0:n.findIndex((function(e){return e.symbol===t}));null!=i&&i>=0&&(null==n||n.splice(i,1)),null!=i&&0===(null==n?void 0:n.length)&&delete this.registeredListeners[e]}},t}(),na=function(){function t(){this.listeners=new ea}return t.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},t.prototype.removeListener=function(t){this.listeners.removeListener(t)},t}();function ia(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ra(t,e){if("string"==typeof t)try{t=zt.fromString(t)}catch(e){t=zt.fromArray([0,0,0])}if("string"==typeof e)try{e=zt.fromString(e)}catch(t){e=zt.fromArray([0,0,0])}var n=ia(t.r,e.r),i=ia(t.g,e.g),r=ia(t.b,e.b),o=ia(t.a,e.a);return function(t){return zt.fromArray([n(t),i(t),r(t),o(t)]).toRgbaString()}}function oa(t,e){var n=typeof e;if("number"===n)return ia(t,e);if("string"===n)try{return ra(t,e=zt.fromString(e))}catch(t){}throw new Error("Unable to interpolate values")}function aa(t){return oa(t.from,t.to)}var la,sa,ua=(la=function(t){return Math.sin(t*Math.PI/2)},function(t){var e=oa(t.from,t.to);return function(t){return e(la(t))}}),ca=function(){return(ca=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ha(t){var e,n=t.driver,i=t.duration,r=t.from,o=t.to,a=t.autoplay,l=void 0===a||a,s=t.delay,u=void 0===s?0:s,c=t.ease,h=void 0===c?aa:c,d=t.repeat,p=void 0===d?1/0:d,f=t.repeatType,y=void 0===f?sa.Loop:f,v=t.onComplete,g=t.onPlay,m=t.onRepeat,b=t.onStop,x=t.onUpdate,w=0,S=0,k=0,O=!0,D=!1,_=h({from:r,to:o}),C={isPlaying:!1,play:E,pause:function(){return C.isPlaying=!1,C},stop:P,reset:function(){return D=!1,S=0,k=0,M.reset(),C}},M=n((function(t){O||(t=-t);if(!(w>=u))return void(w+=t);S+=t;D||(e=_(Math.min(1,Math.max(0,S/i))),D=O?S>=i:S<=0);null==x||x(e),D&&(k<p?function(){k++,y===sa.Reverse?S=(O=k%2==0)?S%i:i-S%i:S%=i;D=!1,null==m||m()}():(P(),null==v||v()))}));function E(){return C.isPlaying=!0,M.start(),null==g||g(),C}function P(){return C.isPlaying=!1,M.stop(),null==b||b(),C}return l&&E(),C}!function(t){t.Loop="loop",t.Reverse="reverse"}(sa||(sa={}));var da=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pa=function(){return(pa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},fa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},ya=function(t){function e(e){var n=t.call(this)||this;return n.controllers={},n.debouncers={},n.updaters=[],n.isPlaying=!1,n.readyToPlay=!1,n.skipAnimations=!1,n.interactionManager=e,window.addEventListener("DOMContentLoaded",(function(){n.readyToPlay=!0})),setTimeout((function(){n.readyToPlay=!0}),10),n}return da(e,t),e.prototype.play=function(){if(!this.isPlaying){for(var t in this.isPlaying=!0,this.controllers)this.controllers[t].play();this.startAnimationCycle()}},e.prototype.pause=function(){if(this.isPlaying)for(var t in this.isPlaying=!1,this.cancelAnimationFrame(),this.controllers)this.controllers[t].pause()},e.prototype.stop=function(){for(var t in this.isPlaying=!1,this.cancelAnimationFrame(),this.controllers)this.controllers[t].stop()},e.prototype.animate=function(t,e){var n,i,r=ha(pa(pa({},e),{autoplay:!!this.isPlaying&&e.autoplay,driver:this.createDriver(t,e.disableInteractions)}));return this.controllers[t]&&(this.controllers[t].stop(),delete this.controllers[t]),this.controllers[t]=r,this.skipAnimations?(null===(n=e.onUpdate)||void 0===n||n.call(e,e.to),r.stop()):null===(i=e.onUpdate)||void 0===i||i.call(e,e.from),r},e.prototype.animateMany=function(t,e,n){var i=this,r=e.map((function(t){return t.from})),o=0,a=0,l=function(t){return function(i){var a;r[t]=i,++o>=e.length&&(null===(a=n.onUpdate)||void 0===a||a.call(n,r),o=0)}},s=function(){var t;++a>=e.length&&(null===(t=n.onComplete)||void 0===t||t.call(n))},u=e.map((function(e,r){var o=t+"-"+r;return i.animate(o,pa(pa(pa({},n),e),{onUpdate:l(r),onComplete:s}))})),c={get isPlaying(){return u.some((function(t){return t.isPlaying}))},play:function(){return u.forEach((function(t){return t.play()})),c},pause:function(){return u.forEach((function(t){return t.pause()})),c},stop:function(){return u.forEach((function(t){return t.stop()})),c},reset:function(){return u.forEach((function(t){return t.reset()})),c}};return c},e.prototype.debouncedAnimate=function(t,e){var n;return this.debouncers[t]&&Date.now()-this.debouncers[t]<(null!==(n=e.duration)&&void 0!==n?n:300)?this.controllers[t]:(this.debouncers[t]=Date.now(),this.animate(t,e))},e.prototype.tween=function(t){var e="tween-"+btoa(JSON.stringify(t));return function(t){var e,n=ha(ca(ca({},t),{repeat:0,autoplay:!1,onUpdate:function(t){null==e||e(t)}})),i={start:function(t){return n.stop(),n.reset(),n.play(),e=t,i},stop:function(){return n.stop(),i}};return i}(pa(pa({},t),{driver:this.createDriver(e)}))},e.prototype.createDriver=function(t,e){var n=this;return function(i){return{start:function(){n.updaters.push([t,i]),null==n.requestId&&n.startAnimationCycle(),e&&n.interactionManager.pause("animation_"+t)},stop:function(){n.updaters=n.updaters.filter((function(e){return fa(e,1)[0]!==t})),n.updaters.length<=0&&n.cancelAnimationFrame(),e&&n.interactionManager.resume("animation_"+t)},reset:function(){}}}},e.prototype.startAnimationCycle=function(){var t=this,e=function(n){if(t.requestId=requestAnimationFrame(e),t.readyToPlay){void 0===t.lastTime&&(t.lastTime=n);var i=n-t.lastTime;t.lastTime=n,t.updaters.forEach((function(t){var e=fa(t,2);e[0],(0,e[1])(i)})),t.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:i})}};this.requestId=requestAnimationFrame(e)},e.prototype.cancelAnimationFrame=function(){this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=void 0)},e}(na),va=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},ga=function(){function t(t){this.states={},this.element=t}return t.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},t.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach((function(e){var n=va(e,2);n[0];var i=n[1].style;return t=i})),this.element.style.cursor=t},t}(),ma=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ma(e,t),e.prototype.legendItemClick=function(t,e,n){var i={type:"legend-item-click",series:t,itemId:e,enabled:n};this.listeners.dispatch("legend-item-click",i)},e.prototype.legendItemDoubleClick=function(t,e,n,i){var r={type:"legend-item-double-click",series:t,itemId:e,enabled:n,numVisibleItems:i};this.listeners.dispatch("legend-item-double-click",r)},e}(na),xa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};var Sa=function(t){function e(){var e=t.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return xa(e,t),e.prototype.updateHighlight=function(t,e){delete this.states[t],null!=e&&(this.states[t]={highlightedDatum:e}),this.applyStates()},e.prototype.getActiveHighlight=function(){return this.activeHighlight},e.prototype.applyStates=function(){var t,e,n=this.activeHighlight,i=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach((function(t){var e=wa(t,2);e[0];var n=e[1].highlightedDatum;return i=n})),this.activeHighlight=i,t=n,e=this.activeHighlight,!(t===e||(null==t?void 0:t.series)===(null==e?void 0:e.series)&&(null==t?void 0:t.itemId)===(null==e?void 0:e.itemId)&&(null==t?void 0:t.datum)===(null==e?void 0:e.datum))){var r={type:"highlight-change",previousHighlight:n,currentHighlight:this.activeHighlight};this.listeners.dispatch("highlight-change",r)}},e}(na),ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oa=function(){return(Oa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Da=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},_a=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ca=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ma=["pagehide","mousemove","mouseup","wheel"],Ea=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],Pa=function(t){function e(n,i){var r,o,a,l;void 0===i&&(i=document);var s=t.call(this)||this;s.eventHandler=function(t){return s.processEvent(t)},s.mouseDown=!1,s.touchDown=!1,s.enabled=!0,s.pausers=[],s.rootElement=i.body,s.element=n;try{for(var u=Ca(Ea),c=u.next();!c.done;c=u.next()){(p=c.value).startsWith("touch")?n.addEventListener(p,s.eventHandler,{passive:!0}):n.addEventListener(p,s.eventHandler)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}try{for(var h=Ca(Ma),d=h.next();!d.done;d=h.next()){var p;"wheel"===(p=d.value)?window.addEventListener(p,s.eventHandler,{passive:!1}):window.addEventListener(p,s.eventHandler)}}catch(t){a={error:t}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}if(e.interactionDocuments.indexOf(i)<0){var f=document.createElement("style");f.innerHTML="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",document.head.insertBefore(f,document.head.querySelector("style")),e.interactionDocuments.push(i)}return s}return ka(e,t),e.prototype.destroy=function(){var t,e,n,i;try{for(var r=Ca(Ma),o=r.next();!o.done;o=r.next()){var a=o.value;window.removeEventListener(a,this.eventHandler)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}try{for(var l=Ca(Ea),s=l.next();!s.done;s=l.next()){a=s.value;this.element.removeEventListener(a,this.eventHandler)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},e.prototype.resume=function(t){return this.pausers=this.pausers.filter((function(e){return e!==t})),this.enabled=this.pausers.length<=0,this.enabled},e.prototype.pause=function(t){this.enabled=!1,this.pausers.push(t)},e.prototype.processEvent=function(t){var e=this.decideInteractionEventTypes(t);e.length>0&&this.enabled&&this.dispatchEvent(t,e).catch((function(t){return U.errorOnce(t)}))},e.prototype.dispatchEvent=function(t,e){return Da(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u;return _a(this,(function(c){if(null==(n=this.calculateCoordinates(t)))return[2];i=function(e){var i=r.buildEvent(Oa(Oa({event:t},n),{type:e}));r.listeners.cancellableDispatch(e,(function(){return i.consumed}),i)},r=this;try{for(o=Ca(e),a=o.next();!a.done;a=o.next())l=a.value,i(l)}catch(t){s={error:t}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(s)throw s.error}}return[2]}))}))},e.prototype.decideInteractionEventTypes=function(t){switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var e=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==e?(this.mouseDown=e,[e?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},e.prototype.isEventOverElement=function(t){var e;return t.target===this.element||(null===(e=t.target)||void 0===e?void 0:e.parentElement)===this.element},e.prototype.calculateCoordinates=function(t){var n;if(t instanceof MouseEvent){var i=t.clientX,r=t.clientY,o=t.pageX,a=t.pageY,l=t.offsetX,s=t.offsetY;return this.fixOffsets(t,{clientX:i,clientY:r,pageX:o,pageY:a,offsetX:l,offsetY:s})}if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent){var u=null!==(n=t.touches[0])&&void 0!==n?n:t.changedTouches[0];i=u.clientX,r=u.clientY,o=u.pageX,a=u.pageY;return Oa(Oa({},e.NULL_COORDS),{clientX:i,clientY:r,pageX:o,pageY:a})}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}},e.prototype.fixOffsets=function(t,e){var n=function(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){var i=n(this.dragStartElement),r=n(t.target);e.offsetX-=i.x-r.x,e.offsetY-=i.y-r.y}return e},e.prototype.buildEvent=function(t){var e=t.type,n=t.event,i=t.clientX,r=t.clientY,o=t.offsetX,a=t.offsetY,l=t.pageX,s=t.pageY;if(!Ft(o)||!Ft(a)){var u=this.element.getBoundingClientRect();o=i-u.left,a=r-u.top}if(!Ft(l)||!Ft(s)){var c=this.rootElement.getBoundingClientRect();l=i-c.left,s=r-c.top}var h={type:e,offsetX:o,offsetY:a,pageX:l,pageY:s,sourceEvent:n,consumed:!1,consume:function(){return h.consumed=!0}};return h},e.interactionDocuments=[],e.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},e}(na),Na=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ta=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Ra=function(){function t(t,e){var n=this;this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;var i=e.addListener("hover",(function(t){return n.checkExclusiveRects(t)}));this.destroyFns.push((function(){return e.removeListener(i)}))}return t.prototype.updateTooltip=function(t,e,n){var i;null==n&&(n=null===(i=this.states[t])||void 0===i?void 0:i.content),n?this.states[t]={content:n,meta:e}:delete this.states[t],this.applyStates()},t.prototype.updateExclusiveRect=function(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]},t.prototype.removeTooltip=function(t){delete this.states[t],this.applyStates()},t.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},t.prototype.destroy=function(){var t,e;try{for(var n=Na(this.destroyFns),i=n.next();!i.done;i=n.next()){(0,i.value)()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.checkExclusiveRects=function(t){var e,n,i;try{for(var r=Na(Object.entries(this.exclusiveAreas)),o=r.next();!o.done;o=r.next()){var a=Ta(o.value,2),l=a[0];if(a[1].containsPoint(t.offsetX,t.offsetY)){i=l;break}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}i!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=i,this.applyStates())},t.prototype.applyStates=function(){var t,e=this,n=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),i=void 0,r=void 0;if(n.reverse(),n.slice(0,1).forEach((function(t){var n,o=null!==(n=e.states[t])&&void 0!==n?n:{},a=o.content,l=o.meta;i=a,r=l})),void 0===r||void 0===i)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===i){var o=this.tooltip.isVisible();this.tooltip.show(r,void 0,o)}else this.tooltip.show(r,i);this.appliedState={content:i,meta:r}},t}(),La=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Aa=function(){return(Aa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ia=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ja=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};var Fa=function(t){function e(){var e=t.call(this)||this;return e.states={},e.currentZoom=void 0,e}return La(e,t),e.prototype.updateZoom=function(t,e){delete this.states[t],null!=e&&(this.states[t]=Aa({},e)),this.applyStates()},e.prototype.getZoom=function(){return this.currentZoom},e.prototype.applyStates=function(){var t,e,n=this.currentZoom,i={};try{for(var r=Ia(Object.entries(this.states)),o=r.next();!o.done;o=r.next()){var a=ja(o.value,2),l=(a[0],a[1]),s=l.x,u=l.y;i.x=null!=s?s:i.x,i.y=null!=u?u:i.y}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}if(this.currentZoom=null!=i.x||null!=i.y?i:void 0,!function(t,e){var n,i,r,o,a,l,s,u;return t===e||(null===(n=null==t?void 0:t.x)||void 0===n?void 0:n.min)===(null===(i=null==e?void 0:e.x)||void 0===i?void 0:i.min)&&((null===(r=null==t?void 0:t.x)||void 0===r?void 0:r.max)===(null===(o=null==e?void 0:e.x)||void 0===o?void 0:o.max)&&((null===(a=null==t?void 0:t.y)||void 0===a?void 0:a.max)===(null===(l=null==e?void 0:e.y)||void 0===l?void 0:l.max)&&(null===(s=null==t?void 0:t.y)||void 0===s?void 0:s.min)===(null===(u=null==e?void 0:e.y)||void 0===u?void 0:u.min)))}(n,this.currentZoom)){var c=Aa({type:"zoom-change"},null!=n?n:{});this.listeners.dispatch("zoom-change",c)}},e}(na),Ba=function(){return(Ba=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var za,Wa=function(){function t(){this.layoutProcessors=new ea,this.listeners=new ea}return t.prototype.addListener=function(t,e){if("layout-complete"!==t)return this.layoutProcessors.addListener(t,e);if(function(t){return"layout-complete"===t}(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},t.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},t.prototype.dispatchPerformLayout=function(t,e){var n=this.layoutProcessors.reduceDispatch(t,(function(t,e){var n=t.shrinkRect;return[Ba(Ba({},e),{shrinkRect:n})]}),e);return null!=n?n:e},t.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},t}(),Ka=function(t){this.getSeries=t};!function(t){t[t.FULL=0]="FULL",t[t.PROCESS_DATA=1]="PROCESS_DATA",t[t.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=3]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=5]="SCENE_RENDER",t[t.NONE=6]="NONE"}(za||(za={}));var Ga=function(){function t(t){this.updateCallback=t}return t.prototype.update=function(t,e){void 0===t&&(t=za.FULL);var n=(void 0===e?{}:e).forceNodeDataRefresh,i=void 0!==n&&n;this.updateCallback(t,{forceNodeDataRefresh:i})},t}(),Xa=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ya=function(){function t(){this.range="tooltip"}return Xa([Xt(xe("tooltip","node"))],t.prototype,"range",void 0),t}(),Ha=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Va=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ua=function(t){function e(){var e=t.call(this,{name:"markerLabelGroup"})||this;e.label=new Dt,e._marker=new go,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=S.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return Ha(e,t),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.marker,e=this.markerSize;t.size=e,this.label.x=e/2+this.spacing},e.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,t.prototype.render.call(this,e)},e.className="MarkerLabel",Va([Si("label")],e.prototype,"text",void 0),Va([Si("label")],e.prototype,"fontStyle",void 0),Va([Si("label")],e.prototype,"fontWeight",void 0),Va([Si("label")],e.prototype,"fontSize",void 0),Va([Si("label")],e.prototype,"fontFamily",void 0),Va([Si("label","fill")],e.prototype,"color",void 0),Va([Si("marker","fill")],e.prototype,"markerFill",void 0),Va([Si("marker","stroke")],e.prototype,"markerStroke",void 0),Va([Si("marker","strokeWidth")],e.prototype,"markerStrokeWidth",void 0),Va([Si("marker","fillOpacity")],e.prototype,"markerFillOpacity",void 0),Va([Si("marker","strokeOpacity")],e.prototype,"markerStrokeOpacity",void 0),e}(et),Za=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function qa(t){for(var e=t.orientation,n=t.bboxes,i=t.maxHeight,r=t.maxWidth,o=t.itemPaddingY,a=void 0===o?0:o,l=t.itemPaddingX,s=void 0===l?0:l,u=t.forceResult,c=void 0!==u&&u,h="horizontal"===e,d={max:h?r:i,fn:h?function(t){return t.width}:function(t){return t.height},padding:h?s:a},p={max:h?i:r,fn:h?function(t){return t.height}:function(t){return t.width},padding:h?a:s},f=0,y=[];f<n.length;){var v=Ja(n.slice(f),f,d,p,c);if(!v)return;f+=v.processedBBoxCount,y.push(v.pageIndices)}return function(t,e,n,i,r){var o=0,a=0;return{pages:t.map((function(t){"horizontal"===e&&(t=function(t){var e,n,i=[];try{for(var r=Za(t[0]),o=r.next();!o.done;o=r.next()){o.value;i.push([])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t.forEach((function(t,e){t.forEach((function(t,n){i[n][e]=t}))})),i}(t));var l=0,s=t.map((function(t){var e=t.map((function(t){return l=Math.max(t,l),n[t]})),o=0,a=0;return e.forEach((function(t){o+=t.height+i,a=Math.max(a,t.width+r)})),{indices:t,bboxes:e,columnHeight:o,columnWidth:a}})),u=0,c=0;return s.forEach((function(t){u+=t.columnWidth,c=Math.max(c,t.columnHeight)})),o=Math.max(u,o),a=Math.max(c,a),{columns:s,startIndex:t[0][0],endIndex:l,pageWidth:u,pageHeight:c}})),maxPageWidth:o,maxPageHeight:a}}(y,e,n,a,s)}function Ja(t,e,n,i,r){var o=function(t,e){for(var n=t.length,i=0,r=0;r<n;r++){if((i+=e.fn(t[r])+e.padding)>e.max)return n/r<2?Math.ceil(n/2):r}return n}(t,n);if(o<1){if(!r)return;o=1}for(var a=o;a>=1;a--){var l=$a(t,e,a,n,i,r);if(null==l&&a<=1)return;if(null!=l){if("number"!=typeof l)return{processedBBoxCount:l.length*l[0].length,pageIndices:l};if(l<=1)return;a=l<a&&l>1?l:a}}}function $a(t,e,n,i,r,o){for(var a,l=[],s=0,u=0,c=[],h=[],d=0;d<t.length;d++){var p=(d+n)%n;0===p&&(s+=u,u=0,c.length>0&&l.push(c),c=[]);var f=i.fn(t[d])+i.padding;h[p]=Math.max(null!==(a=h[p])&&void 0!==a?a:0,f);var y=s+(u=Math.max(u,r.fn(t[d])+r.padding)),v=!o||l.length>0;if(y>r.max&&v){c=[];break}if(h.reduce((function(t,e){return t+e}),0)>i.max&&!o)return h.length<n?h.length:void 0;c.push(d+e)}return c.length>0&&l.push(c),l.length>0?l:void 0}var Qa=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},tl=function(){function t(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return Qa([Xt(ce)],t.prototype,"color",void 0),Qa([Xt(Oe)],t.prototype,"fontStyle",void 0),Qa([Xt(_e)],t.prototype,"fontWeight",void 0),Qa([Xt(fe(0))],t.prototype,"fontSize",void 0),Qa([Xt(ie)],t.prototype,"fontFamily",void 0),t}(),el=function(){function t(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return Qa([Xt(fe(0))],t.prototype,"size",void 0),Qa([Xt(he)],t.prototype,"fill",void 0),Qa([Xt(ye(0,1))],t.prototype,"fillOpacity",void 0),Qa([Xt(he)],t.prototype,"stroke",void 0),Qa([Xt(fe(0))],t.prototype,"strokeWidth",void 0),Qa([Xt(fe(0,1))],t.prototype,"strokeOpacity",void 0),t}(),nl=function(){function t(){this.size=15,this._shape=Co,this.padding=8}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),Qa([Xt(fe(0))],t.prototype,"size",void 0),Qa([Xt(fe(0))],t.prototype,"padding",void 0),t}(),il=function(){function t(t,e,n,i){var r=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=n,this.cursorManager=i,this.id=P(this),this.group=new et({name:"pagination"}),this.labelNode=new Dt,this.marker=new nl,this.activeStyle=new el,this.inactiveStyle=new el,this.highlightStyle=new el,this.label=new tl,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Co,this._previousButton=new Co;var o=this.labelNode;o.textBaseline="middle",o.fontSize=12,o.fontFamily="Verdana, sans-serif",o.fill="black",o.y=S.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,o]),this.interactionManager.addListener("click",(function(t){return r.onPaginationClick(t)})),this.interactionManager.addListener("hover",(function(t){return r.onPaginationMouseMove(t)})),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){switch(this._orientation=t,t){case"horizontal":this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break;case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},t.prototype.updatePositions=function(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()},t.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,n=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+n},t.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},t.prototype.updateLabel=function(){var t=this.currentPage,e=this.totalPages,n=this.labelNode,i=this.label,r=i.color,o=i.fontStyle,a=i.fontWeight,l=i.fontSize,s=i.fontFamily;n.text=t+1+" / "+e,n.fill=r,n.fontStyle=o,n.fontWeight=a,n.fontSize=l,n.fontFamily=s},t.prototype.updateMarkers=function(){var t=this,e=t.nextButton,n=t.previousButton,i=t.nextButtonDisabled,r=t.previousButtonDisabled,o=t.activeStyle,a=t.inactiveStyle,l=t.highlightStyle,s=t.highlightActive,u=function(t,e){return e?a:t===s?l:o};this.updateMarker(e,u("next",i)),this.updateMarker(n,u("previous",r))},t.prototype.updateMarker=function(t,e){var n,i=this.marker.size;t.size=i,t.fill=e.fill,t.fillOpacity=null!==(n=e.fillOpacity)&&void 0!==n?n:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},t.prototype.enableOrDisableButtons=function(){var t=this.currentPage,e=this.totalPages,n=0===e,i=t===e-1,r=0===t;this.nextButtonDisabled=i||n,this.previousButtonDisabled=r||n},t.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},t.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},t.prototype.onPaginationClick=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,n)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},t.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(za.SCENE_RENDER)},t.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},t.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},t.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},t.prototype.onMarkerShapeChange=function(){var t=Mo(this.marker.shape||Co);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(za.SCENE_RENDER)},t.prototype.attachPagination=function(t){t.append(this.group)},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.className="Pagination",t}(),rl=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ol=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},al=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},ll=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sl=["horizontal","vertical"],ul=Yt((function(t,e){return Ht(t,e,(function(t){return sl.includes(t)}))}),"expecting an orientation keyword such as 'horizontal' or 'vertical'"),cl=function(){function t(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return rl([Xt(ye(0))],t.prototype,"maxLength",void 0),rl([Xt(ce)],t.prototype,"color",void 0),rl([Xt(Oe)],t.prototype,"fontStyle",void 0),rl([Xt(_e)],t.prototype,"fontWeight",void 0),rl([Xt(fe(0))],t.prototype,"fontSize",void 0),rl([Xt(ie)],t.prototype,"fontFamily",void 0),rl([Xt(te)],t.prototype,"formatter",void 0),t}(),hl=function(){function t(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),rl([Xt(fe(0))],t.prototype,"size",void 0),rl([Xt(fe(0))],t.prototype,"padding",void 0),rl([Xt(fe(0))],t.prototype,"strokeWidth",void 0),t}(),dl=function(){function t(){this.marker=new hl,this.label=new cl,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return rl([Xt(ye(0))],t.prototype,"maxWidth",void 0),rl([Xt(fe(0))],t.prototype,"paddingX",void 0),rl([Xt(fe(0))],t.prototype,"paddingY",void 0),rl([Xt(ee)],t.prototype,"toggleSeriesVisible",void 0),t}(),pl=function(){function t(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return rl([Xt(te)],t.prototype,"legendItemClick",void 0),t}(),fl={category:function(){function t(t){var e,n=this;this.ctx=t,this.id=P(this),this.group=new et({name:"legend",layer:!0,zIndex:Re.LEGEND_ZINDEX}),this.itemSelection=ui.select(this.group,Ua),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new dl,this.listeners=new pl,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="bottom",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new il((function(e){return t.updateService.update(e)}),(function(t){return n.updatePageNumber(t)}),t.interactionManager,t.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;var i=[t.interactionManager.addListener("click",(function(t){return n.checkLegendClick(t)})),t.interactionManager.addListener("dblclick",(function(t){return n.checkLegendDoubleClick(t)})),t.interactionManager.addListener("hover",(function(t){return n.handleLegendMouseMove(t)}))],r=[t.layoutService.addListener("start-layout",(function(t){return n.positionLegend(t.shrinkRect)}))];(e=this.destroyFns).push.apply(e,al(al(al([],ol(i.map((function(e){return function(){return t.interactionManager.removeListener(e)}})))),ol(r.map((function(e){return function(){return t.layoutService.removeListener(e)}})))),[function(){return n.detachLegend()}]))}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},t.prototype.destroy=function(){this.destroyFns.forEach((function(t){return t()}))},t.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,w.MINOR)},t.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var n={"...":S.getTextSize("...",t).width};return e.set(t,n),n},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},t.prototype.attachLegend=function(t){t.append(this.group)},t.prototype.detachLegend=function(){var t;null===(t=this.group.parent)||void 0===t||t.removeChild(this.group)},t.prototype.getItemLabel=function(t){var e=this.ctx.callbackCache,n=this.item.label.formatter;return n?e.call(n,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text},t.prototype.performLayout=function(t,e){var n=this,i=this.item,r=i.paddingX,o=i.paddingY,a=i.label,l=i.maxWidth,s=i.marker,u=s.size,c=s.padding,h=s.shape,d=i.label,p=d.maxLength,f=void 0===p?1/0:p,y=d.fontStyle,v=d.fontWeight,g=d.fontSize,m=d.fontFamily,b=al([],ol(this.data));this.reverseOrder&&b.reverse(),this.itemSelection.update(b);var x=[],w=_t(a),S=null!=l?l:.8*t,k=u+c+r;if(this.itemSelection.each((function(t,e){var i,r=Mo(null!=h?h:e.marker.shape);t.marker&&t.marker instanceof r||(t.marker=new r),t.markerSize=u,t.spacing=c,t.fontStyle=y,t.fontWeight=v,t.fontSize=g,t.fontFamily=m;var o=null!==(i=e.itemId)&&void 0!==i?i:e.id,a=n.getItemLabel(e),l=(null!=a?a:"<unknown>").replace(/\r?\n/g," ");t.text=n.truncate(l,f,S,k,w,o),x.push(t.computeBBox())})),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var O=this.size,D=this.oldSize;O[0]=t,O[1]=e,O[0]===D[0]&&O[1]===D[1]||(D[0]=O[0],D[1]=O[1]);var _=this.updatePagination(x,t,e),C=_.pages,M=_.maxPageHeight,E=_.maxPageWidth;this.pages=C,this.maxPageSize=[E-r,M-o];var P=this.pagination.currentPage,N=this.pages[P];this.pages.length<1||!N?this.visible=!1:(this.visible=!0,this.updatePositions(P),this.update())},t.prototype.truncate=function(t,e,n,i,r,o){var a,l,s=t.split(""),u=!1;if(t.length>e&&(t=""+t.substring(0,e),u=!0),Math.floor(i+S.getTextSize(t,r).width)>n){var c="",h=this.getCharacterWidths(r),d=i+h["..."];try{for(var p=ll(s),f=p.next();!f.done;f=p.next()){var y=f.value;if(h[y]||(h[y]=S.getTextSize(y,r).width),(d+=h[y])>n)break;c+=y}}catch(t){a={error:t}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}t=c,u=!0}return u?(t+="...",this.truncatedItems.add(o)):this.truncatedItems.delete(o),t},t.prototype.updatePagination=function(t,e,n){var i=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;var o=this.calculatePagination(t,e,n),a=o.pages,l=o.maxPageHeight,s=o.maxPageWidth,u=o.paginationBBox,c=o.paginationVertical,h=a.findIndex((function(t){return t.endIndex>=r}));this.pagination.currentPage=Math.min(Math.max(h,0),a.length-1);var d=this.item,p=s-d.paddingX,f=l-d.paddingY,y=0,v=-u.y-this.item.marker.size/2;return c?v+=f+8:(y+=-u.x+p+8,v+=(f-u.height)/2),this.pagination.translationX=y,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:l,maxPageWidth:s,pages:a}},t.prototype.calculatePagination=function(t,e,n){var i,r,o,a=this.item,l=a.paddingX,s=a.paddingY,u=this.getOrientation(),c=["left","right"].includes(this.position),h=this.pagination.computeBBox(),d=new D(0,0,0,0),p=[],f=0,y=0,v=0,g=function(t){var e=t.width,n=t.height;return e===h.width&&n===h.height},m=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(v++>10){U.warn("unable to find stable legend layout.");break}h=d;var b=e-(c?0:h.width),x=qa({orientation:u,bboxes:t,maxHeight:n-(c?h.height:0),maxWidth:b,itemPaddingY:s,itemPaddingX:l,forceResult:m});p=null!==(i=null==x?void 0:x.pages)&&void 0!==i?i:[],f=null!==(r=null==x?void 0:x.maxPageWidth)&&void 0!==r?r:0,y=null!==(o=null==x?void 0:x.maxPageHeight)&&void 0!==o?o:0;var w=p.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:f,maxPageHeight:y,pages:p,paginationBBox:h,paginationVertical:c}},t.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this.item.paddingY,n=this.itemSelection,i=this.pages;if(!(i.length<1)&&i[t]){var r=i[t],o=r.columns,a=r.startIndex,l=r.endIndex,s=0,u=0,c=o.length,h=o[0].indices.length,d="horizontal"===this.getOrientation(),p=o[0].bboxes[0].height+e,f=[];n.each((function(t,e,n){var i,r;if(n<a||n>l)t.visible=!1;else{var y=n-a,v=0,g=0;d?(v=y%c,g=Math.floor(y/c)):(v=Math.floor(y/h),g=y%h),t.visible=!0;var m=o[v];m&&(u=p*g,s=null!==(i=f[g])&&void 0!==i?i:0,f[g]=(null!==(r=f[g])&&void 0!==r?r:0)+m.columnWidth,t.translationX=Math.floor(s),t.translationY=Math.floor(u))}}))}},t.prototype.updatePageNumber=function(t){var e=this.pages,n=e[t],i=n.startIndex,r=n.endIndex;0===i?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((i+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(za.SCENE_RENDER)},t.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,n=t.label.color;this.itemSelection.each((function(t,i){var r=i.marker;t.markerFill=r.fill,t.markerStroke=r.stroke,t.markerStrokeWidth=e,t.markerFillOpacity=r.fillOpacity,t.markerStrokeOpacity=r.strokeOpacity,t.opacity=i.enabled?1:.5,t.color=n}))},t.prototype.getDatumForPoint=function(t,e){var n,i,r=[],o={dist:1/0,datum:void 0};try{for(var a=ll(this.group.children),l=a.next();!l.done;l=a.next()){var s=l.value;if(s.visible&&s instanceof Ua){var u=s.computeBBox();if(u.grow(this.item.paddingX/2,"horizontal"),u.grow(this.item.paddingY/2,"vertical"),u.containsPoint(t,e))return s.datum;var c=t-u.x-this.item.paddingX/2,h=e-u.y-this.item.paddingY/2,d=Math.pow(c,2)+Math.pow(h,2);c>=0&&h>=0&&d<o.dist&&(o.dist=d,o.datum=s.datum),r.push(u)}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}if(D.merge(r).containsPoint(t,e))return o.datum},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=ol(this.maxPageSize,2),n=e[0],i=e[1];return t.height=Math.max(i,t.height),t.width=Math.max(n,t.width),t},t.prototype.checkLegendClick=function(t){var e=this.listeners.legendItemClick,n=this.ctx,i=n.dataService,r=n.highlightManager,o=this.item.toggleSeriesVisible,a=t.offsetX,l=t.offsetY,s=this.computeBBox(),u=this.group.visible&&s.containsPoint(a,l),c=this.getDatumForPoint(a,l);if(u&&c){var h=c.id,d=c.itemId,p=c.enabled,f=i.getSeries().find((function(t){return t.id===h}));if(f){t.consume();var y=p;o&&(y=!p,this.ctx.chartEventManager.legendItemClick(f,d,y)),y?r.updateHighlight(this.id,{series:f,itemId:d,datum:void 0}):r.updateHighlight(this.id),this.ctx.updateService.update(za.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==e||e({type:"click",enabled:y,itemId:d,seriesId:f.id})}}},t.prototype.checkLegendDoubleClick=function(t){var e,n=this.listeners.legendItemDoubleClick,i=this.ctx.dataService,r=this.item.toggleSeriesVisible,o=t.offsetX,a=t.offsetY;if("integrated"!==this.ctx.mode){var l=this.computeBBox(),s=this.group.visible&&l.containsPoint(o,a),u=this.getDatumForPoint(o,a);if(s&&u){var c=u.id,h=u.itemId,d=u.seriesId,p=i.getSeries(),f=p.find((function(t){return t.id===c}));if(f){if(t.consume(),r){var y=p.reduce((function(t,e){return al(al([],ol(t)),ol(e.getLegendData().filter((function(t){return"category"===t.legendType}))))}),[]),v={};y.forEach((function(t){var e,n;null!==(e=v[n=t.seriesId])&&void 0!==e||(v[n]=0),t.enabled&&v[t.seriesId]++}));var g=y.find((function(t){return t.itemId===h&&t.seriesId===d}));this.ctx.chartEventManager.legendItemDoubleClick(f,h,null!==(e=null==g?void 0:g.enabled)&&void 0!==e&&e,v)}this.ctx.updateService.update(za.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==n||n({type:"dblclick",enabled:!0,itemId:h,seriesId:f.id})}}}},t.prototype.handleLegendMouseMove=function(t){var e,n=this.enabled,i=this.item.toggleSeriesVisible,r=this.listeners;if(n){var o=this.computeBBox(),a=t.pageX,l=t.pageY,s=t.offsetX,u=t.offsetY,c=this.group.visible&&o.containsPoint(s,u);if(!c)return this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),void this.ctx.tooltipManager.removeTooltip(this.id);t.consume();var h=this.getDatumForPoint(s,u);if(!(c&&void 0!==h))return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);var d=h?this.ctx.dataService.getSeries().find((function(t){return t.id===(null==h?void 0:h.id)})):void 0;if(h&&this.truncatedItems.has(null!==(e=h.itemId)&&void 0!==e?e:h.id)){var p=this.getItemLabel(h);this.ctx.tooltipManager.updateTooltip(this.id,{pageX:a,pageY:l,offsetX:s,offsetY:u,event:t,showArrow:!1},tn({content:p}))}else this.ctx.tooltipManager.removeTooltip(this.id);(i||null!=r.legendItemClick||null!=r.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),(null==h?void 0:h.enabled)&&d?this.ctx.highlightManager.updateHighlight(this.id,{series:d,itemId:null==h?void 0:h.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}},t.prototype.positionLegend=function(t){var e=this,n=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:n};var i=ol(this.calculateLegendDimensions(t),2),r=i[0],o=i[1];this.group.translationX=0,this.group.translationY=0,this.performLayout(r,o);var a=this.computePagedBBox(),l=function(){switch(e.position){case"top":return 0;case"bottom":return t.height-a.height;case"left":return 0;case"right":default:return t.width-a.width}};if(this.visible){var s=void 0,u=void 0;switch(this.position){case"top":case"bottom":s=(t.width-a.width)/2,u=l(),n.shrink(a.height,this.position);break;case"left":case"right":default:s=l(),u=(t.height-a.height)/2,n.shrink(a.width,this.position)}this.group.translationX=Math.floor(-a.x+t.x+s),this.group.translationY=Math.floor(-a.y+t.y+u)}if(this.visible&&this.enabled&&this.data.length){var c=this.spacing;n.shrink(c,this.position);var h=a.clone();h.x+=this.group.translationX,h.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,h)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:n}},t.prototype.calculateLegendDimensions=function(t){var e=t.width,n=t.height,i=e/n,r=0,o=0;switch(this.position){case"top":case"bottom":var a=i<1?Math.min(.5,1/i*.2):.2;r=this.maxWidth?Math.min(this.maxWidth,e):e,o=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*a);break;case"left":case"right":default:var l=i>1?Math.min(.5,.25*i):.25;r=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*l),o=this.maxHeight?Math.min(this.maxHeight,n):n}return[r,o]},t.className="Legend",rl([Xt(ee)],t.prototype,"_enabled",void 0),rl([Xt(Ie)],t.prototype,"position",void 0),rl([Xt(ye(0))],t.prototype,"maxWidth",void 0),rl([Xt(ye(0))],t.prototype,"maxHeight",void 0),rl([Xt(ne)],t.prototype,"reverseOrder",void 0),rl([Xt(ul)],t.prototype,"orientation",void 0),rl([Xt(fe(0))],t.prototype,"spacing",void 0),t}()};var yl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},vl=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},gl=function(){function t(){this.cache=new Map}return t.prototype.call=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.cache.get(t),o=function(){try{var i=t.apply(void 0,vl([],yl(n)));return r&&null!=e&&r.set(e,i),i}catch(t){return void U.warnOnce("User callback errored, ignoring",t)}};try{e=JSON.stringify(n)}catch(t){return o()}return null==r&&(r=new Map,this.cache.set(t,r)),r.has(e)?r.get(e):o()},t.prototype.invalidateCache=function(){this.cache=new Map},t}(),ml=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bl=function(){return(bl=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},xl=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},wl=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},Sl=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},kl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Ol=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dl=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},_l=function(t){function e(e,n,i){var r;void 0===e&&(e=window.document);var o=t.call(this)||this;o.id=P(o),o.processedOptions={},o.userOptions={},o.queuedUserOptions=[],o.seriesRoot=new et({name:o.id+"-Series-root"}),o.extraDebugStats={},o._container=void 0,o.data=[],o.padding=new Nn(20),o.seriesAreaPadding=new Nn(0),o.title=void 0,o.subtitle=void 0,o.footnote=void 0,o.mode="standalone",o._destroyed=!1,o.modules={},o.legendModules={},o._pendingFactoryUpdates=[],o._performUpdateNoRenderCount=0,o._performUpdateType=za.NONE,o.seriesToUpdate=new Set,o.performUpdateTrigger=Fn((function(t){return setTimeout(t,0)}),(function(t){var e=t.count;return wl(o,void 0,void 0,(function(){var t;return Sl(this,(function(n){switch(n.label){case 0:if(this._destroyed)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.performUpdate(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this._lastPerformUpdateError=t,U.error("update error",t),[3,4];case 4:return[2]}}))}))})),o._axes=[],o._series=[],o.applyLegendOptions=void 0,o.lastInteractionEvent=void 0,o.pointerScheduler=function(t){return Fn((function(t){return requestAnimationFrame(t)}),t)}((function(){o.lastInteractionEvent&&o.handlePointer(o.lastInteractionEvent),o.lastInteractionEvent=void 0})),o.onSeriesNodeClick=function(t){var e=bl(bl({},t),{type:"seriesNodeClick"});Object.defineProperty(e,"series",{enumerable:!1,get:function(){return t.series}}),o.fireEvent(e)},o.onSeriesNodeDoubleClick=function(t){var e=bl(bl({},t),{type:"seriesNodeDoubleClick"});o.fireEvent(e)};var a=null==i?void 0:i.scene,l=null!==(r=null==i?void 0:i.element)&&void 0!==r?r:e.createElement("div"),s=null==i?void 0:i.container,u=new et({name:"root"});return u.visible=!1,u.append(o.seriesRoot),o.axisGroup=new et({name:"Axes",layer:!0,zIndex:Re.AXIS_ZINDEX}),u.appendChild(o.axisGroup),o.element=l,l.classList.add("ag-chart-wrapper"),l.style.position="relative",o.scene=null!=a?a:new ct({document:e,overrideDevicePixelRatio:n}),o.debug=!1,o.scene.debug.consoleLog=!1,o.scene.root=u,o.scene.container=l,o.autoSize=!0,o.chartEventManager=new ba,o.cursorManager=new ga(l),o.highlightManager=new Sa,o.interactionManager=new Pa(l),o.zoomManager=new Fa,o.dataService=new Ka((function(){return o.series})),o.layoutService=new Wa,o.updateService=new Ga((function(t,e){void 0===t&&(t=za.FULL);var n=e.forceNodeDataRefresh;return o.update(t,{forceNodeDataRefresh:n})})),o.callbackCache=new gl,o.animationManager=new ya(o.interactionManager),o.animationManager.skipAnimations=!0,o.animationManager.play(),o.tooltip=new on(o.scene.canvas.element,e,e.body),o.tooltipManager=new Ra(o.tooltip,o.interactionManager),o.overlays=new Jo(o.element),o.highlight=new Ya,o.container=s,Rn.observe(o.element,(function(t){var e,n=t.width,i=t.height;if(o.autoSize&&(0!==n||0!==i)){var r=kl(null!==(e=o._lastAutoSize)&&void 0!==e?e:[],2),a=r[0],l=void 0===a?0:a,s=r[1];l===n&&(void 0===s?0:s)===i||(o._lastAutoSize=[n,i],o.resize())}})),o.layoutService.addListener("start-layout",(function(t){return o.positionPadding(t.shrinkRect)})),o.layoutService.addListener("start-layout",(function(t){return o.positionCaptions(t.shrinkRect)})),o.interactionManager.addListener("click",(function(t){return o.onClick(t)})),o.interactionManager.addListener("dblclick",(function(t){return o.onDoubleClick(t)})),o.interactionManager.addListener("hover",(function(t){return o.onMouseMove(t)})),o.interactionManager.addListener("leave",(function(t){return o.onLeave(t)})),o.interactionManager.addListener("page-left",(function(){return o.destroy()})),o.interactionManager.addListener("wheel",(function(){return o.disablePointer()})),o.animationManager.addListener("animation-frame",(function(t){o.update(za.SCENE_RENDER)})),o.highlightManager.addListener("highlight-change",(function(t){return o.changeHighlightDatum(t)})),o.zoomManager.addListener("zoom-change",(function(t){return o.update(za.PROCESS_DATA,{forceNodeDataRefresh:!0})})),o.attachLegend("category"),o}return ml(e,t),e.prototype.getOptions=function(){var t,e=this.queuedUserOptions;return po([null!==(t=e[e.length-1])&&void 0!==t?t:this.userOptions])},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.element.parentNode;null!=e&&e.removeChild(this.element),t&&!this.destroyed&&t.appendChild(this.element),this._container=t}},enumerable:!1,configurable:!0}),e.prototype.autoSizeChanged=function(t){var e=this.element.style;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize()}else e.display="inline-block",e.width="auto",e.height="auto"},e.prototype.download=function(t,e){this.scene.download(t,e)},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);var e=new t.instanceConstructor(this.getModuleContext());this.modules[t.optionsKey]={instance:e},this[t.optionsKey]=e},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.getModuleContext=function(){var t=this;return{scene:t.scene,animationManager:t.animationManager,chartEventManager:t.chartEventManager,cursorManager:t.cursorManager,highlightManager:t.highlightManager,interactionManager:t.interactionManager,tooltipManager:t.tooltipManager,zoomManager:t.zoomManager,dataService:t.dataService,layoutService:t.layoutService,updateService:t.updateService,mode:t.mode,callbackCache:t.callbackCache}},e.prototype.destroy=function(t){var e,n,i;if(!this._destroyed){var r=null==t?void 0:t.keepTransferableResources,o=void 0;this._performUpdateType=za.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),null===(i=this.legend)||void 0===i||i.destroy(),this.overlays.noData.hide(),Rn.unobserve(this.element);try{for(var a=Ol(Object.entries(this.modules)),l=a.next();!l.done;l=a.next()){var s=kl(l.value,2),u=s[0];s[1].instance.destroy(),delete this.modules[u],delete this[u]}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.interactionManager.destroy(),r?(this.scene.strip(),o={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.series.forEach((function(t){return t.destroy()})),this.series=[],this.axes.forEach((function(t){return t.destroy()})),this.axes=[],this.callbackCache.invalidateCache(),this._destroyed=!0,o}},e.prototype.log=function(t){this.debug&&U.debug(t)},e.prototype.disablePointer=function(t){void 0===t&&(t=!1),t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},e.prototype.requestFactoryUpdate=function(t){var e=this._pendingFactoryUpdates,n=e.length;0===n?(e.push(t),this._processCallbacks().catch((function(t){return U.errorOnce(t)}))):e.splice(1,n-1,t)},e.prototype._processCallbacks=function(){return wl(this,void 0,void 0,(function(){var t,e;return Sl(this,(function(n){switch(n.label){case 0:t=this._pendingFactoryUpdates,n.label=1;case 1:return t.length>0?this.updatePending?[4,Uo(1)]:[3,3]:[3,7];case 2:return n.sent(),[3,1];case 3:return n.trys.push([3,5,,6]),[4,t[0]()];case 4:return n.sent(),this.callbackCache.invalidateCache(),[3,6];case 5:return e=n.sent(),U.error("update error",e),[3,6];case 6:return t.shift(),[3,1];case 7:return[2]}}))}))},Object.defineProperty(e.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updatePending",{get:function(){return this._performUpdateType!==za.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),e.prototype.awaitUpdateCompletion=function(){return wl(this,void 0,void 0,(function(){return Sl(this,(function(t){switch(t.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return t.sent(),[2]}}))}))},e.prototype.update=function(t,e){var n,i;void 0===t&&(t=za.FULL);var r=null!=e?e:{},o=r.forceNodeDataRefresh,a=void 0!==o&&o,l=r.seriesToUpdate,s=void 0===l?this.series:l;a&&this.series.forEach((function(t){return t.markNodeDataDirty()}));try{for(var u=Ol(s),c=u.next();!c.done;c=u.next()){var h=c.value;this.seriesToUpdate.add(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())},e.prototype.performUpdate=function(t){var e;return wl(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u;return Sl(this,(function(c){switch(c.label){case 0:switch(i=(n=this)._performUpdateType,r=n.extraDebugStats,o=[performance.now()],i){case za.FULL:case za.PROCESS_DATA:return[3,1];case za.PERFORM_LAYOUT:return[3,3];case za.SERIES_UPDATE:return[3,5];case za.TOOLTIP_RECALCULATION:return[3,7];case za.SCENE_RENDER:return[3,8];case za.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:c.sent(),this.disablePointer(!0),o.push(performance.now()),c.label=3;case 3:return this.autoSize&&!this._lastAutoSize&&this._performUpdateNoRenderCount++<5?(this._performUpdateType=za.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(),[3,11]):(this._performUpdateNoRenderCount=0,[4,this.performLayout()]);case 4:c.sent(),this.handleOverlays(),o.push(performance.now()),c.label=5;case 5:return a=this.seriesRect,l=Dl([],kl(this.seriesToUpdate)).map((function(t){return t.update({seriesRect:a})})),this.seriesToUpdate.clear(),[4,Promise.all(l)];case 6:c.sent(),o.push(performance.now()),c.label=7;case 7:s=this.tooltipManager.getTooltipMeta(this.id),i<za.SERIES_UPDATE&&"hover"===(null===(e=null==s?void 0:s.event)||void 0===e?void 0:e.type)&&this.handlePointer(s.event),c.label=8;case 8:return[4,this.scene.render({debugSplitTimes:o,extraDebugStats:r})];case 9:c.sent(),this.extraDebugStats={},c.label=10;case 10:this._performUpdateType=za.NONE,c.label=11;case 11:return u=performance.now(),this.log({chart:this,durationMs:Math.round(100*(u-o[0]))/100,count:t,performUpdateType:za[i]}),[2]}}))}))},Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this,n=new Set;this._axes.forEach((function(t){t.detachAxis(e.axisGroup),n.add(t)})),this._axes=t.filter((function(t){return!t.linkedTo})).concat(t.filter((function(t){return t.linkedTo}))),this._axes.forEach((function(t){t.attachAxis(e.axisGroup),n.delete(t)})),n.forEach((function(t){return t.destroy()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach((function(t){return e.addSeries(t)}))},enumerable:!1,configurable:!0}),e.prototype.addSeries=function(t,e){var n=this.series,i=this.seriesRoot;if(n.indexOf(t)<0){var r=e?n.indexOf(e):-1;return r>=0?(n.splice(r,0,t),i.insertBefore(t.rootGroup,e.rootGroup)):(n.push(t),i.append(t.rootGroup)),this.initSeries(t),!0}return!1},e.prototype.initSeries=function(t){t.chart=this,t.highlightManager=this.highlightManager,t.animationManager=this.animationManager,t.data||(t.data=this.data),this.addSeriesListeners(t),t.chartEventManager=this.chartEventManager,t.addChartEventListeners()},e.prototype.freeSeries=function(t){t.chart=void 0,t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach((function(e){t.freeSeries(e),t.seriesRoot.removeChild(e.rootGroup)})),this._series=[]},e.prototype.addSeriesListeners=function(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.updateAllSeriesListeners=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),t.addSeriesListeners(e)}))},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach((function(e){e.boundSeries=t.series.filter((function(t){return(e.direction===Le.X?t.xAxis:t.yAxis)===e}))}))},e.prototype.assignAxesToSeries=function(t){var e=this;void 0===t&&(t=!1);var n={};this.axes.forEach((function(t){var e,i=t.direction;(null!==(e=n[i])&&void 0!==e?e:n[i]=[]).push(t)})),this.series.forEach((function(i){i.directions.forEach((function(r){if(!(r===Le.X?i.xAxis:i.yAxis)||t){var o=n[r];if(o){var a=i.getKeys(r),l=e.findMatchingAxis(o,i.getKeys(r));l?r===Le.X?i.xAxis=l:i.yAxis=l:U.warn("no matching axis for direction ["+r+"] and keys ["+a+"]; check series and axes configuration.")}else U.warn("no available axis for direction ["+r+"]; check series and axes configuration.")}}))}))},e.prototype.findMatchingAxis=function(t,e){var n,i,r,o;try{for(var a=Ol(t),l=a.next();!l.done;l=a.next()){var s=l.value,u=s.keys;if(!u.length)return s;if(e)try{for(var c=(r=void 0,Ol(e)),h=c.next();!h.done;h=c.next()){var d=h.value;if(u.indexOf(d)>=0)return s}}catch(t){r={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.resize=function(t,e){var n,i,r,o;null!=t||(t=null!==(n=this.width)&&void 0!==n?n:this.autoSize?null===(i=this._lastAutoSize)||void 0===i?void 0:i[0]:this.scene.canvas.width),null!=e||(e=null!==(r=this.height)&&void 0!==r?r:this.autoSize?null===(o=this._lastAutoSize)||void 0===o?void 0:o[1]:this.scene.canvas.height),t&&e&&Number.isFinite(t)&&Number.isFinite(e)&&this.scene.resize(t,e)&&(this.disablePointer(),this.update(za.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},e.prototype.processData=function(){return wl(this,void 0,void 0,(function(){return Sl(this,(function(t){switch(t.label){case 0:return(this.axes.length>0||this.series.some((function(t){return t instanceof Ho})))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),[4,Promise.all(this.series.map((function(t){return t.processData()})))];case 1:return t.sent(),[4,this.updateLegend()];case 2:return t.sent(),[2]}}))}))},e.prototype.placeLabels=function(){var t,e,n,i=[],r=[];try{for(var o=Ol(this.series),a=o.next();!a.done;a=o.next()){var l=a.value;if(l.visible){var s=l.getLabelData();s&&(null!=(n=s[0])&&"object"==typeof n.point&&"object"==typeof n.label)&&(r.push(s),i.push(l))}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}var u=this.seriesRect,c=u&&r.length>0?function(t,e,n){void 0===n&&(n=5);var i=[];t=t.map((function(t){return t.slice().sort((function(t,e){return e.point.size-t.point.size}))}));for(var r=0;r<t.length;r++){var o=i[r]=[],a=t[r];if((null==a?void 0:a.length)&&a[0].label)for(var l=function(r,l){var s,u,c,h,d=a[r],p=d.label,f=.5*d.point.size,y=d.point.x-.5*p.width,v=d.point.y-f-p.height-n,g=p.width,m=p.height;return!e||(c=v,h=m,(u=y)+g<(s=e).x+s.width&&u>s.x&&c>s.y&&c+h<s.y+s.height)?t.some((function(t){return t.some((function(t){return Ln(t.point,y,v,g,m)}))}))||i.some((function(t){return t.some((function(t){return An(t,y,v,g,m)}))}))?"continue":void o.push({index:r,text:p.text,x:y,y:v,width:g,height:m,datum:d}):"continue"},s=0,u=a.length;s<u;s++)l(s)}return i}(r,{x:0,y:0,width:u.width,height:u.height}):[];return new Map(c.map((function(t,e){return[i[e],t]})))},e.prototype.attachLegend=function(t){var e;if(this.legendType!==t){null===(e=this.legend)||void 0===e||e.destroy(),this.legend=void 0;var n=this.getModuleContext();this.legend=function(t,e){if(fl[t])return new fl[t](e);throw new Error("AG Charts - unknown legend type: "+t)}(t,n),this.legend.attachLegend(this.scene.root),this.legendType=t}},e.prototype.setLegendInit=function(t){this.applyLegendOptions=t},e.prototype.updateLegend=function(){var t;return wl(this,void 0,void 0,(function(){var e,n;return Sl(this,(function(i){return e=[],this.series.filter((function(t){return t.showInLegend})).forEach((function(t){var n=t.getLegendData();e.push.apply(e,Dl([],kl(n)))})),n=e.length>0?e[0].legendType:"category",this.attachLegend(n),null===(t=this.applyLegendOptions)||void 0===t||t.call(this,this.legend),"category"===n&&this.validateLegendData(e),this.legend.data=e,[2]}))}))},e.prototype.validateLegendData=function(t){var e=this,n={};t.forEach((function(t){var i,r,o,a,l,s,u=null===(r=e.series.find((function(e){return e.id===t.seriesId})))||void 0===r?void 0:r.type;if(u){var c=t;null!==(o=n[u])&&void 0!==o||(n[u]=((i={})[c.label.text]=new Set,i)),null!==(a=(l=n[u])[s=c.label.text])&&void 0!==a||(l[s]=new Set),null!=c.marker.fill&&n[u][c.label.text].add(c.marker.fill)}})),Object.keys(n).forEach((function(t){Object.keys(n[t]).forEach((function(e){n[t][e].size>1&&U.warnOnce("legend item '"+e+"' has multiple fill colors, this may cause unexpected behaviour.")}))}))},e.prototype.performLayout=function(){return wl(this,void 0,void 0,(function(){var t,e,n,i;return Sl(this,(function(r){return this.scene.root.visible=!0,t=this.scene,e=t.width,n=t.height,i=new D(0,0,e,n),i=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:i}).shrinkRect,[2,i=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:i}).shrinkRect]}))}))},e.prototype.positionPadding=function(t){var e=this.padding;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}},e.prototype.positionCaptions=function(t){var e,n=this.title,i=this.subtitle,r=this.footnote,o=t.clone(),a=function(e){var n,i=t.height/10,r=null!==(n=e.lineHeight)&&void 0!==n?n:e.fontSize*Dt.defaultLineHeightRatio,o=t.width,a=Math.max(r,i);e.computeTextWrap(o,a)},l=function(t){var e,n=o.y;t.node.x=o.x+o.width/2,t.node.y=n,t.node.textBaseline="top",a(t);var i=t.node.computeBBox(),r=Math.ceil(i.y-n+i.height+(null!==(e=t.spacing)&&void 0!==e?e:0));o.shrink(r,"top")};return n&&(n.node.visible=n.enabled,n.node.visible&&l(n)),i&&(i.node.visible=null!==(e=(null==n?void 0:n.enabled)&&i.enabled)&&void 0!==e&&e,i.node.visible&&l(i)),r&&(r.node.visible=r.enabled,r.node.visible&&function(t){var e,n=o.y+o.height;t.node.x=o.x+o.width/2,t.node.y=n,t.node.textBaseline="bottom",a(t);var i=t.node.computeBBox(),r=Math.ceil(n-i.y+(null!==(e=t.spacing)&&void 0!==e?e:0));o.shrink(r,"bottom")}(r)),{shrinkRect:o}},e.prototype.getSeriesRect=function(){return this.seriesRect},e.prototype.pickSeriesNode=function(t,e,n){var i,r,o,a,l=performance.now(),s=e?[cn.EXACT_SHAPE_MATCH]:void 0,u=Dl([],kl(this.series)).reverse(),c=void 0;try{for(var h=Ol(u),d=h.next();!d.done;d=h.next()){var p=d.value;if(p.visible&&p.rootGroup.visible){var f=null!==(o=p.pickNode(t,s))&&void 0!==o?o:{},y=f.match,v=f.distance;if(y&&null!=v&&((!c||c.distance>v)&&v<=(null!=n?n:1/0)&&(c={series:p,distance:v,datum:y}),0===v))break}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(a=this.extraDebugStats.pickSeriesNode)&&void 0!==a?a:0)+(performance.now()-l)),c},e.prototype.onMouseMove=function(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(za.SCENE_RENDER)},e.prototype.onLeave=function(t){this.tooltip.pointerLeftOntoTooltip(t)||this.disablePointer()},e.prototype.handlePointer=function(t){var e=this,n=this.lastPick,i=this.hoverRect,r=t.offsetX,o=t.offsetY,a=function(t){void 0===t&&(t=!1),n&&e.disablePointer(t)};(null==i?void 0:i.containsPoint(r,o))?(this.handlePointerTooltip(t,a),this.handlePointerNode(t)):a()},e.prototype.handlePointerTooltip=function(t,e){var n,i,r,o=this.lastPick,a=this.tooltip.range,l=t.pageX,s=t.pageY,u=t.offsetX,c=t.offsetY;"number"==typeof a&&Number.isFinite(a)&&(r=a);var h=this.pickSeriesNode({x:u,y:c},"exact"===a,r);if(!h)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));var d,p="node"===this.highlight.range||!o||o.datum!==h.datum;p?(d=h.series.getTooltipHtml(h.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,h.datum)):o&&(o.event=t.sourceEvent);var f=null!=r,y=this.tooltip.enabled&&h.series.tooltip.enabled,v="exact"===a&&0===h.distance,g=y&&("nearest"===a||f||v)&&(!p||void 0!==d),m={xOffset:h.datum.series.tooltip.position.xOffset,yOffset:h.datum.series.tooltip.position.yOffset},b=this.mergePointerDatum({pageX:l,pageY:s,offsetX:u,offsetY:c,event:t,showArrow:h.series.tooltip.showArrow,position:m},h.datum);b.enableInteraction=null!==(i=null===(n=h.series.tooltip.interaction)||void 0===n?void 0:n.enabled)&&void 0!==i&&i,g&&this.tooltipManager.updateTooltip(this.id,b,d)},e.prototype.handlePointerNode=function(t){var e=this;this.checkSeriesNodeRange(t,(function(t,n){(t.hasEventListener("nodeClick")||t.hasEventListener("nodeDoubleClick"))&&e.cursorManager.updateCursor("chart","pointer"),"node"===e.highlight.range&&e.highlightManager.updateHighlight(e.id,n)}))||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},e.prototype.onClick=function(t){this.checkSeriesNodeClick(t)?this.update(za.SERIES_UPDATE):this.fireEvent({type:"click",event:t.sourceEvent})},e.prototype.onDoubleClick=function(t){this.checkSeriesNodeDoubleClick(t)?this.update(za.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:t.sourceEvent})},e.prototype.checkSeriesNodeClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeDoubleClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeDoubleClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeRange=function(t,e){var n,i=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),r=null==i?void 0:i.datum,o=null==r?void 0:r.series.nodeClickRange;if(r&&"nearest"===o)return e(r.series,r),!0;"number"==typeof o&&Number.isFinite(o)&&(n=o);var a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},"exact"===o,n);if(!a)return!1;var l=null!=n,s="exact"===o&&0===a.distance;return!(!l&&!s)&&(e(a.series,a.datum),!0)},e.prototype.mergePointerDatum=function(t,e){if("node"===e.series.tooltip.position.type&&e.nodeMidPoint){var n=e.nodeMidPoint,i=n.x,r=n.y,o=this.scene.canvas,a=e.series.rootGroup.inverseTransformPoint(i,r),l=o.element.getBoundingClientRect();return bl(bl({},t),{pageX:Math.round(l.left+window.scrollX+a.x),pageY:Math.round(l.top+window.scrollY+a.y),offsetX:Math.round(a.x),offsetY:Math.round(a.y)})}return t},e.prototype.changeHighlightDatum=function(t){var e,n,i=new Set,r=null!==(e=t.currentHighlight)&&void 0!==e?e:{},o=r.series,a=void 0===o?void 0:o,l=r.datum,s=null!==(n=t.previousHighlight)&&void 0!==n?n:{},u=s.series,c=void 0===u?void 0:u,h=s.datum;c&&i.add(c),a&&i.add(a),(null==c?void 0:c.cursor)&&h&&this.cursorManager.updateCursor(c.id),(null==a?void 0:a.cursor)&&l&&this.cursorManager.updateCursor(a.id,a.cursor),this.lastPick=t.currentHighlight?{datum:t.currentHighlight}:void 0,null==a||null==c?this.update(za.SERIES_UPDATE):this.update(za.SERIES_UPDATE,{seriesToUpdate:i})},e.prototype.waitForUpdate=function(t){return void 0===t&&(t=5e3),wl(this,void 0,void 0,(function(){var e;return Sl(this,(function(n){switch(n.label){case 0:e=performance.now(),n.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");return[4,Uo(5)];case 2:return n.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return n.sent(),[2]}}))}))},e.prototype.handleOverlays=function(){this.handleNoDataOverlay()},e.prototype.handleNoDataOverlay=function(){var t=!this.series.some((function(t){return t.hasData()})),e=this.getSeriesRect();t&&e?this.overlays.noData.show(e):this.overlays.noData.hide()},xl([ki({newValue:function(t){this.scene.debug.consoleLog=t}})],e.prototype,"debug",void 0),xl([ki({newValue:function(t){var e;null===(e=this.series)||void 0===e||e.forEach((function(e){return e.data=t}))}})],e.prototype,"data",void 0),xl([ki({newValue:function(t){this.resize(t)}})],e.prototype,"width",void 0),xl([ki({newValue:function(t){this.resize(void 0,t)}})],e.prototype,"height",void 0),xl([ki({changeValue:function(t){this.autoSizeChanged(t)}}),Xt(ee)],e.prototype,"autoSize",void 0),xl([ki({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"title",void 0),xl([ki({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"subtitle",void 0),xl([ki({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"footnote",void 0),xl([Xt(xe("standalone","integrated"))],e.prototype,"mode",void 0),e}(Tt),Cl=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter((function(e,n){return n!==t.number})):[]},t}();function Ml(t,e){void 0===e&&(e=!0);var n=new Cl,i=0;return e&&t.forEach((function(t){return i=Math.max(i,t.labels.length)})),t.forEach((function(t){if(e)for(;t.labels.length<i;)t.labels.unshift("");!function(t,e){var n=e.labels.slice().reverse(),i=n.length-1;n.forEach((function(e,n){var r=t.children,o=r.find((function(t){return t.label===e})),a=n!==i;if(o&&a)t=o;else{var l=new Cl(e,t);l.number=r.length,r.push(l),a&&(t=l)}}))}(n,t)})),n}function El(t,e,n){var i=n/(e.number-t.number);e.change-=i,e.shift+=n,t.change+=i,e.prelim+=n,e.mod+=n}function Pl(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}function Nl(t,e){var n=t.children;if(n.length){var i=n[0];n.forEach((function(t){Nl(t,e),i=function(t,e,n){var i=t.getLeftSibling();if(i){for(var r=t,o=t,a=i,l=o.getLeftmostSibling(),s=o.mod,u=r.mod,c=a.mod,h=l.mod;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),l=l.nextLeft(),(r=r.nextRight()).ancestor=t;var d=a.prelim+c-(o.prelim+s)+n;d>0&&(El(Pl(a,t,e),t,d),s+=d,u+=d),c+=a.mod,s+=o.mod,h+=l.mod,u+=r.mod}a.nextRight()&&!r.nextRight()?(r.thread=a.nextRight(),r.mod+=c-u):(o.nextLeft()&&!l.nextLeft()&&(l.thread=o.nextLeft(),l.mod+=s-h),e=t)}return e}(t,i,e)})),function(t){var e=t.children;if(e)for(var n=0,i=0,r=e.length-1;r>=0;r--){var o=e[r];o.prelim+=n,o.mod+=n,i+=o.change,n+=o.shift+i}}(t);var r=(n[0].prelim+n[n.length-1].prelim)/2;(o=t.getLeftSibling())?(t.prelim=o.prelim+e,t.mod=t.prelim-r):t.prelim=r}else{var o=t.getLeftSibling();t.prelim=o?o.prelim+e:0}}var Tl=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var n=e(t),i=n.x,r=n.y;i>this.right&&(this.right=i),i<this.left&&(this.left=i),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)},t}();function Rl(t){var e=new Ll;return Nl(t,1),function t(e,n,i){e.x=e.prelim+n,e.y=e.depth,i.update(e),e.children.forEach((function(r){return t(r,n+e.mod,i)}))}(t,-t.prelim,e),function t(e){var n=e.children,i=0;n.forEach((function(e){t(e),e.children.length?i+=e.leafCount:i++})),e.leafCount=i,n.length?(e.subtreeLeft=n[0].subtreeLeft,e.subtreeRight=n[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}(t),e}var Ll=function(){function t(){this.dimensions=new Tl,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,(function(t){return{x:t.x,y:t.y}})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,n,i,r){void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=!1);var o=this.leafCount-1,a=this.depth,l=this.dimensions,s=1,u=1;if(t>0&&o){var c=(l.right-l.left)/o;s=t/o/c,r&&(s=-s)}if(e>0&&a){var h=(l.bottom-l.top)/a;u=e/a/h}var d=new Tl;this.nodes.forEach((function(t){t.screenX=t.x*s,t.screenY=t.y*u,d.update(t,(function(t){return{x:t.screenX,y:t.screenY}}))}));var p=-d.left,f=-d.top;this.nodes.forEach((function(t){t.screenX+=p+n,t.screenY+=f+i}))},t}(),Al=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Il=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},jl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Fl=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return Al(e,t),Il([Xt(ee)],e.prototype,"grid",void 0),e}(Gr),zl=function(t){function e(e){var n=t.call(this,e,new di)||this;n.tickScale=new di,n.translation={x:0,y:0},n.line=new Wr,n.label=new Bl,n.labelColor="rgba(87, 87, 87, 1)",n.includeInvisibleDomains=!0;var i=n,r=i.tickLineGroup,o=i.tickLabelGroup,a=i.gridLineGroup,l=i.tickScale,s=i.scale;return s.paddingOuter=.1,s.paddingInner=2*s.paddingOuter,n.range=s.range.slice(),n.refreshScale(),l.paddingInner=1,l.paddingOuter=0,n.gridLineSelection=ui.select(a,yi),n.axisLineSelection=ui.select(r,yi),n.separatorSelection=ui.select(r,yi),n.labelSelection=ui.select(o,Dt),n}return Al(e,t),e.prototype.updateRange=function(){var t=this.range,e=this.visibleRange,n=this.scale,i=(t[1]-t[0])/(e[1]-e[0]),r=i*e[0],o=t[0]-r;this.tickScale.range=n.range=[o,o+i],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t,e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,r=this.lineHeight;i&&i.resize(Math.abs(n[1]-n[0]),i.depth*r,(Math.min(n[0],n[1])||0)+(null!==(t=e.bandwidth)&&void 0!==t?t:0)/2,-i.depth*r,n[1]-n[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=t},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e,n=this.direction,i=this.boundSeries,r=[],o=void 0;i.filter((function(t){return t.visible})).forEach((function(t){if(n===Le.X)if(void 0===o){var e=t.getDomain(n);r.push(e),o="number"==typeof e[0]}else o&&r.push(t.getDomain(n));else r.push(t.getDomain(n))}));var a=(t=new Array).concat.apply(t,Fl([],jl(r))),l=null!==(e=Sr(a))&&void 0!==e?e:a;this.dataDomain=this.normaliseDataDomain(l),this.scale.domain=this.dataDomain},e.prototype.normaliseDataDomain=function(t){var e=t.filter((function(t,e,n){return n.indexOf(t)===e})),n=Ml(e);this.tickTreeLayout=Rl(n);var i=e.slice();return i.push(""),this.tickScale.domain=i,this.resizeTickTree(),e},e.prototype.update=function(t){var e=this;this.updateDirection(),this.calculateDomain(),this.updateRange();var n=this,i=n.scale,r=n.label,o=n.label.parallel,a=n.moduleCtx.callbackCache,l=n.tickScale,s=n.range,u=n.title,c=n.title,h=(void 0===c?{}:c).formatter,d=void 0===h?function(t){return t.defaultValue}:h,p=n._titleCaption,f=i.range[0],y=i.range[1],v=Math.abs(y-f)/i.domain.length||0,g=ft(this.rotation),m=Math.abs(Math.cos(g))<1e-8,b=r.getSideFlag();this.updatePosition({rotation:g,sideFlag:b}),p.node.visible=!1;var x=this.lineHeight,w=this.tickTreeLayout,S=i.ticks(),k=w?w.nodes:[],O=!!w&&w.depth>1,D=l.ticks(),_=Dr({rotation:r.rotation,parallel:o,regularFlipRotation:pt(g-Math.PI/2),parallelFlipRotation:pt(g)}),C=_.defaultRotation,M=_.configuredRotation,E=_.parallelFlipFlag,P=this.gridLineSelection.update(this.gridLength?D:[]),N=this.labelSelection.update(k),T=r.formatter,R=new Map,L=0;N.each((function(t,n,i){var o;t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.fill=r.color,t.textBaseline=-1===E?"bottom":"hanging",t.textAlign="center",t.translationX=n.screenY-.25*r.fontSize,t.translationY=n.screenX,0===i?(null==u?void 0:u.enabled)&&S.length>0?(t.visible=!0,t.text=a.call(d,e.getTitleFormatterParams()),t.fontSize=u.fontSize,t.fontStyle=u.fontStyle,t.fontWeight=u.fontWeight,t.fontFamily=u.fontFamily,t.textBaseline="hanging"):t.visible=!1:T?(t.text=null!==(o=a.call(T,{value:String(n.label),index:i}))&&void 0!==o?o:String(n.label),t.visible=n.screenX>=s[0]&&n.screenX<=s[1]):(t.text=String(n.label),t.visible=n.screenX>=s[0]&&n.screenX<=s[1]);var l=t.computeBBox();R.set(t.id,l),l.width>L&&(L=l.width)}));var A=b*r.padding,I=this.label.grid,j=[];N.each((function(t,n,i){if(t.x=A,t.rotationCenterX=A,n.children.length){t.translationX-=L-x+e.label.padding;var r=n.leafCount*v;(o=R.get(t.id))&&o.width>r?t.visible=!1:t.rotation=m?C:-Math.PI/2}else{var o;t.rotation=M,t.textAlign="end",t.textBaseline="middle",(o=R.get(t.id))&&o.height>v&&(t.visible=!1)}if(n.parent&&O){var a=n.children.length?n.screenX-n.leafCount*v/2:n.screenX-v/2;if(n.children.length){var l=-L-2*e.label.padding+n.screenY;j.push({y:a,x1:l+x,x2:l,toString:function(){return String(i)}})}else(n.number!==n.children.length-1||I)&&j.push({y:a,x1:0,x2:-L-2*e.label.padding,toString:function(){return String(i)}})}}));var F=0;j.forEach((function(t){return F=Math.min(F,t.x2)})),j.push({y:Math.max(f,y),x1:0,x2:F,toString:function(){return String(j.length)}});var B=this.separatorSelection.update(j);B.each((function(t,n){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=s[0]-1e-7&&n.y<=s[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=P,this.labelSelection=N;for(var z=w?w.depth+1:1,W=[],K=0;K<z;K++)W.push(K);if(this.axisLineSelection.update(W).each((function(t,n,i){var r=i>0?-L-2*e.label.padding-(i-1)*x:0;t.x1=r,t.x2=r,t.y1=s[0],t.y2=s[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=S.length>0&&(0===i||I&&O)})),this.gridLength){var G=this.gridStyle,X=G.length;P.each((function(t,n,i){var r=Math.round(l.convert(n));t.x1=0,t.x2=-b*e.gridLength,t.y1=r,t.y2=r,t.visible=r>=s[0]&&r<=s[1];var o=G[i%X];t.stroke=o.stroke,t.strokeWidth=e.tick.width,t.lineDash=o.lineDash,t.fill=void 0}))}return t},e.className="GroupedCategoryAxis",e.type="groupedCategory",Il([Xt(he)],e.prototype,"labelColor",void 0),e}(to),Wl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kl=function(){return(Kl=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Gl=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},Xl=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Yl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Vl=["top","right","bottom","left"];!function(t){function e(e,n,i){void 0===e&&(e=window.document);var r=t.call(this,e,n,i)||this;return r.paired=!0,r._lastAxisWidths={top:0,bottom:0,left:0,right:0},r._lastVisibility={crossLines:!0,series:!0},r}Wl(e,t),e.prototype.performLayout=function(){return Gl(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,u,c;return Xl(this,(function(h){switch(h.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=h.sent(),n=this.updateAxes(e),i=n.seriesRect,r=n.visibility,o=n.clipSeries,this.seriesRoot.visible=r.series,this.seriesRect=i,this.series.forEach((function(t){t.rootGroup.translationX=Math.floor(i.x),t.rootGroup.translationY=Math.floor(i.y)})),l=(a=this).seriesRoot,s=a.seriesAreaPadding,u=i.clone().grow(s),20,c=u.clone().grow(20),this.hoverRect=c,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:i,paddedRect:u,hoverRect:c,visible:r.series},axes:this.axes.map((function(t){return Kl({id:t.id},t.getLayoutState())}))}),o?l.setClipRectInGroupCoordinateSpace(u):l.setClipRectInGroupCoordinateSpace(),[2,e]}}))}))},e.prototype.updateAxes=function(t){var e,n,i,r=Kl({},this._lastAxisWidths),o=Kl({},this._lastVisibility),a=new Set(this._axes.map((function(t){return t.position})));try{for(var l=Yl(Object.keys(r)),s=l.next();!s.done;s=l.next()){var u=s.value;a.has(u)||delete r[u]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var c,h=function(t,e){return!Object.keys(t).some((function(t){return null==r[t]}))&&(o.crossLines===e.crossLines&&o.series===e.series&&Object.entries(r).every((function(e){var n=Hl(e,2),i=n[0],r=n[1],o=t[i];return null==r&&null==o||r===o})))},d={},p={},f=!1,y=null===(i=this.seriesRect)||void 0===i?void 0:i.clone(),v=0;do{Object.assign(r,d),Object.assign(o,p);var g=this.updateAxesPass(r,t.clone(),y);if(c=g.axisWidths,d=Object.entries(c).reduce((function(t,e){var n=Hl(e,2),i=n[0],r=n[1];return r&&Math.abs(r)===1/0&&(r=0),t[i]=null!=r?Math.ceil(r):r,t}),{}),p=g.visibility,f=g.clipSeries,y=g.seriesRect,v++>10){U.warn("unable to find stable axis layout.");break}}while(!h(d,p));return this.axes.forEach((function(e){if(e.setCrossLinesVisible(o.crossLines),y)switch(e.clipGrid(y.x,y.y,y.width+5,y.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,y.y,t.width+5,y.height+5);break;case"top":case"bottom":e.clipTickLines(y.x,t.y,y.width+5,t.height+5)}})),this._lastAxisWidths=r,this._lastVisibility=o,{seriesRect:y,visibility:o,clipSeries:f}},e.prototype.updateAxesPass=function(t,e,n){var i=this,r=this.axes,o={},a={},l={series:!0,crossLines:!0},s=!1,u={},c=this.applySeriesPadding(e),h=n?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(c,t,h,l),p=this.buildSeriesRect(d,t);return r.forEach((function(e){var n,r,l=e.position,h=i.calculateAxisDimensions({axis:e,seriesRect:p,paddedBounds:c,axisWidths:t,newAxisWidths:a,primaryTickCounts:u,clipSeries:s,addInterAxisPadding:(null!==(n=o[l])&&void 0!==n?n:0)>0}),f=h.clipSeries,y=h.axisThickness,v=h.axisOffset;o[l]=(null!==(r=o[l])&&void 0!==r?r:0)+1,s=s||f,i.positionAxis({axis:e,axisBound:d,axisOffset:v,axisThickness:y,axisWidths:t,primaryTickCounts:u,seriesRect:p})})),{clipSeries:s,seriesRect:p,axisWidths:a,visibility:l}},e.prototype.buildCrossLinePadding=function(t){var e,n,i,r={};this.axes.forEach((function(t){t.crossLines&&t.crossLines.forEach((function(t){t.calculatePadding(r)}))}));try{for(var o=Yl(Object.entries(r)),a=o.next();!a.done;a=o.next()){var l=Hl(a.value,2),s=l[0],u=l[1],c=void 0===u?0:u;r[s]=Math.max(c-(null!==(i=t[s])&&void 0!==i?i:0),0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},e.prototype.applySeriesPadding=function(t){var e=this,n=t.clone(),i=this.axes.slice().reverse();return Vl.forEach((function(t){var r=e.seriesAreaPadding[t],o=i.find((function(e){return e.position===t}));o?o.seriesAreaPadding=r:n.shrink(r,t)})),n},e.prototype.buildAxisBound=function(t,e,n,i){var r,o,a,l,s=t.clone(),u=n.top,c=void 0===u?0:u,h=n.right,d=void 0===h?0:h,p=n.bottom,f=void 0===p?0:p,y=n.left,v=void 0===y?0:y,g=v+d,m=c+f,b=(null!==(r=e.left)&&void 0!==r?r:0)+(null!==(o=e.right)&&void 0!==o?o:0)+g,x=(null!==(a=e.top)&&void 0!==a?a:0)+(null!==(l=e.bottom)&&void 0!==l?l:0)+m;return s.width<=b||s.height<=x?(i.crossLines=!1,i.series=!1,s):(s.x+=v,s.y+=c,s.width-=g,s.height-=m,s)},e.prototype.buildSeriesRect=function(t,e){var n=t.clone(),i=e.top,r=e.bottom,o=e.left,a=e.right;return n.x+=null!=o?o:0,n.y+=null!=i?i:0,n.width-=(null!=o?o:0)+(null!=a?a:0),n.height-=(null!=i?i:0)+(null!=r?r:0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n},e.prototype.clampToOutsideSeriesRect=function(t,e,n,i){var r=t.x,o=t.y,a=[r,o,r+t.width,o+t.height];return(1===i?Math.min:Math.max)(e,a[("x"===n?0:1)+(1===i?0:2)])},e.prototype.calculateAxisDimensions=function(t){var e,n,i,r,o,a,l=t.axis,s=t.seriesRect,u=t.paddedBounds,c=t.axisWidths,h=t.newAxisWidths,d=t.primaryTickCounts,p=t.addInterAxisPadding,f=t.clipSeries,y=l.position,v=l.direction,g=null!==(e=h[y])&&void 0!==e?e:0;switch(y){case"top":case"bottom":l.range=[0,s.width],l.gridLength=s.height;break;case"right":case"left":l.range=function(t){return t instanceof oo||t instanceof zl?[0,s.height]:[s.height,0]}(l),l.gridLength=s.width}var m=null===(n=this.zoomManager.getZoom())||void 0===n?void 0:n[l.direction],b=null!=m?m:{},x=b.min,w=void 0===x?0:x,S=b.max,k=void 0===S?1:S;l.visibleRange=[w,k],!f&&(l.visibleRange[0]>0||l.visibleRange[1]<1)&&(f=!0);var O=l.nice?d[v]:void 0;l.thickness>0?l.maxThickness=l.thickness:v===Le.Y?l.maxThickness=.3*u.width:l.maxThickness=.3*u.height,O=l.update(O),d[v]=null!==(i=d[v])&&void 0!==i?i:O;var D=0;if(l.thickness)D=l.thickness;else{var _=l.computeBBox();D=v===Le.X?_.height:_.width}return p&&(D+=15),D=Math.ceil(D),h[y]=(null!==(r=h[y])&&void 0!==r?r:0)+D,l.gridPadding=(null!==(o=c[y])&&void 0!==o?o:0)-(null!==(a=h[y])&&void 0!==a?a:0),{clipSeries:f,axisThickness:D,axisOffset:g}},e.prototype.positionAxis=function(t){var e,n,i,r,o=t.axis,a=t.axisBound,l=t.axisWidths,s=t.seriesRect,u=t.axisOffset,c=t.axisThickness;switch(o.position){case"top":o.translation.x=a.x+(null!==(e=l.left)&&void 0!==e?e:0),o.translation.y=this.clampToOutsideSeriesRect(s,a.y+1+u+c,"y",1);break;case"bottom":o.translation.x=a.x+(null!==(n=l.left)&&void 0!==n?n:0),o.translation.y=this.clampToOutsideSeriesRect(s,a.y+a.height+1-c-u,"y",-1);break;case"left":o.translation.y=a.y+(null!==(i=l.top)&&void 0!==i?i:0),o.translation.x=this.clampToOutsideSeriesRect(s,a.x+u+c,"x",1);break;case"right":o.translation.y=a.y+(null!==(r=l.top)&&void 0!==r?r:0),o.translation.x=this.clampToOutsideSeriesRect(s,a.x+a.width-c-u,"x",-1)}o.updatePosition({rotation:ft(o.rotation),sideFlag:o.label.getSideFlag()})},e.className="CartesianChart",e.type="cartesian"}(_l);var Ul=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zl=function(t){function e(e){var n,i,r=e.moduleCtx,o=e.useLabelLayer,a=void 0!==o&&o,l=e.pickModes,s=void 0===l?[cn.EXACT_SHAPE_MATCH]:l,u=t.call(this,{moduleCtx:r,useLabelLayer:a,pickModes:s,directionKeys:(n={},n[Le.X]=["angleKey"],n[Le.Y]=["radiusKey"],n),directionNames:(i={},i[Le.X]=["angleName"],i[Le.Y]=["radiusName"],i)})||this;return u.centerX=0,u.centerY=0,u.radius=0,u}return Ul(e,t),e.prototype.getLabelData=function(){return[]},e.prototype.computeLabelsBBox=function(t,e){return null},e}(En);function ql(t,e,n){var i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),r=n.innerRadius,o=n.outerRadius;if(i<Math.min(r,o)||i>Math.max(r,o))return!1;var a=Math.atan2(e,t);a<-Math.PI/2&&(a+=2*Math.PI);var l=n.startAngle,s=n.endAngle;return s===-Math.PI/2?a<l:l===3*Math.PI/2?a>s:a<=s&&a>=l}function Jl(t,e){var n=e.startAngle,i=e.endAngle,r=e.innerRadius,o=e.outerRadius,a={x:o*Math.cos(n),y:o*Math.sin(n)},l={x:o*Math.cos(i),y:o*Math.sin(i)},s=0===r?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)},u=0===r?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)};return null!=Wn(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,s.x,s.y)||null!=Wn(t.start.x,t.start.y,t.end.x,t.end.y,l.x,l.y,u.x,u.y)||Xn(0,0,o,n,i,!0,t.start.x,t.start.y,t.end.x,t.end.y).length>0}var $l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ql=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ts=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return $l(e,t),e.prototype.computeBBox=function(){var t=this.outerRadius;return new D(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.updatePath=function(){var t=this.path,e=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+e,i=Math.max(this.startAngle,this.endAngle)+e,r=Math.min(this.innerRadius,this.outerRadius),o=Math.max(this.innerRadius,this.outerRadius),a=vi(pt(this.startAngle),pt(this.endAngle)),l=this.centerX,s=this.centerY;t.clear(),a?(t.arc(l,s,o,n,i),r>0&&(t.moveTo(l+r*Math.cos(i),s+r*Math.sin(i)),t.arc(l,s,r,i,n,!0))):(t.moveTo(l+r*Math.cos(n),s+r*Math.sin(n)),t.arc(l,s,o,n,i),r>0?t.arc(l,s,r,i,n,!0):t.lineTo(l,s)),t.closePath(),this.dirtyPath=!1},e.prototype.isPointInPath=function(t,e){var n=this.angleOffset,i=this.startAngle+n,r=this.endAngle+n,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),l=this.transformPoint(t,e);return ql(l.x,l.y,{startAngle:i,endAngle:r,innerRadius:o,outerRadius:a})},e.className="Sector",Ql([qn()],e.prototype,"centerX",void 0),Ql([qn()],e.prototype,"centerY",void 0),Ql([qn()],e.prototype,"innerRadius",void 0),Ql([qn()],e.prototype,"outerRadius",void 0),Ql([qn()],e.prototype,"startAngle",void 0),Ql([qn()],e.prototype,"endAngle",void 0),Ql([qn()],e.prototype,"angleOffset",void 0),e}(Jn),es=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},ns=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},is=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rs={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:function(){var t=NaN;return function(e,n){var i=n.keys[0],r=Math.abs(i-t);return t=i,!isNaN(r)&&r>0&&r<e?r:e}}},os={type:"processor",property:"aggValuesExtent",calculate:function(t){var e,n,i,r,o,a,l=ns([],es(null!==(r=null===(i=t.domain.aggValues)||void 0===i?void 0:i[0])&&void 0!==r?r:[0,0]));try{for(var s=is(null!==(a=null===(o=t.domain.aggValues)||void 0===o?void 0:o.slice(1))&&void 0!==a?a:[]),u=s.next();!u.done;u=s.next()){var c=es(u.value,2),h=c[0],d=c[1];h<l[0]&&(l[0]=h),d>l[1]&&(l[1]=d)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return l}},as={type:"processor",property:"sortedGroupDomain",calculate:function(t){var e=t.domain.groups;if(null!=e)return ns([],es(e)).sort((function(t,e){for(var n=0;n<t.length;n++){var i=t[n]-e[n];if(0!==i)return i}return 0}))}};function ls(t,e,n){void 0===n&&(n="sum");var i=function(t,n){var i=t*e/n;return i>=0?Math.min(e,i):Math.max(-e,i)};return{type:"group-value-processor",properties:t,adjust:function(){return function(t,e){var r,o,a,l,s=[0,0];try{for(var u=is(e),c=u.next();!c.done;c=u.next()){var h=t[v=c.value],d=h<0?0:1;"sum"===n?s[d]+=h:s[d]=0===d?Math.min(s[d],h):Math.max(s[d],h)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}var p=Math.max(Math.abs(s[0]),s[1]);try{for(var f=is(e),y=f.next();!y.done;y=f.next()){var v;t[v=y.value]=i(t[v],p)}}catch(t){a={error:t}}finally{try{y&&!y.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}}}}}function ss(t,e,n,i){var r=e[1]-e[0],o=function(t,n,i){var o=e[0]+(t-n)/i*r;return 0===i||o>=e[1]?e[1]:o<e[0]?e[0]:o};return{type:"property-value-processor",property:t,adjust:function(){return function(t,r){var a,l,s,u,c=es(t.domain.values[r],2),h=c[0],d=c[1];null!=n&&(h=n),null!=i&&(d=i);var p=d-h;t.domain.values[r]=[e[0],e[1]];try{for(var f=is(t.data),y=f.next();!y.done;y=f.next()){var v=y.value.values;"ungrouped"===t.type&&(v=[v]);try{for(var g=(s=void 0,is(v)),m=g.next();!m.done;m=g.next()){var b=m.value;b[r]=o(b[r],h,p)}}catch(t){s={error:t}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}}}catch(t){a={error:t}}finally{try{y&&!y.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}}}}}var us,cs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hs=function(){return(hs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ds=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ps=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},fs=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ys=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},vs=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},gs=function(t){function e(e,n,i,r,o,a,l){var s=t.call(this,o,a,l)||this;return s.angleKey=e,s.calloutLabelKey=n,s.sectorLabelKey=i,s.radiusKey=r,s}return cs(e,t),e}(xn),ms=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return cs(e,t),e}(gs),bs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return cs(e,t),e}(gs);!function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(us||(us={}));var xs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=0,e.formatter=void 0,e.minSpacing=4,e.maxCollisionOffset=50,e}return cs(e,t),ds([Xt(fe(0))],e.prototype,"offset",void 0),ds([Xt(fe(0))],e.prototype,"minAngle",void 0),ds([Xt(te)],e.prototype,"formatter",void 0),ds([Xt(fe(0))],e.prototype,"minSpacing",void 0),ds([Xt(fe(0))],e.prototype,"maxCollisionOffset",void 0),e}(Or),ws=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return cs(e,t),ds([Xt(fe())],e.prototype,"positionOffset",void 0),ds([Xt(fe(0,1))],e.prototype,"positionRatio",void 0),ds([Xt(te)],e.prototype,"formatter",void 0),e}(Or),Ss=function(){function t(){this.colors=void 0,this.length=10,this.strokeWidth=1}return ds([Xt(pe)],t.prototype,"colors",void 0),ds([Xt(fe(0))],t.prototype,"length",void 0),ds([Xt(fe(0))],t.prototype,"strokeWidth",void 0),t}(),ks=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return cs(e,t),ds([Xt(te)],e.prototype,"renderer",void 0),e}(Cn);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInLegend=!1,e}cs(e,t),ds([Xt(ee)],e.prototype,"showInLegend",void 0)}(Di),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.margin=2,e}cs(e,t),ds([Xt(ie)],e.prototype,"text",void 0),ds([Xt(fe())],e.prototype,"margin",void 0)}(Or),function(){function t(){this.fill="transparent",this.fillOpacity=1}ds([Xt(ce)],t.prototype,"fill",void 0),ds([Xt(ye(0,1))],t.prototype,"fillOpacity",void 0)}();var Os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e}(No),Ds=function(t){function e(e){var n=t.call(this,{moduleCtx:e,useLabelLayer:!0})||this;n.radiusScale=new Vr,n.groupSelection=ui.select(n.contentGroup,et),n.highlightSelection=ui.select(n.highlightGroup,et),n.nodeData=[],n.seriesItemEnabled=[],n.title=void 0,n.calloutLabel=new xs,n.sectorLabel=new ws,n.calloutLine=new Ss,n.tooltip=new ks,n.angleKey="",n.angleName="",n.innerLabels=[],n.innerCircle=void 0,n.radiusKey=void 0,n.radiusName=void 0,n.radiusMin=void 0,n.radiusMax=void 0,n.calloutLabelKey=void 0,n.calloutLabelName=void 0,n.sectorLabelKey=void 0,n.sectorLabelName=void 0,n.legendItemKey=void 0,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.rotation=0,n.outerRadiusOffset=0,n.outerRadiusRatio=1,n.innerRadiusOffset=0,n.innerRadiusRatio=1,n.strokeWidth=1,n.shadow=void 0,n.highlightStyle=new _n,n.surroundingRadius=void 0,n.angleScale=new Vr,n.angleScale.domain=[0,1],n.angleScale.range=[-Math.PI,Math.PI].map((function(t){return t+Math.PI/2})),n.backgroundGroup=n.rootGroup.appendChild(new et({name:n.id+"-background",layer:!0,zIndex:Re.SERIES_BACKGROUND_ZINDEX}));var i=new et({name:"pieCalloutLabels"}),r=new et({name:"pieSectorLabels"}),o=new et({name:"innerLabels"});return n.labelGroup.append(i),n.labelGroup.append(r),n.labelGroup.append(o),n.calloutLabelSelection=ui.select(i,et),n.sectorLabelSelection=ui.select(r,Dt),n.innerLabelsSelection=ui.select(o,Dt),n.animationState=new Os("empty",{empty:{on:{update:{target:"ready",action:function(){return n.animateEmptyUpdateReady()}}}},ready:{on:{update:{target:"ready",action:function(){return n.animateReadyUpdateReady()}}}}}),n}return cs(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),e.prototype.addChartEventListeners=function(){var t,e=this;null===(t=this.chartEventManager)||void 0===t||t.addListener("legend-item-click",(function(t){return e.onLegendItemClick(t)}))},e.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},e.prototype.processSeriesItemEnabled=function(){var t,e=this.data,n=this.visible;this.seriesItemEnabled=null!==(t=null==e?void 0:e.map((function(){return n})))&&void 0!==t?t:[]},e.prototype.getDomain=function(t){return t===Le.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(){var t,e;return ps(this,void 0,void 0,(function(){var n,i,r,o,a,l,s;return fs(this,(function(u){return n=this.data,i=void 0===n?[]:n,o=(r=this).angleKey,a=r.radiusKey,l=r.seriesItemEnabled,o?(s=[],a&&(s.push(function(t,e){void 0===e&&(e={});var n=e.min,i=void 0===n?-1/0:n,r=e.max,o=void 0===r?1/0:r,a=fn(e,["min","max"]);return dn({type:"value",property:t,valueType:"range",validation:function(t){return null!=jt(t,!0)},processor:function(){return function(t){return"number"!=typeof t||isNaN(t)?t:Math.min(Math.max(t,i),o)}}},a)}(a,{id:"radiusValue",min:null!==(t=this.radiusMin)&&void 0!==t?t:0,max:this.radiusMax}),bn(a,!0,{id:"radiusRaw"}),ss({id:"radiusValue"},[0,1],null!==(e=this.radiusMin)&&void 0!==e?e:0,this.radiusMax)),s.push()),i=i.map((function(t,e){var n;return l[e]?t:hs(hs({},t),((n={})[o]=0,n))})),this.dataModel=new qe({props:vs([(c=o,h=!0,d={id:"angleValue"},void 0===d&&(d={}),dn(dn({},bn(c,h,d)),{processor:function(){var t=0;return function(e){return"number"!=typeof e||isNaN(e)?e:t+=e}}})),bn(o,!0,{id:"angleRaw"}),ss({id:"angleValue"},[0,1],0)],ys(s))}),this.processedData=this.dataModel.processData(i),[2]):[2];var c,h,d}))}))},e.prototype.maybeRefreshNodeData=function(){if(this.nodeDataRefresh){var t=ys(this._createNodeData(),1)[0],e=(void 0===t?{}:t).nodeData,n=void 0===e?[]:e;this.nodeData=n,this.nodeDataRefresh=!1}},e.prototype.createNodeData=function(){return ps(this,void 0,void 0,(function(){return fs(this,(function(t){return[2,this._createNodeData()]}))}))},e.prototype._createNodeData=function(){var t,e,n,i,r=this,o=this,a=o.id,l=o.processedData,s=o.dataModel,u=o.rotation,c=o.angleScale;if(!l||!s||"ungrouped"!==l.type)return[];var h=null!==(e=null===(t=s.resolveProcessedDataIndexById("angleValue"))||void 0===t?void 0:t.index)&&void 0!==e?e:-1,d=null!==(i=null===(n=s.resolveProcessedDataIndexById("radiusValue"))||void 0===n?void 0:n.index)&&void 0!==i?i:-1;if(h<0)return[];var p=0,f=l.data.map((function(t,e){var n,i=t.datum,o=t.values,a=o[h],l=c.convert(p)+ft(u);p=a;var s=c.convert(p)+ft(u),f=Math.abs(s-l),y=l+f/2,v=o[h+1],g=d>=0&&null!==(n=o[d])&&void 0!==n?n:1,m=d>=0?o[d+1]:void 0,b=r.getLabels(i,y,f,!0),x=r.getSectorFormat(i,e,e,!1);return hs({itemId:e,series:r,datum:i,index:e,angleValue:v,midAngle:y,midCos:Math.cos(y),midSin:Math.sin(y),startAngle:l,endAngle:s,sectorFormat:x,radius:g,radiusValue:m},b)}));return[{itemId:a,nodeData:f,labelData:f}]},e.prototype.getLabels=function(t,e,n,i){var r=this.calloutLabel,o=this.sectorLabel,a=this.legendItemKey,l=this.ctx.callbackCache,s=!i||r.enabled?this.calloutLabelKey:void 0,u=!i||o.enabled?this.sectorLabelKey:void 0;if(!s&&!u&&!a)return{};var c,h,d,p=this.getLabelFormatterParams(t);s&&(c=n>ft(r.minAngle)?r.formatter?l.call(r.formatter,p):String(t[s]):void 0);return u&&(h=o.formatter?l.call(o.formatter,p):String(t[u])),a&&(d=String(t[a])),hs(hs(hs({},null!=c?{calloutLabel:hs(hs({},this.getTextAlignment(e)),{text:c,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})}:{}),null!=h?{sectorLabel:{text:h}}:{}),null!=a&&null!=d?{legendItem:{key:a,text:d}}:{})},e.prototype.getLabelFormatterParams=function(t){var e=this,n=e.id,i=e.radiusKey,r=e.radiusName,o=e.angleKey,a=e.angleName,l=e.calloutLabelKey,s=e.calloutLabelName,u=e.sectorLabelKey,c=e.sectorLabelName;return{datum:t,angleKey:o,angleValue:t[o],angleName:a,radiusKey:i,radiusValue:i?t[i]:void 0,radiusName:r,calloutLabelKey:l,calloutLabelValue:l?t[l]:void 0,calloutLabelName:s,sectorLabelKey:u,sectorLabelValue:u?t[u]:void 0,sectorLabelName:c,seriesId:n}},e.prototype.getTextAlignment=function(t){var e,n,i,r=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],o=(e=t,(e%=dt)<-Math.PI?e+=dt:e>=Math.PI&&(e-=dt),e)- -3*Math.PI/4,a=Math.floor(o/(Math.PI/2));return r[(i=r.length,(n=a)>=0?Math.floor(n%i):Math.floor(n%i+i))]},e.prototype.getSectorFormat=function(t,e,n,i){var r,o,a,l,s,u,c,h,d,p,f=this,y=f.angleKey,v=f.radiusKey,g=f.fills,m=f.strokes,b=f.fillOpacity,x=f.formatter,w=f.id,S=f.ctx.callbackCache,k=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight(),O=i&&(null==k?void 0:k.series)===this&&e===k.itemId,D=O?this.highlightStyle.item:null,_=null!==(o=null==D?void 0:D.fill)&&void 0!==o?o:g[n%g.length],C=null!==(a=null==D?void 0:D.fillOpacity)&&void 0!==a?a:b,M=null!==(l=null==D?void 0:D.stroke)&&void 0!==l?l:m[n%m.length],E=null!==(s=null==D?void 0:D.strokeWidth)&&void 0!==s?s:this.getStrokeWidth(this.strokeWidth);return x&&(p=S.call(x,{datum:t,angleKey:y,radiusKey:v,fill:_,stroke:M,strokeWidth:E,highlighted:O,seriesId:w})),{fill:null!==(u=null==p?void 0:p.fill)&&void 0!==u?u:_,fillOpacity:null!==(c=null==p?void 0:p.fillOpacity)&&void 0!==c?c:C,stroke:null!==(h=null==p?void 0:p.stroke)&&void 0!==h?h:M,strokeWidth:null!==(d=null==p?void 0:p.strokeWidth)&&void 0!==d?d:E}},e.prototype.getInnerRadius=function(){var t=this.radius,e=this.innerRadiusRatio,n=this.innerRadiusOffset,i=t*(null!=e?e:1)+(n||0);return i===t||i<0?0:i},e.prototype.getOuterRadius=function(){var t=this.radius,e=this.outerRadiusRatio,n=this.outerRadiusOffset,i=t*(null!=e?e:1)+(n||0);return i<0?0:i},e.prototype.updateRadiusScale=function(){var t=this.getInnerRadius(),e=this.getOuterRadius();this.radiusScale.range=[t,e]},e.prototype.getTitleTranslationY=function(){var t,e,n=Math.max(0,this.radiusScale.range[1]);return 0===n?NaN:-n-(2+(null!==(e=null===(t=this.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0))-Math.max(0,-n)},e.prototype.update=function(t){var e=t.seriesRect;return ps(this,void 0,void 0,(function(){var t,n,i;return fs(this,(function(r){switch(r.label){case 0:return t=this.title,this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(),this.updateInnerCircleNodes(),this.rootGroup.translationX=this.centerX,this.rootGroup.translationY=this.centerY,t&&(n=this.getTitleTranslationY(),i=t.node.computeBBox(),t.node.visible=t.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(i,0,n),t.node.translationY=isFinite(n)?n:0),this.updateNodeMidPoint(),[4,this.updateSelections()];case 1:return r.sent(),[4,this.updateNodes(e)];case 2:return r.sent(),[2]}}))}))},e.prototype.updateTitleNodes=function(){var t,e,n=this.title,i=this.oldTitle;i!==n&&(i&&(null===(t=this.labelGroup)||void 0===t||t.removeChild(i.node)),n&&(n.node.textBaseline="bottom",null===(e=this.labelGroup)||void 0===e||e.appendChild(n.node)),this.oldTitle=n)},e.prototype.updateInnerCircleNodes=function(){var t,e=this.innerCircle,n=this.oldInnerCircle,i=this.innerCircleNode;if(n!==e){var r=void 0;i&&this.backgroundGroup.removeChild(i),e&&((r=new ii).fill=e.fill,r.fillOpacity=null!==(t=e.fillOpacity)&&void 0!==t?t:1,this.backgroundGroup.appendChild(r)),this.oldInnerCircle=e,this.innerCircleNode=r}},e.prototype.updateNodeMidPoint=function(){var t=this;this.nodeData.forEach((function(e){var n=t.radiusScale.convert(e.radius);e.nodeMidPoint={x:e.midCos*Math.max(0,n/2),y:e.midSin*Math.max(0,n/2)}}))},e.prototype.updateSelections=function(){return ps(this,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return[4,this.updateGroupSelection()];case 1:return t.sent(),[2]}}))}))},e.prototype.updateGroupSelection=function(){return ps(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l=this;return fs(this,(function(s){return e=(t=this).groupSelection,n=t.highlightSelection,i=t.calloutLabelSelection,r=t.sectorLabelSelection,o=t.innerLabelsSelection,a=function(t){return t.update(l.nodeData,(function(t){var e=new ts;e.tag=us.Sector,t.appendChild(e)}))},this.groupSelection=a(e),this.highlightSelection=a(n),i.update(this.nodeData,(function(t){var e=new yi;e.tag=us.Callout,e.pointerEvents=R.None,t.appendChild(e);var n=new Dt;n.tag=us.Label,n.pointerEvents=R.None,t.appendChild(n)})),r.update(this.nodeData,(function(t){t.pointerEvents=R.None})),o.update(this.innerLabels,(function(t){t.pointerEvents=R.None})),[2]}))}))},e.prototype.updateNodes=function(t){var e;return ps(this,void 0,void 0,(function(){var n,i,r,o,a,l=this;return fs(this,(function(s){return n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),i=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null==n?void 0:n.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),r=this.radiusScale,o=r.convert(0),a=function(t,e,n,i){var a=r.convert(e.radius),s=t.parent,u=null==s?void 0:s.parent;i&&s&&u&&(u.removeChild(s),u.appendChild(s)),t.innerRadius=Math.max(0,o),t.outerRadius=Math.max(0,a),i&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle);var c=l.getSectorFormat(e.datum,e.itemId,n,i);t.fill=c.fill,t.stroke=c.stroke,t.strokeWidth=c.strokeWidth,t.fillOpacity=c.fillOpacity,t.strokeOpacity=l.strokeOpacity,t.lineDash=l.lineDash,t.lineDashOffset=l.lineDashOffset,t.fillShadow=l.shadow,t.lineJoin="round",t.visible=l.seriesItemEnabled[n]},this.groupSelection.selectByTag(us.Sector).forEach((function(t,e){return a(t,t.datum,e,!1)})),this.highlightSelection.selectByTag(us.Sector).forEach((function(t,e){var i=(null==n?void 0:n.series)===l&&t.datum.itemId===n.itemId;t.visible=i,t.visible&&a(t,t.datum,e,i)})),this.animationState.transition("update"),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]}))}))},e.prototype.updateCalloutLineNodes=function(){var t,e=this.radiusScale,n=this.calloutLine,i=n.length,r=n.strokeWidth,o=null!==(t=n.colors)&&void 0!==t?t:this.strokes,a=this.calloutLabel.offset;this.calloutLabelSelection.selectByTag(us.Callout).forEach((function(t,n){var l=t.datum,s=e.convert(l.radius),u=Math.max(0,s),c=l.calloutLabel;if((null==c?void 0:c.text)&&!c.hidden&&0!==u){t.visible=!0,t.strokeWidth=r,t.stroke=o[n%o.length],t.fill=void 0;var h=l.midCos*u,d=l.midSin*u,p=l.midCos*(u+i),f=l.midSin*(u+i);if(c.collisionTextAlign||0!==c.collisionOffsetY){var y=c.box,v=p,g=f;p<y.x?v=y.x:p>y.x+y.width&&(v=y.x+y.width),f<y.y?g=y.y:f>y.y+y.height&&(g=y.y+y.height);var m=v-p,b=g-f,x=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),w=x-a;w>0&&(p+=m*w/x,f+=b*w/x)}t.x1=h,t.y1=d,t.x2=p,t.y2=f}else t.visible=!1}))},e.prototype.getLabelOverflow=function(t,e,n){var i=n.x-this.centerX,r=n.x+n.width-this.centerX,o=n.y-this.centerY,a=n.y+n.height-this.centerY,l=1;e.x+1<i?l=(e.x+e.width-i)/e.width:e.x+e.width-1>r&&(l=(r-e.x)/e.width);var s=e.y+1<o||e.y+e.height-1>a;return{visibleTextPart:l,textLength:Math.floor(t.length*l)-1,hasVerticalOverflow:s,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}},e.prototype.bboxIntersectsSurroundingSeries=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=this.surroundingRadius;if(null==i)return!1;var r=[{x:t.x+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+t.height+n},{x:t.x+e,y:t.y+t.height+n}],o=Math.pow(i,2);return r.some((function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)>o}))},e.prototype.computeCalloutLabelCollisionOffsets=function(){var t=this,e=this.radiusScale,n=this.calloutLabel,i=this.calloutLine,r=n.offset,o=n.minSpacing,a=e.convert(0),l=this.nodeData,s=this.nodeData.filter((function(t){return i=(n=t).calloutLabel,r=e.convert(n.radius),o=Math.max(0,r),!(!i||0===o);var n,i,r,o}));if(s.forEach((function(t){var e=t.calloutLabel;e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0})),!(s.length<=1)){var u=s.filter((function(t){return t.midCos<0})).sort((function(t,e){return t.midSin-e.midSin})),c=s.filter((function(t){return t.midCos>=0})).sort((function(t,e){return t.midSin-e.midSin})),h=s.filter((function(t){return t.midSin<0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),d=s.filter((function(t){return t.midSin>=0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),p=new Dt,f=function(n){var o=n.calloutLabel,a=e.convert(n.radius),l=Math.max(0,a)+i.length+r,s=n.midCos*l,u=n.midSin*l+o.collisionOffsetY;return t.setTextDimensionalProps(p,s,u,t.calloutLabel,o),p.computeBBox()},y=function(t,e,n){var i=f(t).grow(o/2),r=f(e).grow(o/2);if(i.x<r.x+r.width&&i.x+i.width>r.x&&("to-top"===n?i.y<r.y+r.height:i.y+i.height>r.y)){var a="to-top"===n?i.y-r.y-r.height:i.y+i.height-r.y;e.calloutLabel.collisionOffsetY=a}},v=function(t){for(var e=t.slice().sort((function(t,e){return Math.abs(t.midSin)-Math.abs(e.midSin)}))[0],n=t.indexOf(e),i=n-1;i>=0;i--){var r=t[i+1],o=t[i];y(r,o,"to-top")}for(i=n+1;i<t.length;i++){r=t[i-1],o=t[i];y(r,o,"to-bottom")}},g=function(t){for(var n=s.some((function(t){return 0!==t.calloutLabel.collisionOffsetY})),i=t.map((function(t){return f(t)})),r=i.map((function(t){return t.clone().grow(o/2)})),u=!1,c=0;c<r.length&&!u;c++)for(var h=r[c],d=c+1;d<t.length;d++){var p=r[d];if(h.collidesBBox(p)){u=!0;break}}var y=l.map((function(t){var n=t.startAngle,i=t.endAngle,r=e.convert(t.radius),o=Math.max(0,r);return{startAngle:n,endAngle:i,innerRadius:a,outerRadius:o}})),v=i.some((function(t){return y.some((function(e){return function(t,e){var n={x:t.x,y:t.y},i={x:t.x+t.width,y:t.y},r={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height};return Jl({start:n,end:i},e)||Jl({start:r,end:o},e)}(t,e)}))}));(u||n||v)&&t.filter((function(t){return"center"===t.calloutLabel.textAlign})).forEach((function(t){var e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};v(u),v(c),g(h),g(d)}},e.prototype.updateCalloutLabelNodes=function(t){var e=this,n=this.radiusScale,i=this.calloutLabel,r=this.calloutLine.length,o=i.offset,a=i.color,l=new Dt;this.calloutLabelSelection.selectByTag(us.Label).forEach((function(i){var s=i.datum,u=s.calloutLabel,c=n.convert(s.radius),h=Math.max(0,c);if((null==u?void 0:u.text)&&0!==h&&!u.hidden){var d=h+r+o,p=s.midCos*d,f=s.midSin*d+u.collisionOffsetY;e.setTextDimensionalProps(l,p,f,e.calloutLabel,u);var y=l.computeBBox(),v=e.getLabelOverflow(u.text,y,t),g=v.visibleTextPart,m=v.textLength,b=v.hasVerticalOverflow,x=1===g?u.text:u.text.substring(0,m)+"\u2026";e.setTextDimensionalProps(i,p,f,e.calloutLabel,hs(hs({},u),{text:x})),i.fill=a,i.visible=!b}else i.visible=!1}))},e.prototype.computeLabelsBBox=function(t,e){var n,i=this,r=this.radiusScale,o=this.calloutLabel,a=this.calloutLine.length,l=o.offset,s=o.maxCollisionOffset,u=o.minSpacing;this.maybeRefreshNodeData(),this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();var c,h=[],d=new Dt;if((null===(n=this.title)||void 0===n?void 0:n.text)&&this.title.enabled){var p=this.getTitleTranslationY();isFinite(p)&&(this.setTextDimensionalProps(d,0,p,this.title,{text:this.title.text,textBaseline:"bottom",textAlign:"center",hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0}),c=d.computeBBox(),h.push(c))}return this.nodeData.forEach((function(n){var o=n.calloutLabel,p=r.convert(n.radius),f=Math.max(0,p);if(!o||0===f)return null;var y=f+a+l,v=n.midCos*y,g=n.midSin*y+o.collisionOffsetY;i.setTextDimensionalProps(d,v,g,i.calloutLabel,o);var m=d.computeBBox();if(o.box=m,Math.abs(o.collisionOffsetY)>s)o.hidden=!0;else{if(c){var b=e.y-i.centerY,x=new D(c.x-u,b,c.width+2*u,c.y+c.height+u-b);if(m.collidesBBox(x))return void(o.hidden=!0)}if(t.hideWhenNecessary){var w=i.getLabelOverflow(o.text,m,e),S=w.textLength,k=w.hasVerticalOverflow,O=w.hasSurroundingSeriesOverflow,_=o.text.length>2&&S<2;if(k||_||O)return void(o.hidden=!0)}o.hidden=!1,h.push(m)}})),0===h.length?null:D.merge(h)},e.prototype.setTextDimensionalProps=function(t,e,n,i,r){var o,a,l=i.fontStyle,s=i.fontWeight,u=i.fontSize,c=i.fontFamily;t.fontStyle=l,t.fontWeight=s,t.fontSize=u,t.fontFamily=c,t.text=r.text,t.x=e,t.y=n,t.textAlign=null!==(a=null!==(o=null==r?void 0:r.collisionTextAlign)&&void 0!==o?o:null==r?void 0:r.textAlign)&&void 0!==a?a:"center",t.textBaseline=r.textBaseline},e.prototype.updateSectorLabelNodes=function(){var t=this.radiusScale,e=t.convert(0),n=this.sectorLabel,i=n.fontSize,r=n.fontStyle,o=n.fontWeight,a=n.fontFamily,l=n.positionOffset,s=n.positionRatio,u=n.color,c=e>0,h=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((function(n,d){var p=d.sectorLabel,f=t.convert(d.radius),y=Math.max(0,f),v=!1;if(p&&0!==y){var g=e*(1-s)+f*s+l;n.fill=u,n.fontStyle=r,n.fontWeight=o,n.fontSize=i,n.fontFamily=a,n.text=p.text,!c&&h?(n.x=0,n.y=0):(n.x=d.midCos*g,n.y=d.midSin*g),n.textAlign="center",n.textBaseline="middle";var m=n.computeBBox(),b=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],x={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:e,outerRadius:y};b.every((function(t){var e=ys(t,2);return ql(e[0],e[1],x)}))&&(v=!0)}n.visible=v}))},e.prototype.updateInnerCircle=function(){var t=this.innerCircleNode;if(t){var e=this.getInnerRadius();if(0===e)t.size=0;else{var n=Math.min(e,this.getOuterRadius());t.size=Math.ceil(2*n+1)}}},e.prototype.updateInnerLabelNodes=function(){var t=[],e=[];this.innerLabelsSelection.each((function(n,i){var r=i.fontStyle,o=i.fontWeight,a=i.fontSize,l=i.fontFamily,s=i.color;n.fontStyle=r,n.fontWeight=o,n.fontSize=a,n.fontFamily=l,n.text=i.text,n.x=0,n.y=0,n.fill=s,n.textAlign="center",n.textBaseline="alphabetic",t.push(n.computeBBox()),e.push(i.margin)}));for(var n=function(t){return 0===t?0:e[t]},i=function(t){return t===e.length-1?0:e[t]},r=t.reduce((function(t,e,r){return t+e.height+n(r)+i(r)}),0),o=Math.max.apply(Math,vs([],ys(t.map((function(t){return t.width}))))),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(a>0?a:this.getOuterRadius()),s=[],u=0,c=-r/2;u<t.length;u++){var h=t[u].height+c+n(u);s.push(h),c=h+i(u)}this.innerLabelsSelection.each((function(t,e,n){t.y=s[n],t.visible=l}))},e.prototype.getNodeClickEvent=function(t,e){return new ms(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new bs(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n=this.angleKey;if(!n)return"";var i=this,r=i.tooltip,o=i.angleName,a=i.radiusKey,l=i.radiusName,s=i.calloutLabelKey,u=i.sectorLabelKey,c=i.calloutLabelName,h=i.sectorLabelName,d=i.id,p=r.renderer,f=t.datum,y=t.angleValue,v=t.radiusValue,g=t.sectorFormat.fill,m=t.calloutLabel,b=(void 0===m?{}:m).text,x=void 0===b?"":b,w="number"==typeof y?gi(y):String(y),S=null===(e=this.title)||void 0===e?void 0:e.text,k={title:S,backgroundColor:g,content:(x?x+": ":"")+w};return p?tn(p({datum:f,angleKey:n,angleValue:y,angleName:o,radiusKey:a,radiusValue:v,radiusName:l,calloutLabelKey:s,calloutLabelName:c,sectorLabelKey:u,sectorLabelName:h,title:S,color:g,seriesId:d}),k):tn(k)},e.prototype.getLegendData=function(){var t,e,n,i=this.calloutLabelKey,r=this.legendItemKey,o=this.id,a=this.data;if(!a||0===a.length)return[];if(!r&&!i)return[];for(var l=(null===(t=this.title)||void 0===t?void 0:t.showInLegend)&&this.title.text,s=[],u=0;u<a.length;u++){var c=a[u],h=[];l&&h.push(l);var d=this.getLabels(c,2*Math.PI,2*Math.PI,!1);if(r&&void 0!==d.legendItem?h.push(d.legendItem.text):i&&void 0!==(null===(e=d.calloutLabel)||void 0===e?void 0:e.text)&&h.push(null===(n=d.calloutLabel)||void 0===n?void 0:n.text),0!==h.length){var p=this.getSectorFormat(c,u,u,!1);s.push({legendType:"category",id:o,itemId:u,seriesId:o,enabled:this.seriesItemEnabled[u],label:{text:h.join(" - ")},marker:{fill:p.fill,stroke:p.stroke,fillOpacity:this.fillOpacity,strokeOpacity:this.strokeOpacity}})}}return s},e.prototype.onLegendItemClick=function(t){var e=t.enabled,n=t.itemId,i=t.series;i.id===this.id?this.toggleSeriesItem(n,e):"pie"===i.type&&this.toggleOtherSeriesItems(i,n,e)},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,n){var i,r,o=this,a=this.legendItemKey;if(a){var l=t.legendItemKey&&(null===(i=t.data)||void 0===i?void 0:i.find((function(t,n){return n===e}))[t.legendItemKey]);l&&(null===(r=this.data)||void 0===r||r.forEach((function(t,e){t[a]===l&&o.toggleSeriesItem(e,n)})))}},e.prototype.animateEmptyUpdateReady=function(){var t=this,e=Math.PI/-2+ft(this.rotation);this.groupSelection.selectByTag(us.Sector).forEach((function(n){var i,r=n.datum;null===(i=t.animationManager)||void 0===i||i.animateMany(t.id+"_empty-update-ready_"+n.id,[{from:e,to:r.startAngle},{from:e,to:r.endAngle}],{disableInteractions:!0,duration:1e3,ease:ua,repeat:0,onUpdate:function(t){var e=ys(t,2),i=e[0],r=e[1];n.startAngle=i,n.endAngle=r}})}));var n={from:0,to:1,delay:1e3,duration:200,ease:aa,repeat:0};this.calloutLabelSelection.each((function(e){var i;null===(i=t.animationManager)||void 0===i||i.animate(t.id+"_empty-update-ready_"+e.id,hs(hs({},n),{onUpdate:function(t){e.opacity=t}}))})),this.sectorLabelSelection.each((function(e){var i;null===(i=t.animationManager)||void 0===i||i.animate(t.id+"_empty-update-ready_"+e.id,hs(hs({},n),{onUpdate:function(t){e.opacity=t}}))})),this.innerLabelsSelection.each((function(e){var i;null===(i=t.animationManager)||void 0===i||i.animate(t.id+"_empty-update-ready_"+e.id,hs(hs({},n),{onUpdate:function(t){e.opacity=t}}))}))},e.prototype.animateReadyUpdateReady=function(){this.groupSelection.selectByTag(us.Sector).forEach((function(t){var e=t.datum;t.startAngle=e.startAngle,t.endAngle=e.endAngle}))},e.className="PieSeries",e.type="pie",ds([Xt(ie)],e.prototype,"angleKey",void 0),ds([Xt(ie)],e.prototype,"angleName",void 0),ds([Xt(re)],e.prototype,"radiusKey",void 0),ds([Xt(re)],e.prototype,"radiusName",void 0),ds([Xt(ye(0))],e.prototype,"radiusMin",void 0),ds([Xt(ye(0))],e.prototype,"radiusMax",void 0),ds([Xt(re)],e.prototype,"calloutLabelKey",void 0),ds([Xt(re)],e.prototype,"calloutLabelName",void 0),ds([Xt(re)],e.prototype,"sectorLabelKey",void 0),ds([Xt(re)],e.prototype,"sectorLabelName",void 0),ds([Xt(re)],e.prototype,"legendItemKey",void 0),ds([Xt(de)],e.prototype,"fills",void 0),ds([Xt(de)],e.prototype,"strokes",void 0),ds([Xt(fe(0,1))],e.prototype,"fillOpacity",void 0),ds([Xt(fe(0,1))],e.prototype,"strokeOpacity",void 0),ds([Xt(Me)],e.prototype,"lineDash",void 0),ds([Xt(fe(0))],e.prototype,"lineDashOffset",void 0),ds([Xt(te)],e.prototype,"formatter",void 0),ds([Xt(fe(-360,360))],e.prototype,"rotation",void 0),ds([Xt(fe())],e.prototype,"outerRadiusOffset",void 0),ds([Xt(fe(0))],e.prototype,"outerRadiusRatio",void 0),ds([Xt(fe())],e.prototype,"innerRadiusOffset",void 0),ds([Xt(fe(0))],e.prototype,"innerRadiusRatio",void 0),ds([Xt(fe(0))],e.prototype,"strokeWidth",void 0),e}(Zl),_s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cs=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},Ms=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Es=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){function e(e,n,i){void 0===e&&(e=window.document);var r=t.call(this,e,n,i)||this;return r.padding=new Nn(40),r}_s(e,t),e.prototype.performLayout=function(){return Cs(this,void 0,void 0,(function(){var e,n,i;return Ms(this,(function(r){switch(r.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=r.sent(),n=e.clone(),this.computeSeriesRect(e),this.computeCircle(),20,i=e.clone().grow(20),this.hoverRect=i,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:n,paddedRect:e,hoverRect:i,visible:!0},axes:[]}),[2,e]}}))}))},e.prototype.computeSeriesRect=function(t){var e=this.seriesAreaPadding;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t},e.prototype.computeCircle=function(){var t=this,e=this.seriesRect,n=this.series.filter((function(t){return t instanceof Zl})),i=function(t,e,i){n.forEach((function(n){n.centerX=t,n.centerY=e,n.radius=i}));var r=n.filter((function(t){return t instanceof Ds}));if(r.length>1){var o=r.map((function(t){var e=t.getInnerRadius();return{series:t,innerRadius:e}})).sort((function(t,e){return t.innerRadius-e.innerRadius}));o[o.length-1].series.surroundingRadius=void 0;for(var a=0;a<o.length-1;a++)o[a].series.surroundingRadius=o[a+1].innerRadius}},r=e.x+e.width/2,o=e.y+e.height/2,a=Math.max(0,Math.min(e.width,e.height)/2),l=a;i(r,o,l);var s=function(s){var u,c,h=(void 0===s?{}:s).hideWhenNecessary,d=void 0!==h&&h,p=[];try{for(var f=Es(n),y=f.next();!y.done;y=f.next()){var v=y.value.computeLabelsBBox({hideWhenNecessary:d},e);null!=v&&p.push(v)}}catch(t){u={error:t}}finally{try{y&&!y.done&&(c=f.return)&&c.call(f)}finally{if(u)throw u.error}}if(0!==p.length){var g=D.merge(p),m=t.refineCircle(g,l);i(m.centerX,m.centerY,m.radius),m.radius!==l&&(l=m.radius)}else i(r,o,a)};s(),s(),s(),s({hideWhenNecessary:!0}),s({hideWhenNecessary:!0})},e.prototype.refineCircle=function(t,e){var n=this.seriesRect,i=-e,r=-e,o=e,a=e,l=Math.max(0,i-t.x),s=Math.max(0,r-t.y),u=Math.max(0,t.x+t.width-o),c=Math.max(0,t.y+t.height-a),h=n.width-l-u,d=n.height-s-c,p=Math.min(h,d)/2,f=.5*n.width/2,y=.5*n.height/2,v=Math.min(f,y);if(p<v){var g=l+u;if(2*(p=v)+(s+c)>n.height){var m=n.height-2*p;2*Math.min(s,c)>m?(s=m/2,c=m/2):s>c?s=m-c:c=m-s}if(2*p+g>n.width){var b=n.width-2*p;2*Math.min(l,u)>b?(l=b/2,u=b/2):l>u?l=b-u:u=b-l}}var x=l+2*p+u,w=s+2*p+c;return{centerX:n.x+(n.width-x)/2+l+p,centerY:n.y+(n.height-w)/2+s+p,radius:p}},e.className="PolarChart",e.type="polar"}(_l);var Ps=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ns=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},Ts=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};!function(t){function e(e,n,i){void 0===e&&(e=window.document);var r=t.call(this,e,n,i)||this;return r._data={},r}Ps(e,t),e.prototype.performLayout=function(){return Ns(this,void 0,void 0,(function(){var e,n,i,r,o=this;return Ts(this,(function(a){switch(a.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=a.sent(),n=this.seriesAreaPadding,i=e.clone(),e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,20,r=e.clone().grow(20),this.hoverRect=r,[4,Promise.all(this.series.map((function(t){return Ns(o,void 0,void 0,(function(){return Ts(this,(function(n){switch(n.label){case 0:return t.rootGroup.translationX=Math.floor(e.x),t.rootGroup.translationY=Math.floor(e.y),[4,t.update({seriesRect:e})];case 1:return n.sent(),[2]}}))}))})))];case 2:return a.sent(),this.seriesRoot.setClipRectInGroupCoordinateSpace(new D(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:i,paddedRect:e,hoverRect:r,visible:!0},axes:[]}),[2,e]}}))}))},e.className="HierarchyChart",e.type="hierarchy"}(_l);var Rs=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Ls=/(#\{(.*?)\})/g;function As(t,e,n){return t.replace(Ls,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=t[2],o=Rs(r.split(":"),2),a=o[0],l=o[1],s=e[a];if("number"==typeof s){if(d=l&&n&&n[l]){var u=d,c=u.locales,h=u.options;return s.toLocaleString(c,h)}return String(s)}if(s instanceof Date){var d;if("string"==typeof(d=l&&n&&n[l])){var p=Ki(d);return p(s)}return s.toDateString()}return"string"==typeof s||(null==s?void 0:s.toString)?String(s):""}))}var Is=null;function js(t){return Is=null!=Is?Is:document.createElement("div"),t?(Is.textContent=t,Is.innerHTML):""}function Fs(t,e){var n,i,r,o,a,l,s=Math.floor(t[0]),u=t[1];n=s,i=u,r=e,o=Math.abs(i-n)/(r-1),a=Math.floor(Math.log10(o)),l=Math.pow(10,a);var c=function(t,e,n){return function(t){var e=Math.floor(Math.log10(t)),n=Math.pow(10,e),i=t/n*10;if(i>0&&i<=1)return n/10;if(i>1&&i<=2)return 2*n/10;if(i>1&&i<=5)return 5*n/10;if(i>5&&i<=10)return 10*n/10;if(i>10&&i<=20)return 20*n/10;if(i>20&&i<=40)return 40*n/10;if(i>40&&i<=50)return 50*n/10;if(i>50&&i<=100)return 100*n/10;return i}((e-t)/(n-1))}(s=Math.floor(n/l)*l,u,e);return[[s,u=s+(e-1)*c],function(t,e,n){for(var i=Math.floor(Math.log10(e)),r=e>0&&e<1?Math.abs(i):0,o=Math.pow(10,r),a=new Li(r),l=0;l<n;l++){var s=t+e*l;a[l]=Math.round(s*o)/o}return a}(s,c,e)]}var Bs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zs=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ws=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Ks=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpacing=NaN,e}return Bs(e,t),zs([Xt(Zt(ve(1),$t("minSpacing"))),wr(NaN)],e.prototype,"maxSpacing",void 0),e}(Kr),Gs=function(t){function e(e,n){void 0===n&&(n=new Vr);var i=t.call(this,e,n)||this;return i.min=NaN,i.max=NaN,n.strictClampByDefault=!0,i}return Bs(e,t),e.prototype.normaliseDataDomain=function(t){var e,n=this.min,i=this.max;return t.length>2&&(t=null!==(e=Sr(t))&&void 0!==e?e:[NaN,NaN]),isNaN(n)||(t=[n,t[1]]),isNaN(i)||(t=[t[0],i]),t[0]>t[1]&&(t=[]),t},e.prototype.formatDatum=function(t){return"number"==typeof t?t.toFixed(2):(U.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))},e.prototype.createTick=function(){return new Ks},e.prototype.updateSecondaryAxisTicks=function(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var e=Ws(Fs(this.dataDomain,null!=t?t:0),2),n=e[0],i=e[1];return this.scale.nice=!1,this.scale.domain=n,this.scale.update(),i},e.className="NumberAxis",e.type="number",zs([Xt(Zt(ve(),Jt("max"))),wr(NaN)],e.prototype,"min",void 0),zs([Xt(Zt(ve(),$t("min"))),wr(NaN)],e.prototype,"max",void 0),e}(to),Xs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ys=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function Hs(){return Yt((function(t){return"number"==typeof t&&0!==t}),"expecting a non-zero Number")}var Vs,Us=function(t){function e(e){var n=t.call(this,e,new xr)||this;return n.min=NaN,n.max=NaN,n.scale.strictClampByDefault=!0,n}return Xs(e,t),e.prototype.normaliseDataDomain=function(t){var e,n=this.min,i=this.max;t.length>2&&(t=null!==(e=Sr(t))&&void 0!==e?e:[NaN,NaN]),isNaN(n)||(t=[n,t[1]]),isNaN(i)||(t=[t[0],i]);var r=t[0]>t[1],o=t[0]<0&&t[1]>0,a=0===t[0]&&0===t[1];return(r||o||a)&&(t=[],o?U.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&U.warn("the data domain has 0 extent, no data is rendered.")),0===t[0]&&(t[0]=1),0===t[1]&&(t[1]=-1),t},Object.defineProperty(e.prototype,"base",{get:function(){return this.scale.base},set:function(t){this.scale.base=t},enumerable:!1,configurable:!0}),e.className="LogAxis",e.type="log",Ys([Xt(Zt(ve(),Jt("max"),Hs())),wr(NaN)],e.prototype,"min",void 0),Ys([Xt(Zt(ve(),$t("min"),Hs())),wr(NaN)],e.prototype,"max",void 0),e}(Gs),Zs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qs=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Js=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpacing=NaN,e}return Zs(e,t),qs([Xt(Zt(ve(1),$t("minSpacing"))),wr(NaN)],e.prototype,"maxSpacing",void 0),e}(Kr),$s=function(t){function e(e){var n=t.call(this,e,new $i)||this;n.datumFormat="%m/%d/%y, %H:%M:%S",n.min=void 0,n.max=void 0;var i=n.scale;return i.strictClampByDefault=!0,n.refreshScale(),n.datumFormatter=i.tickFormat({specifier:n.datumFormat}),n}return Zs(e,t),e.prototype.normaliseDataDomain=function(t){var e,n=this.min,i=this.max;return"number"==typeof n&&(n=new Date(n)),"number"==typeof i&&(i=new Date(i)),t.length>2&&(t=(null!==(e=Sr(t))&&void 0!==e?e:[0,1e3]).map((function(t){return new Date(t)}))),n instanceof Date&&(t=[n,t[1]]),i instanceof Date&&(t=[t[0],i]),t[0]>t[1]&&(t=[]),t},e.prototype.createTick=function(){return new Js},e.prototype.onLabelFormatChange=function(e,n){n?t.prototype.onLabelFormatChange.call(this,e,n):this.labelFormatter=this.scale.tickFormat({ticks:e})},e.prototype.formatDatum=function(t){var e;return null!==(e=this.moduleCtx.callbackCache.call(this.datumFormatter,t))&&void 0!==e?e:String(t)},e.prototype.calculatePadding=function(t,e){return 1},e.className="TimeAxis",e.type="time",qs([Xt(Zt(se,Jt("max")))],e.prototype,"min",void 0),qs([Xt(Zt(se,$t("min")))],e.prototype,"max",void 0),e}(to),Qs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tu=function(){return(tu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},eu=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},nu=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},iu=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ru=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},ou=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},au=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Qs(e,t),eu([Xt(te)],e.prototype,"formatter",void 0),e}(Or),lu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return Qs(e,t),eu([Xt(te)],e.prototype,"renderer",void 0),eu([Xt(re)],e.prototype,"format",void 0),e}(Cn);!function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label"}(Vs||(Vs={})),function(t){function e(e){var n,i,r=t.call(this,{moduleCtx:e,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,directionKeys:(n={},n[Le.X]=["xKey"],n[Le.Y]=["yKeys"],n),directionNames:(i={},i[Le.X]=["xName"],i[Le.Y]=["yNames"],i)})||this;r.tooltip=new lu,r.marker=new Vo,r.label=new au,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.xKey=void 0,r.xName=void 0,r._yKeys=[],r._visibles=[],r.yNames=[],r.strokeWidth=2,r.shadow=void 0;var o=r,a=o.marker,l=o.label;return a.enabled=!1,l.enabled=!1,r}Qs(e,t),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){_i(this._yKeys,t)||(this._yKeys=t,this.processedData=void 0,this.processSeriesItemEnabled())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibles",{get:function(){return this._visibles},set:function(t){this._visibles=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this._visibles,n=void 0===e?[]:e;t.clear(),this._yKeys.forEach((function(e,i){var r;return t.set(e,null===(r=n[i])||void 0===r||r)}))},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo!==e&&(this._normalizedTo=e)},enumerable:!1,configurable:!0}),e.prototype.processData=function(){return nu(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,s,u,c,h,d;return iu(this,(function(p){return e=(t=this).xKey,n=t.yKeys,i=t.seriesItemEnabled,r=t.xAxis,o=t.yAxis,a=t.normalizedTo,l=e&&n.length&&this.data?this.data:[],s=(null==r?void 0:r.scale)instanceof Ei,u=(null==o?void 0:o.scale)instanceof Ei,c=ou([],ru(i.entries())).filter((function(t){return ru(t,2)[1]})).map((function(t){return ru(t,1)[0]})),h=a&&isFinite(a)?a:void 0,d=[],h&&d.push(ls(c,h,"sum")),this.dataModel=new qe({props:ou(ou(ou([mn(e,s,{id:"xValue"})],ru(c.map((function(t){return bn(t,u,{id:"yValue-"+t,missingValue:NaN,invalidValue:void 0})})))),[sn(c)]),ru(d)),groupByKeys:!0,dataVisible:this.visible&&c.length>0}),this.processedData=this.dataModel.processData(l),[2]}))}))},e.prototype.getDomain=function(t){var e=this.processedData,n=this.xAxis,i=this.yAxis;if(!e)return[];var r=ru(e.defs.keys,1)[0],o=e.domain,a=ru(o.keys,1)[0],l=ru(o.values,1)[0],s=o.aggValues,u=ru(void 0===s?[]:s,1)[0];return t===Le.X?"category"===r.valueType?a:this.fixNumericExtent(Sr(a),n):i instanceof Us||i instanceof $s?this.fixNumericExtent(l,i):this.fixNumericExtent(u,i)},e.prototype.createNodeData=function(){var t;return nu(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C=this;return iu(this,(function(M){return n=(e=this).xAxis,i=e.yAxis,r=e.data,o=e.processedData,a=(void 0===o?{}:o).data,l=e.ctx.callbackCache,n&&i&&r?(s=[],c=(u=this).yKeys,h=u.xKey,d=void 0===h?"":h,p=u.marker,f=u.label,y=u.fills,v=u.strokes,g=u.id,m=n.scale,b=i.scale,x=b instanceof Ei,w=(null!==(t=m.bandwidth)&&void 0!==t?t:0)/2,S=r.length,k=new Array(S).fill(null).map((function(){return{left:0,right:0}})),O=new Array(S).fill(0),D=function(t,e,n,i){var r=m.convert(t)+w,o=k[n][i],a=k[n][i]+e,l=b.convert(o,{strict:!1}),s=b.convert(a,{strict:!1});return k[n][i]=a,[{x:r,y:s,size:p.size},{x:r,y:l,size:p.size}]},_=function(t,e,n,i){var r,o=C.normalizedTo&&isFinite(C.normalizedTo),a=o&&x&&It(i);return(!o&&!isNaN(i)||a)&&(r=O[n]+=e),{x:m.convert(t)+w,y:b.convert(r,{strict:!1}),size:p.size}},c.forEach((function(t,e){var n,i=null===(n=C.dataModel)||void 0===n?void 0:n.resolveProcessedDataIndexById("yValue-"+t),r=[],o=[],u={itemId:t,points:[],yValues:[]},c={itemId:t,points:[]};if(s[e]={itemId:t,fillSelectionData:c,labelData:r,nodeData:o,strokeSelectionData:u},i){var h=c.points,m=[],b=u.points,x=u.yValues,w=-1;null==a||a.forEach((function(n,s){var u=ru(n.keys,1)[0],c=n.datum,S=n.values;S.forEach((function(k,M){var E;w++;var P,N=c[M],T=k[i.index],R=isNaN(T)?void 0:T,L=M<S.length-1,A=L?n:a[s+1],I=null==A?void 0:A.keys[0],j=L?M+1:0,F=null==A?void 0:A.values[j][i.index],B=isNaN(F)?void 0:F,z=_(u,+R,w,N[t]);p&&o.push({index:w,series:C,itemId:t,datum:N,nodeMidPoint:{x:z.x,y:z.y},cumulativeValue:O[w],yValue:R,yKey:t,xKey:d,point:z,fill:y[e%y.length],stroke:v[e%v.length]}),P=f.formatter?null!==(E=l.call(f.formatter,{value:R,seriesId:g}))&&void 0!==E?E:"":Ft(R)?Number(R).toFixed(2):String(R),f&&r.push({index:w,itemId:t,point:z,label:P?{text:P,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0});var W=[u,I],K=[R,B];if(!W.some((function(t){return null==t}))){K.some((function(t){return null==t}))&&(K[0]=0,K[1]=0);var G=D(W[0],+K[0],w,"right");h.push(G[0]),m.push(G[1]);var X=D(W[1],+K[1],w,"left");h.push(X[0]),m.push(X[1]),b.push({x:NaN,y:NaN}),x.push(void 0),b.push(G[0]),x.push(R),void 0!==B&&(b.push(X[0]),x.push(R))}}))}));for(var S=m.length-1;S>=0;S--)h.push(m[S])}})),[2,s]):[2,[]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.markerFactory=function(){return new(Mo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return nu(this,void 0,void 0,(function(){var e,n,i,r;return iu(this,(function(o){return e=t.nodeData,n=t.markerSelection,i=this.marker.enabled,r=i&&e?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(r,(function(t){t.tag=Vs.Marker}))]}))}))},e.prototype.updateMarkerNodes=function(t){var e;return nu(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C;return iu(this,(function(M){return n=t.markerSelection,i=t.isHighlight,o=(r=this).id,a=r.xKey,l=void 0===a?"":a,s=r.marker,u=r.seriesItemEnabled,c=r.yKeys,h=r.fills,d=r.strokes,p=r.fillOpacity,f=r.marker.fillOpacity,y=void 0===f?p:f,v=r.strokeOpacity,g=r.highlightStyle.item,m=g.fill,b=g.fillOpacity,x=void 0===b?y:b,w=g.stroke,S=g.strokeWidth,k=r.ctx.callbackCache,O=s.size,D=s.formatter,_=null!==(e=s.strokeWidth)&&void 0!==e?e:this.strokeWidth,C="function"==typeof s.shape,n.each((function(t,e){var n,r,a,p,f,g,b,M,E=c.indexOf(e.yKey),P=i&&void 0!==m?m:null!==(n=s.fill)&&void 0!==n?n:h[E%h.length],N=i?x:y,T=i&&void 0!==w?w:null!==(r=s.stroke)&&void 0!==r?r:d[E%h.length],R=i&&void 0!==S?S:_,L=void 0;D&&(L=k.call(D,{datum:e.datum,xKey:l,yKey:e.yKey,fill:P,stroke:T,strokeWidth:R,size:O,highlighted:i,seriesId:o})),t.fill=null!==(a=null==L?void 0:L.fill)&&void 0!==a?a:P,t.stroke=null!==(p=null==L?void 0:L.stroke)&&void 0!==p?p:T,t.strokeWidth=null!==(f=null==L?void 0:L.strokeWidth)&&void 0!==f?f:R,t.fillOpacity=null!=N?N:1,t.strokeOpacity=null!==(b=null!==(g=s.strokeOpacity)&&void 0!==g?g:v)&&void 0!==b?b:1,t.size=null!==(M=null==L?void 0:L.size)&&void 0!==M?M:O,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!!u.get(e.yKey)&&!isNaN(e.point.x)&&!isNaN(e.point.y),C&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),i||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return nu(this,void 0,void 0,(function(){var e;return iu(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=Vs.Label}))]}))}))},e.prototype.updateLabelNodes=function(t){return nu(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s;return iu(this,(function(u){return e=t.labelSelection,n=this.label,i=n.enabled,r=n.fontStyle,o=n.fontWeight,a=n.fontSize,l=n.fontFamily,s=n.color,e.each((function(t,e){var n=e.point,u=e.label;u&&i?(t.fontStyle=r,t.fontWeight=o,t.fontSize=a,t.fontFamily=l,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=n.x,t.y=n.y-10,t.fill=s,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){var n;return new Go(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n;return new Xo(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,i,r,o=this.xKey,a=this.id,l=t.yKey,s=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndexById("yValue-"+l);if(!o||!l||!s)return"";var u=t.datum,c=u[o],h=u[l],d=this.xAxis,p=this.yAxis,f=this.yKeys;if(!(d&&p&&Ft(h)&&s))return"";var y=this,v=y.xName,g=y.yNames,m=y.fills,b=y.strokes,x=y.tooltip,w=y.marker,S=w.size,k=w.formatter,O=w.strokeWidth,D=w.fill,_=w.stroke,C=d.formatDatum(c),M=p.formatDatum(h),E=f.indexOf(l),P=null===(i=null===(n=this.processedData)||void 0===n?void 0:n.data[t.index])||void 0===i?void 0:i.values[0][null==s?void 0:s.index],N=g[E],T=js(N),R=js(C+": "+M),L=null!=O?O:this.strokeWidth,A=null!=D?D:m[E%m.length],I=null!=_?_:b[E%m.length],j=void 0;k&&(j=k({datum:u,xKey:o,yKey:l,fill:A,stroke:I,strokeWidth:L,size:S,highlighted:!1,seriesId:a}));var F=null!==(r=null==j?void 0:j.fill)&&void 0!==r?r:A,B={title:T,backgroundColor:F,content:R},z=x.renderer,W=x.format;if(W||z){var K={datum:u,xKey:o,xName:v,xValue:c,yKey:l,yValue:h,processedYValue:P,yName:N,color:F,title:T,seriesId:a};if(W)return tn({content:As(W,K)},B);if(z)return tn(z(K),B)}return tn(B)},e.prototype.getLegendData=function(){var t,e,n,i,r,o=this,a=o.data,l=o.id,s=o.xKey,u=o.yKeys,c=o.yNames,h=o.seriesItemEnabled,d=o.marker,p=o.fills,f=o.strokes,y=o.fillOpacity,v=o.strokeOpacity;if(!(null==a?void 0:a.length)||!s||!u.length)return[];for(var g=[],m=u.length-1;m>=0;m--){var b=u[m];g.push({legendType:"category",id:l,itemId:b,seriesId:l,enabled:null!==(t=h.get(b))&&void 0!==t&&t,label:{text:c[m]||u[m]},marker:{shape:d.shape,fill:null!==(e=d.fill)&&void 0!==e?e:p[m%p.length],stroke:null!==(n=d.stroke)&&void 0!==n?n:f[m%f.length],fillOpacity:null!==(i=d.fillOpacity)&&void 0!==i?i:y,strokeOpacity:null!==(r=d.strokeOpacity)&&void 0!==r?r:v}})}return g},e.prototype.onLegendItemDoubleClick=function(e){var n=this,i=e.enabled,r=e.itemId,o=e.series,a=e.numVisibleItems,l={},s=1===Object.values(a).reduce((function(t,e){return t+e}),0)&&i;if(o.id===this.id){var u=Object.values(a).filter((function(t){return 1===t})).length===Object.keys(a).length;this.yKeys.forEach((function(t){var e,n=t===r||s||u&&i;l[t]=null!==(e=l[t])&&void 0!==e?e:n}))}else this.yKeys.forEach((function(t){l[t]=s}));Object.keys(l).forEach((function(e){t.prototype.toggleSeriesItem.call(n,e,l[e])}))},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.markerSelections,i=t.labelSelections,r=t.contextData,o=t.paths,a=t.seriesRect,l=this,s=l.strokes,u=l.fills,c=l.fillOpacity,h=l.lineDash,d=l.lineDashOffset,p=l.strokeOpacity,f=l.strokeWidth,y=l.shadow;r.forEach((function(t,r){var l,v,g,m=t.fillSelectionData,b=t.strokeSelectionData,x=t.itemId,w=ru(o[r],2),S=w[0],k=w[1],O={from:0,to:null!==(l=null==a?void 0:a.width)&&void 0!==l?l:0,disableInteractions:!0,duration:1e3,ease:aa,repeat:0},D=b.points,_=b.yValues;k.tag=Vs.Stroke,k.fill=void 0,k.lineJoin=k.lineCap="round",k.pointerEvents=R.None,k.stroke=s[r%s.length],k.strokeWidth=e.getStrokeWidth(e.strokeWidth,{itemId:x}),k.strokeOpacity=p,k.lineDash=h,k.lineDashOffset=d,null===(v=e.animationManager)||void 0===v||v.animate(e.id+"_empty-update-ready_stroke_"+r,tu(tu({},O),{onUpdate:function(t){k.path.clear({trackChanges:!0});var e=!0;D.forEach((function(n,i){if(void 0===_[i]||isNaN(n.x)||isNaN(n.y))e=!0;else if(n.x<=t)e?(k.path.moveTo(n.x,n.y),e=!1):k.path.lineTo(n.x,n.y);else if(i>0&&void 0!==_[i]&&void 0!==_[i-1]&&D[i-1].x<=t){var r=D[i-1],o=n,a=t,l=r.y+(a-r.x)*(o.y-r.y)/(o.x-r.x);k.path.lineTo(a,l)}})),k.checkPathDirty()}}));var C=m.points,M=C.slice(0,C.length/2),E=C.slice(C.length/2);S.tag=Vs.Fill,S.stroke=void 0,S.lineJoin="round",S.pointerEvents=R.None,S.fill=u[r%u.length],S.fillOpacity=c,S.strokeOpacity=p,S.strokeWidth=f,S.lineDash=h,S.lineDashOffset=d,S.fillShadow=y,null===(g=e.animationManager)||void 0===g||g.animate(e.id+"_empty-update-ready_fill_"+r,tu(tu({},O),{onUpdate:function(t){S.path.clear({trackChanges:!0});var e=0,n=0;M.forEach((function(i,r){if(i.x<=t)e=i.x,n=i.y,S.path.lineTo(i.x,i.y);else if(r>0&&M[r-1].x<t){var o=M[r-1],a=i;e=t,n=o.y+(e-o.x)*(a.y-o.y)/(a.x-o.x),S.path.lineTo(e,n)}})),E.forEach((function(n,i){var r=E.length-i-1;if(n.x<=t)S.path.lineTo(n.x,n.y);else if(r>0&&M[r-1].x<t){var o=n,a=E[i+1],l=o.y+(e-o.x)*(a.y-o.y)/(a.x-o.x);S.path.lineTo(e,l)}})),E.length>0&&S.path.lineTo(E[E.length-1].x,E[E.length-1].y),S.path.closePath(),S.checkPathDirty()}})),n[r].each((function(t,n){var i,r,o,l,s=(null==a?void 0:a.width)?n.point.x/a.width*1e3:0,u=e.animateFormatter(n),c=null!==(r=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==r?r:0;null===(o=e.animationManager)||void 0===o||o.animate(e.id+"_empty-update-ready_"+t.id,tu(tu({},O),{to:null!==(l=null==u?void 0:u.size)&&void 0!==l?l:c,delay:s,duration:200,onUpdate:function(e){t.size=e}}))})),i[r].each((function(t,n){var i,r=(null==a?void 0:a.width)?n.point.x/a.width*1e3:0;null===(i=e.animationManager)||void 0===i||i.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:r,duration:200,ease:aa,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this,n=t.contextData,i=t.paths,r=this,o=r.strokes,a=r.fills,l=r.fillOpacity,s=r.lineDash,u=r.lineDashOffset,c=r.strokeOpacity,h=r.strokeWidth,d=r.shadow;n.forEach((function(t,n){var r=t.strokeSelectionData,p=t.fillSelectionData,f=t.itemId,y=ru(i[n],2),v=y[0],g=y[1];g.stroke=o[n%o.length],g.strokeWidth=e.getStrokeWidth(e.strokeWidth,{itemId:f}),g.strokeOpacity=c,g.lineDash=s,g.lineDashOffset=u,g.path.clear({trackChanges:!0});var m=!0;r.points.forEach((function(t,e){void 0===r.yValues[e]||isNaN(t.x)||isNaN(t.y)?m=!0:m?(g.path.moveTo(t.x,t.y),m=!1):g.path.lineTo(t.x,t.y)})),g.checkPathDirty(),v.fill=a[n%a.length],v.fillOpacity=l,v.strokeOpacity=c,v.strokeWidth=h,v.lineDash=s,v.lineDashOffset=u,v.fillShadow=d,v.path.clear({trackChanges:!0}),p.points.forEach((function(t){v.path.lineTo(t.x,t.y)})),v.path.closePath(),v.checkPathDirty()}))},e.prototype.animateFormatter=function(t){var e,n,i,r=this,o=r.marker,a=r.fills,l=r.strokes,s=r.xKey,u=void 0===s?"":s,c=r.yKeys,h=r.id,d=r.ctx.callbackCache,p=o.size,f=o.formatter,y=c.indexOf(t.yKey),v=null!==(e=o.fill)&&void 0!==e?e:a[y%a.length],g=null!==(n=o.stroke)&&void 0!==n?n:l[y%a.length],m=null!==(i=o.strokeWidth)&&void 0!==i?i:this.strokeWidth,b=void 0;return f&&(b=d.call(f,{datum:t.datum,xKey:u,yKey:t.yKey,fill:v,stroke:g,strokeWidth:m,size:p,highlighted:!1,seriesId:h})),b},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="AreaSeries",e.type="area",eu([Xt(de)],e.prototype,"fills",void 0),eu([Xt(de)],e.prototype,"strokes",void 0),eu([Xt(fe(0,1))],e.prototype,"fillOpacity",void 0),eu([Xt(fe(0,1))],e.prototype,"strokeOpacity",void 0),eu([Xt(Me)],e.prototype,"lineDash",void 0),eu([Xt(fe(0))],e.prototype,"lineDashOffset",void 0),eu([Xt(re)],e.prototype,"xKey",void 0),eu([Xt(re)],e.prototype,"xName",void 0),eu([Xt(be)],e.prototype,"_yKeys",void 0),eu([Xt(we)],e.prototype,"_visibles",void 0),eu([Xt(be)],e.prototype,"yNames",void 0),eu([Xt(ye())],e.prototype,"_normalizedTo",void 0),eu([Xt(fe(0))],e.prototype,"strokeWidth",void 0)}(Ho);var su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uu=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},cu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.borderPath=new Vn,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.lastUpdatePathStrokeWidth=xt.defaultStyles.strokeWidth,e.effectiveStrokeWidth=xt.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return su(e,t),e.prototype.isDirtyPath=function(){var t;return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty()||(null===(t=this.clipPath)||void 0===t?void 0:t.isDirty()))},e.prototype.updatePath=function(){var t,e,n,i=this.path,r=this.borderPath,o=this.crisp,a=this,l=a.x,s=a.y,u=a.width,c=a.height,h=a.strokeWidth,d=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1),p=1;if(i.clear({trackChanges:!0}),r.clear({trackChanges:!0}),o&&(u<=d&&(p*=u/d),c<=d&&(p*=c/d),u=this.align(l,u),c=this.align(s,c),l=this.align(l),s=this.align(s)),h)if(u<d){var f=l+d/2;r.moveTo(f,s),r.lineTo(f,s+c),h=d,this.borderClipPath=void 0}else if(c<d){var y=s+d/2;r.moveTo(l,y),r.lineTo(l+u,y),h=d,this.borderClipPath=void 0}else if(h<u&&h<c){var v=h/2;l+=v,s+=v,u-=h,c-=h,this.borderClipPath=void 0,i.rect(l,s,u,c),r.rect(l,s,u,c)}else this.borderClipPath=null!==(n=this.borderClipPath)&&void 0!==n?n:new Vn,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(l,s,u,c),r.rect(l,s,u,c);else this.borderClipPath=void 0,i.rect(l,s,u,c);this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=p},e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.width,i=this.height;return new D(t,e,n,i)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.applyFillAlpha=function(t){var e=this.fillOpacity,n=this.microPixelEffectOpacity,i=this.opacity,r=t.globalAlpha;t.globalAlpha=r*i*e*n},e.prototype.renderStroke=function(t){var e=this,n=e.stroke,i=e.effectiveStrokeWidth,r=e.borderPath,o=e.borderClipPath,a=e.opacity,l=e.microPixelEffectOpacity;if(!!n&&!!i){var s=this,u=s.strokeOpacity,c=s.lineDash,h=s.lineDashOffset,d=s.lineCap,p=s.lineJoin;o&&(o.draw(t),t.clip()),r.draw(t);var f=t.globalAlpha;t.strokeStyle=n,t.globalAlpha=f*a*u*l,t.lineWidth=i,c&&t.setLineDash(c),h&&(t.lineDashOffset=h),d&&(t.lineCap=d),p&&(t.lineJoin=p),t.stroke(),t.globalAlpha=f}},e.className="Rect",uu([qn()],e.prototype,"x",void 0),uu([qn()],e.prototype,"y",void 0),uu([qn()],e.prototype,"width",void 0),uu([qn()],e.prototype,"height",void 0),uu([qn()],e.prototype,"radius",void 0),uu([qn()],e.prototype,"crisp",void 0),e}(Jn),hu=function(){return(hu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},du=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},pu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};function fu(t){var e,n=t.value,i=t.rect,r=t.placement,o=t.seriesId,a=t.padding,l=void 0===a?0:a,s=t.formatter,u=t.barAlongX,c=t.ctx.callbackCache;s&&(e=c.call(s,{value:Ft(n)?n:void 0,seriesId:o})),void 0===e&&(e=Ft(n)?n.toFixed(2):"");var h=i.x+i.width/2,d=i.y+i.height/2,p="center",f="middle",y=n>=0;switch(r){case"start":u?(h=y?i.x-l:i.x+i.width+l,p=y?"start":"end"):(d=y?i.y+i.height+l:i.y-l,f=y?"top":"bottom");break;case"outside":case"end":u?(h=y?i.x+i.width+l:i.x-l,p=y?"start":"end"):(d=y?i.y-l:i.y+i.height+l,f=y?"bottom":"top");break;case"inside":default:f="middle"}return{text:e,textAlign:p,textBaseline:f,x:h,y:d}}var yu,vu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gu=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},mu=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},bu=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},xu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},wu=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Su=["inside","outside"],ku=function(t,e){return Ht(t,e,(function(t){return Su.includes(t)}))};!function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(yu||(yu={}));var Ou=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return vu(e,t),gu([Xt(te)],e.prototype,"formatter",void 0),gu([Xt(ku)],e.prototype,"placement",void 0),e}(Or),Du=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return vu(e,t),gu([Xt(te)],e.prototype,"renderer",void 0),e}(Cn);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}vu(e,t),e.prototype.getBarDirection=function(){return Le.Y},e.prototype.getCategoryDirection=function(){return Le.X},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.datumSelections,i=t.labelSelections,r=0;n.forEach((function(t){return t.each((function(t,e){e.yValue>=0&&(r=Math.max(r,e.height+e.y))}))})),n.forEach((function(t){t.each((function(t,n){var i;null===(i=e.animationManager)||void 0===i||i.animateMany(e.id+"_empty-update-ready_"+t.id,[{from:r,to:n.y},{from:0,to:n.height}],{disableInteractions:!0,duration:1e3,ease:ua,repeat:0,onUpdate:function(e){var i=xu(e,2),r=i[0],o=i[1];t.y=r,t.height=o,t.x=n.x,t.width=n.width}})}))})),i.forEach((function(t){t.each((function(t){var n;null===(n=e.animationManager)||void 0===n||n.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:1e3,duration:200,ease:aa,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))},e.type="column",e.className="ColumnSeries"}(function(t){function e(e){var n,i,r=t.call(this,{moduleCtx:e,pickModes:[cn.EXACT_SHAPE_MATCH],pathsPerSeries:0,directionKeys:(n={},n[Le.X]=["xKey"],n[Le.Y]=["yKeys"],n),directionNames:(i={},i[Le.X]=["xName"],i[Le.Y]=["yNames"],i)})||this;return r.label=new Ou,r.tooltip=new Du,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.formatter=void 0,r.groupScale=new di,r.xKey=void 0,r.xName=void 0,r.cumYKeyCount=[],r.flatYKeys=void 0,r.hideInLegend=[],r.yKeys=[],r.yKeysCache=[],r.visibles=[],r.grouped=!1,r.stackGroups={},r.yNames={},r.legendItemNames={},r.strokeWidth=1,r.shadow=void 0,r.smallestDataInterval=void 0,r.label.enabled=!1,r}return vu(e,t),e.prototype.resolveKeyDirection=function(t){return this.getBarDirection()===Le.X?t===Le.X?Le.Y:Le.X:t},e.prototype.processYKeys=function(){var t,e=this,n=this.yKeys,i=void 0;(t=n).length>0&&Array.isArray(t[0])||(i=n,n=this.grouped?i.map((function(t){return[t]})):[i]);var r=Object.values(this.stackGroups);if(r.length>0){var o=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},a=o(n),l=new Set(o(r)),s=a.filter((function(t){return!l.has(t)}));n=r.map((function(t){return t})),s.length>0&&n.push(s);var u=o(n),c=u.reduce((function(t,e,n){return t.set(e,n)}),new Map),h=function(t){var e=Array.from({length:t.length});return t.forEach((function(t,n){var i=a[n],r=c.get(i);e[r]=t})),e};this.fills=h(this.fills),this.strokes=h(this.strokes),this.visibles=h(this.visibles)}if(!_i(this.yKeysCache,n)){this.flatYKeys=i||void 0,this.yKeys=n;var d=0;this.cumYKeyCount=[];var p=[];n.forEach((function(t,n){t.length>0&&p.push(String(n)),e.cumYKeyCount.push(d),d+=t.length})),this.processSeriesItemEnabled(),this.groupScale.domain=p}this.yKeysCache=n},e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this.visibles.reduce((function(t,e){return t.concat.apply(t,wu([],xu(Array.isArray(e)?e:[e])))}),[]);t.clear();var n=0;this.yKeys.forEach((function(i){i.forEach((function(i){var r;return t.set(i,null===(r=e[n++])||void 0===r||r)}))}))},e.prototype.getStackGroup=function(t){var e,n=this.stackGroups;return null===(e=Object.entries(n).find((function(e){var n=xu(e,2);return n[0],n[1].includes(t)})))||void 0===e?void 0:e[0]},e.prototype.processYNames=function(){var t=this.yNames;if(Array.isArray(t)&&this.flatYKeys){var e={};this.flatYKeys.forEach((function(n,i){e[n]=t[i]})),this.yNames=e}},e.prototype.processData=function(){var t,e,n,i,r;return mu(this,void 0,void 0,(function(){var o,a,l,s,u,c,h,d,p,f,y,v,g;return bu(this,(function(m){return this.processYKeys(),this.processYNames(),a=(o=this).xKey,l=o.seriesItemEnabled,s=o.normalizedTo,u=o.data,c=void 0===u?[]:u,h=Math.abs(null!=s?s:NaN),d=(null===(t=this.getCategoryAxis())||void 0===t?void 0:t.scale)instanceof Ei,p=(null===(e=this.getValueAxis())||void 0===e?void 0:e.scale)instanceof Ei,f=wu([],xu(l.entries())).filter((function(t){return xu(t,2)[1]})).map((function(t){return xu(t,1)[0]})),y=this.yKeys.map((function(t){return t.filter((function(t){return l.get(t)}))})).filter((function(t){return t.length>0})),v=h&&isFinite(h)?h:void 0,g=[],v&&g.push(ls(f,v,"sum")),this.dataModel=new qe({props:wu(wu(wu(wu(wu([mn(a,d)],xu(f.map((function(t){return bn(t,p,{invalidValue:null})})))),xu(y.map((function(t){return sn(t)})))),xu(d?[rs]:[])),[os]),xu(g)),groupByKeys:!0,dataVisible:this.visible&&f.length>0}),this.processedData=this.dataModel.processData(c),this.smallestDataInterval={x:null!==(r=null===(i=null===(n=this.processedData)||void 0===n?void 0:n.reduced)||void 0===i?void 0:i[rs.property])&&void 0!==r?r:1/0,y:1/0},[2]}))}))},e.prototype.getDomain=function(t){var e,n=this.processedData;if(!n)return[];var i=n,r=xu(i.defs.keys,1)[0],o=i.domain,a=xu(o.keys,1)[0],l=xu(o.values,1)[0],s=i.reduced,u=void 0===s?{}:s,c=u[rs.property],h=u[os.property];if(t===this.getCategoryDirection()){if("category"===r.valueType)return a;var d=null!==(e=Sr(a))&&void 0!==e?e:[NaN,NaN];return t===Le.Y?[d[0]+-c,d[1]]:[d[0],d[1]+c]}return this.getValueAxis()instanceof Us?this.fixNumericExtent(l):this.fixNumericExtent(h)},e.prototype.getNodeClickEvent=function(t,e){var n;return new Go(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n;return new Xo(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getCategoryAxis=function(){return this.getCategoryDirection()===Le.Y?this.yAxis:this.xAxis},e.prototype.getValueAxis=function(){return this.getBarDirection()===Le.Y?this.yAxis:this.xAxis},e.prototype.calculateStep=function(t){var e,n=this.smallestDataInterval,i=this.getCategoryAxis();if(i){var r=(i.dataDomain[1]-i.dataDomain[0])/(null!==(e=null==n?void 0:n.x)&&void 0!==e?e:1)+1,o=Math.floor(t),a=Math.min(r,o);return t/Math.max(1,a)}},e.prototype.createNodeData=function(){return mu(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_=this;return bu(this,(function(C){return e=(t=this).data,n=t.visible,i=this.getCategoryAxis(),r=this.getValueAxis(),e&&n&&i&&r?(o=i.scale,a=r.scale,s=(l=this).groupScale,u=l.yKeys,c=l.xKey,h=void 0===c?"":c,d=l.cumYKeyCount,p=l.fills,f=l.strokes,y=l.strokeWidth,v=l.seriesItemEnabled,g=l.label,m=l.id,b=l.processedData,x=l.ctx,w=o.bandwidth,o instanceof Ei&&(S=Math.max(i.range[0],i.range[1]),k=this.calculateStep(S),w=k),s.range=[0,w],s.padding=i instanceof oo?i.groupPaddingInner:i instanceof zl?.1:0,0===s.padding?s.round=!1:s.round=!0,O=s.bandwidth>=1?s.bandwidth:s.rawBandwidth,D=[],null==b||b.data.forEach((function(t,e){for(var n,r,l,c,w,S,k=t.keys,C=t.datum,M=t.values,E=o.convert(k[0]),P=0;P<(null!==(n=null==u?void 0:u.length)&&void 0!==n?n:0);P++){var N=null!==(r=null==u?void 0:u[P])&&void 0!==r?r:[];null!==(l=D[P])&&void 0!==l||(D[P]=[]);for(var T=0,R=0,L=0;L<N.length;L++){var A=N[L],I=null!==(c=null==b?void 0:b.indices.values[A])&&void 0!==c?c:-1;if(null!==(w=(S=D[P])[L])&&void 0!==w||(S[L]={itemId:A,nodeData:[],labelData:[]}),void 0!==I){var j=M[0][I],F=+j,B=E+s.convert(String(P));if(i.inRange(B,O)&&!isNaN(F)){var z=F<0?T:R,W=a.convert(z+F,{strict:!1}),K=a.convert(z,{strict:!1}),G=_.getBarDirection()===Le.X,X={x:G?Math.min(W,K):B,y:G?B:Math.min(W,K),width:G?Math.abs(K-W):O,height:G?O:Math.abs(K-W)},Y={x:X.x+X.width/2,y:X.y+X.height/2},H=g.fontStyle,V=g.fontWeight,U=g.fontSize,Z=g.fontFamily,q=g.color,J=fu({value:j,rect:X,formatter:g.formatter,placement:g.placement,seriesId:m,barAlongX:G,ctx:x}),$=J.text,Q=J.textAlign,tt=J.textBaseline,et=J.x,nt=J.y,it=d[P]+L,rt={index:e,series:_,itemId:A,datum:C[0],cumulativeValue:z+F,yValue:j,yKey:A,xKey:h,x:X.x,y:X.y,width:X.width,height:X.height,nodeMidPoint:Y,colorIndex:it,fill:p[it%p.length],stroke:f[it%f.length],strokeWidth:y,label:v.get(A)&&$?{text:$,fontStyle:H,fontWeight:V,fontSize:U,fontFamily:Z,textAlign:Q,textBaseline:tt,fill:q,x:et,y:nt}:void 0};D[P][L].nodeData.push(rt),D[P][L].labelData.push(rt),F<0?T+=F:R+=F}}}}})),[2,D.reduce((function(t,e){return t.concat.apply(t,wu([],xu(e)))}),[])]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new cu},e.prototype.updateDatumSelection=function(t){return mu(this,void 0,void 0,(function(){var e;return bu(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){return t.tag=yu.Bar}))]}))}))},e.prototype.updateDatumNodes=function(t){var e;return mu(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m=this;return bu(this,(function(b){return n=t.datumSelection,i=t.isHighlight,o=(r=this).fills,a=r.strokes,l=r.fillOpacity,s=r.strokeOpacity,u=r.lineDash,c=r.lineDashOffset,h=r.shadow,d=r.formatter,p=r.id,f=r.highlightStyle.item,y=r.ctx,v=function(t){void 0===t&&(t=[]);var e=pu(t,2),n=e[0],i=e[1];return!(0!==n||1!==i)}(null===(e=this.xAxis)||void 0===e?void 0:e.visibleRange),g=this.getCategoryDirection()===Le.X,n.each((function(t,e){var n=e.colorIndex,r={fill:o[n%o.length],stroke:a[n%o.length],fillOpacity:l,strokeOpacity:s,lineDash:u,lineDashOffset:c,fillShadow:h,strokeWidth:m.getStrokeWidth(m.strokeWidth,e)},b=g?e.width>0:e.height>0,x=function(t){var e,n,i,r,o,a,l,s=t.datum,u=t.isHighlighted,c=t.style,h=t.highlightStyle,d=t.formatter,p=t.seriesId,f=t.stackGroup,y=t.ctx.callbackCache,v=du(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","stackGroup","ctx"]),g=u&&null!==(e=h.fill)&&void 0!==e?e:c.fill,m=u&&null!==(n=h.stroke)&&void 0!==n?n:c.stroke,b=u&&null!==(i=h.strokeWidth)&&void 0!==i?i:c.strokeWidth,x=u&&null!==(r=h.fillOpacity)&&void 0!==r?r:c.fillOpacity,w=c.strokeOpacity,S=c.fillShadow,k=c.lineDash,O=c.lineDashOffset,D=void 0;return d&&(D=y.call(d,hu({datum:s.datum,xKey:s.xKey,yKey:s.yKey,fill:g,stroke:m,strokeWidth:b,highlighted:u,seriesId:p,stackGroup:f},v))),{fill:null!==(o=null==D?void 0:D.fill)&&void 0!==o?o:g,stroke:null!==(a=null==D?void 0:D.stroke)&&void 0!==a?a:m,strokeWidth:null!==(l=null==D?void 0:D.strokeWidth)&&void 0!==l?l:b,fillOpacity:x,strokeOpacity:w,lineDash:k,lineDashOffset:O,fillShadow:S}}({datum:e,isHighlighted:i,style:r,highlightStyle:f,formatter:d,seriesId:p,stackGroup:m.getStackGroup(e.yKey),ctx:y});x.crisp=v,x.visible=b,function(t){var e=t.rect,n=t.config,i=n.crisp,r=void 0===i||i,o=n.fill,a=n.stroke,l=n.strokeWidth,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineDash,h=n.lineDashOffset,d=n.fillShadow,p=n.visible,f=void 0===p||p;e.crisp=r,e.fill=o,e.stroke=a,e.strokeWidth=l,e.fillOpacity=s,e.strokeOpacity=u,e.lineDash=c,e.lineDashOffset=h,e.fillShadow=d,e.visible=f}({rect:t,config:x})})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return mu(this,void 0,void 0,(function(){var e,n,i,r;return bu(this,(function(o){return e=t.labelData,n=t.labelSelection,i=this.label.enabled,r=i?e:[],[2,n.update(r,(function(t){t.tag=yu.Label,t.pointerEvents=R.None}))]}))}))},e.prototype.updateLabelNodes=function(t){return mu(this,void 0,void 0,(function(){var e=this;return bu(this,(function(n){return t.labelSelection.each((function(t,n){!function(t){var e=t.labelNode,n=t.labelDatum,i=t.config,r=t.visible;if(n&&i&&i.enabled){var o=n.x,a=n.y,l=n.text,s=n.textAlign,u=n.textBaseline,c=i.fontStyle,h=i.fontWeight,d=i.fontSize,p=i.fontFamily,f=i.color;e.fontStyle=c,e.fontWeight=h,e.fontSize=d,e.fontFamily=p,e.textAlign=s,e.textBaseline=u,e.text=l,e.x=o,e.y=a,e.fill=f,e.visible=r}else e.visible=!1}({labelNode:t,labelDatum:n.label,config:e.label,visible:!0})})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n=this.xKey,i=this.yKeys,r=this.processedData,o=this.ctx.callbackCache,a=this.getCategoryAxis(),l=this.getValueAxis(),s=t.yKey;if(!(r&&n&&s&&a&&l))return"";for(var u=0,c=0,h=0;h<i.length;h++){var d=i[h];if((c=d.indexOf(s))>=0){u+=c;break}u+=d.length}var p=this,f=p.xName,y=p.yNames,v=p.fills,g=p.strokes,m=p.tooltip,b=p.formatter,x=p.id,w=m.renderer,S=t.datum,k=y[s],O=this.getStackGroup(s),D=v[u%v.length],_=g[u%v.length],C=this.getStrokeWidth(this.strokeWidth),M=S[n],E=S[s],P=js(a.formatDatum(M)),N=js(l.formatDatum(E)),T=js(k),R=P+": "+N,L=void 0;b&&(L=o.call(b,{datum:S,fill:D,stroke:_,strokeWidth:C,highlighted:!1,xKey:n,yKey:s,seriesId:x,stackGroup:O}));var A=null!==(e=null==L?void 0:L.fill)&&void 0!==e?e:D,I={title:T,backgroundColor:A,content:R};return w?tn(w({datum:S,xKey:n,xValue:M,xName:f,yKey:s,yValue:E,yName:k,color:A,title:T,seriesId:x,stackGroup:O}),I):tn(I)},e.prototype.getLegendData=function(){var t=this,e=t.id,n=t.data,i=t.xKey,r=t.yKeys,o=t.yNames,a=t.legendItemNames,l=t.cumYKeyCount,s=t.seriesItemEnabled,u=t.hideInLegend,c=t.fills,h=t.strokes,d=t.fillOpacity,p=t.strokeOpacity;if(!(null==n?void 0:n.length)||!i||!r.length)return[];var f=[];return this.validateLegendData(),this.yKeys.forEach((function(t,n){for(var i,r,y,v=0;v<t.length;v++){var g=t[v];if(u.indexOf(g)>=0)return;var m=l[n]+v;f.push({legendType:"category",id:e,itemId:g,seriesId:e,enabled:null!==(i=s.get(g))&&void 0!==i&&i,label:{text:null!==(y=null!==(r=a[g])&&void 0!==r?r:o[g])&&void 0!==y?y:g},marker:{fill:c[m%c.length],stroke:h[m%h.length],fillOpacity:d,strokeOpacity:p}})}})),f},e.prototype.validateLegendData=function(){var t=this.hideInLegend,e=this.legendItemNames,n=!1;this.yKeys.forEach((function(i){i.forEach((function(i){if(!(t.indexOf(i)>=0)){var r=void 0!==e[i];n&&!r&&U.warnOnce("a series is missing the legendItemName property, unexpected behaviour may occur."),n=r}}))}))},e.prototype.onLegendItemClick=function(e){var n=this,i=e.itemId,r=e.enabled;e.series.id===this.id&&(t.prototype.toggleSeriesItem.call(this,i,r),Object.keys(this.legendItemNames).filter((function(t){return void 0!==n.legendItemNames[t]&&n.legendItemNames[t]===n.legendItemNames[i]})).forEach((function(e){e!==i&&t.prototype.toggleSeriesItem.call(n,e,r)})),this.calculateVisibleDomain())},e.prototype.onLegendItemDoubleClick=function(e){var n=this,i=e.enabled,r=e.itemId,o=e.numVisibleItems,a=Object.values(o).reduce((function(t,e){return t+e}),0),l=Object.values(o).filter((function(t){return 1===t})).length===Object.keys(o).length,s={};this.yKeys.forEach((function(t){t.forEach((function(t){var e,o=t===r||1===a&&i||l&&i;s[t]=null!==(e=s[t])&&void 0!==e?e:o,Object.keys(n.legendItemNames).filter((function(e){return void 0!==n.legendItemNames[e]&&n.legendItemNames[e]===n.legendItemNames[t]})).forEach((function(t){var e;s[t]=null!==(e=s[t])&&void 0!==e?e:o}))}))})),Object.keys(s).forEach((function(e){t.prototype.toggleSeriesItem.call(n,e,s[e])})),this.calculateVisibleDomain()},e.prototype.calculateVisibleDomain=function(){var t=this.yKeys.map((function(t){return t.slice()}));this.seriesItemEnabled.forEach((function(e,n){e||t.forEach((function(t){var e=t.indexOf(n);e>=0&&t.splice(e,1)}))}));var e=[];t.forEach((function(t,n){t.length>0&&e.push(String(n))})),this.groupScale.domain=e,this.nodeDataRefresh=!0},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.datumSelections,i=t.labelSelections,r=1/0;n.forEach((function(t){return t.each((function(t,e){e.yValue>=0&&(r=Math.min(r,e.x))}))})),n.forEach((function(t){t.each((function(t,n){var i;null===(i=e.animationManager)||void 0===i||i.animateMany(e.id+"_empty-update-ready_"+t.id,[{from:r,to:n.x},{from:0,to:n.width}],{disableInteractions:!0,duration:1e3,ease:ua,repeat:0,onUpdate:function(e){var i=xu(e,2),r=i[0],o=i[1];t.x=r,t.width=o,t.y=n.y,t.height=n.height}})}))})),i.forEach((function(t){t.each((function(t){var n;null===(n=e.animationManager)||void 0===n||n.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:1e3,duration:200,ease:aa,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this;t.datumSelections.forEach((function(t){e.resetSelectionRects(t)}))},e.prototype.animateReadyHighlight=function(t){this.resetSelectionRects(t)},e.prototype.animateReadyResize=function(t){var e,n=this,i=t.datumSelections;null===(e=this.animationManager)||void 0===e||e.stop(),i.forEach((function(t){n.resetSelectionRects(t)}))},e.prototype.resetSelectionRects=function(t){t.each((function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}))},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.prototype.getBandScalePadding=function(){return{inner:.2,outer:.3}},e.prototype.getBarDirection=function(){return Le.X},e.prototype.getCategoryDirection=function(){return Le.Y},e.className="BarSeries",e.type="bar",gu([Xt(de)],e.prototype,"fills",void 0),gu([Xt(de)],e.prototype,"strokes",void 0),gu([Xt(fe(0,1))],e.prototype,"fillOpacity",void 0),gu([Xt(fe(0,1))],e.prototype,"strokeOpacity",void 0),gu([Xt(Me)],e.prototype,"lineDash",void 0),gu([Xt(fe(0))],e.prototype,"lineDashOffset",void 0),gu([Xt(te)],e.prototype,"formatter",void 0),gu([Xt(re)],e.prototype,"xKey",void 0),gu([Xt(re)],e.prototype,"xName",void 0),gu([Xt(be)],e.prototype,"hideInLegend",void 0),gu([Xt(we)],e.prototype,"visibles",void 0),gu([Xt(ee)],e.prototype,"grouped",void 0),gu([Xt(ye())],e.prototype,"normalizedTo",void 0),gu([Xt(fe(0))],e.prototype,"strokeWidth",void 0),e}(Ho));var _u,Cu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mu=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Eu=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},Pu=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Nu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Tu=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Ru=["count","sum","mean"],Lu=Yt((function(t){return Ru.includes(t)}),"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean");!function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(_u||(_u={}));var Au=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Cu(e,t),Mu([Xt(te)],e.prototype,"formatter",void 0),e}(Or),Iu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return Cu(e,t),Mu([Xt(te)],e.prototype,"renderer",void 0),e}(Cn);!function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[cn.EXACT_SHAPE_MATCH]})||this;return n.label=new Au,n.tooltip=new Iu,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.xKey=void 0,n.areaPlot=!1,n.bins=void 0,n.aggregation="count",n.binCount=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0,n.strokeWidth=1,n.shadow=void 0,n.calculatedBins=[],n.label.enabled=!1,n}Cu(e,t),e.prototype.deriveBins=function(t){if(void 0===this.binCount){var e=Ni(t[0],t[1],10),n=Ri(t[0],t[1],10),i=e[0];return Tu([[i-n,i]],Nu(e.map((function(t){return[t,t+n]}))))}return this.calculateNiceBins(t,this.binCount)},e.prototype.calculateNiceBins=function(t,e){var n=Math.floor(t[0]),i=t[1],r=e||1,o=this.calculateNiceStart(n,i,r),a=o.start,l=o.binSize;return this.getBins(a,i,l,r)},e.prototype.getBins=function(t,e,n,i){for(var r=[],o=0;o<i;o++){var a=Math.round(10*(t+o*n))/10,l=Math.round(10*(t+(o+1)*n))/10;o===i-1&&(l=Math.max(l,e)),r[o]=[a,l]}return r},e.prototype.calculateNiceStart=function(t,e,n){var i=Math.abs(e-t)/n,r=Math.floor(Math.log10(i)),o=Math.pow(10,r);return{start:Math.floor(t/o)*o,binSize:i}},e.prototype.processData=function(){return Eu(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,s,u=this;return Pu(this,(function(c){return e=(t=this).xKey,n=t.yKey,i=t.data,r=t.areaPlot,o=t.aggregation,a=[mn(e,!0),as],n?(l={type:"aggregate",properties:[],aggregateFunction:function(){return[0,1]},groupAggregateFunction:function(t,e){var n,i;return void 0===e&&(e=[0,0]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(i=null==t?void 0:t[1])&&void 0!==i?i:0,e}},"count"===o||("sum"===o?l=function(t){return{type:"aggregate",properties:t,aggregateFunction:function(t){return ln(t)},groupAggregateFunction:function(t,e){var n,i;return void 0===e&&(e=[0,0]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(i=null==t?void 0:t[1])&&void 0!==i?i:0,e}}}([n]):"mean"===o&&(l=function(t){return{properties:t,type:"aggregate",aggregateFunction:function(t){return ln(t)},groupAggregateFunction:function(t,e){var n,i;return void 0===e&&(e=[0,0,-1]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(i=null==t?void 0:t[1])&&void 0!==i?i:0,e[2]++,e},finalFunction:function(t){void 0===t&&(t=[0,0,0]);var e=t[0]+t[1];return e>=0?[0,e/t[2]]:[e/t[2],0]}}}([n]))),r&&(l=un([n],l)),a.push(bn(n,!0,{invalidValue:void 0}),l)):(l={type:"aggregate",properties:[],aggregateFunction:function(){return[0,1]},groupAggregateFunction:function(t,e){var n,i;return void 0===e&&(e=[0,0]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(i=null==t?void 0:t[1])&&void 0!==i?i:0,e}},r&&(l=un([],l)),a.push(l)),s=function(t){var e,n=Ue(t.domain.keys[0]);if(0===n.length)return t.domain.groups=[],function(){return[]};var i=null!==(e=u.bins)&&void 0!==e?e:u.deriveBins(n),r=i.length;return u.calculatedBins=Tu([],Nu(i)),function(t){for(var e=t.keys[0],n=0;n<r;n++){var o=i[n];if(e>=o[0]&&e<o[1])return o;if(n===r-1&&e<=o[1])return o}return[]}},this.dataModel=new qe({props:a,dataVisible:this.visible,groupByFn:s}),this.processedData=this.dataModel.processData(null!=i?i:[]),[2]}))}))},e.prototype.getDomain=function(t){var e,n,i,r,o=this.processedData;if(!o)return[];var a=o.domain.aggValues,l=Nu(void 0===a?[]:a,1)[0],s=null===(e=this.calculatedBins)||void 0===e?void 0:e[0][0],u=null===(n=this.calculatedBins)||void 0===n?void 0:n[(null!==(r=null===(i=this.calculatedBins)||void 0===i?void 0:i.length)&&void 0!==r?r:0)-1][1];return t===Le.X?Ue([s,u]):Ue(l)},e.prototype.getNodeClickEvent=function(t,e){var n,i;return new Go(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,i;return new Xo(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)},e.prototype.createNodeData=function(){var t;return Eu(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C=this;return Pu(this,(function(M){return n=(e=this).xAxis,i=e.yAxis,r=e.processedData,o=e.ctx.callbackCache,this.seriesItemEnabled&&n&&i&&r&&"grouped"===r.type?(a=n.scale,l=i.scale,u=(s=this).fill,c=s.stroke,h=s.strokeWidth,d=s.id,p=s.yKey,f=void 0===p?"":p,y=s.xKey,v=void 0===y?"":y,g=[],m=function(t){return String(t.value)},b=this.label,x=b.formatter,w=void 0===x?m:x,S=b.fontStyle,k=b.fontWeight,O=b.fontSize,D=b.fontFamily,_=b.color,r.data.forEach((function(t){var e,n=t.aggValues,i=Nu(void 0===n?[[0,0]]:n,1),r=Nu(i[0],2),s=r[0],p=r[1],y=t.datum,m=t.datum.length,b=t.keys,x=Nu(t.keys,2),M=x[0],E=x[1],P=a.convert(M),N=a.convert(E),T=s+p,R=l.convert(0),L=l.convert(T),A=N-P,I=Math.abs(L-R),j=0!==T?{text:null!==(e=o.call(w,{value:T,seriesId:d}))&&void 0!==e?e:String(T),fontStyle:S,fontWeight:k,fontSize:O,fontFamily:D,fill:_,x:P+A/2,y:L+I/2}:void 0,F={x:P+A/2,y:L+I/2};g.push({series:C,datum:y,aggregatedValue:T,frequency:m,domain:b,yKey:f,xKey:v,x:P,y:L,width:A,height:I,nodeMidPoint:F,fill:u,stroke:c,strokeWidth:h,label:j})})),[2,[{itemId:null!==(t=this.yKey)&&void 0!==t?t:this.id,nodeData:g,labelData:g}]]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new cu},e.prototype.updateDatumSelection=function(t){return Eu(this,void 0,void 0,(function(){var e;return Pu(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){t.tag=_u.Bin,t.crisp=!0}))]}))}))},e.prototype.updateDatumNodes=function(t){return Eu(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,u,c,h,d,p=this;return Pu(this,(function(f){return e=t.datumSelection,n=t.isHighlight,r=(i=this).fillOpacity,o=i.strokeOpacity,a=i.shadow,l=i.highlightStyle.item,s=l.fill,u=l.fillOpacity,c=void 0===u?r:u,h=l.stroke,d=l.strokeWidth,e.each((function(t,e,i){var l,u,f=n&&void 0!==d?d:e.strokeWidth,y=n?c:r;t.x=e.x,t.width=e.width,t.fill=null!==(l=n?s:void 0)&&void 0!==l?l:e.fill,t.stroke=null!==(u=n?h:void 0)&&void 0!==u?u:e.stroke,t.fillOpacity=y,t.strokeOpacity=o,t.strokeWidth=f,t.lineDash=p.lineDash,t.lineDashOffset=p.lineDashOffset,t.fillShadow=a,t.zIndex=n?En.highlightedZIndex:i,t.visible=e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return Eu(this,void 0,void 0,(function(){var e;return Pu(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=_u.Label,t.pointerEvents=R.None,t.textAlign="center",t.textBaseline="middle"}))]}))}))},e.prototype.updateLabelNodes=function(t){return Eu(this,void 0,void 0,(function(){var e,n;return Pu(this,(function(i){return e=t.labelSelection,n=this.label.enabled,e.each((function(t,e){var i=e.label;i&&n?(t.text=i.text,t.x=i.x,t.y=i.y,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.fill,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=this.yKey,i=void 0===n?"":n,r=this.xAxis,o=this.yAxis;if(!e||!r||!o)return"";var a=this,l=a.xName,s=a.yName,u=a.fill,c=a.tooltip,h=a.aggregation,d=a.id,p=c.renderer,f=t.aggregatedValue,y=t.frequency,v=t.domain,g=Nu(t.domain,2),m=g[0],b=g[1],x=js(null!=l?l:e)+": "+r.formatDatum(m)+" - "+r.formatDatum(b),w=i?"<b>"+js(null!=s?s:i)+" ("+h+")</b>: "+o.formatDatum(f)+"<br>":"",S={title:x,backgroundColor:u,content:w+="<b>Frequency</b>: "+y};return p?tn(p({datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:e,xValue:v,xName:l,yKey:i,yValue:f,yName:s,color:u,title:x,seriesId:d}),S):tn(S)},e.prototype.getLegendData=function(){var t,e=this,n=e.id,i=e.data,r=e.xKey,o=e.yName,a=e.visible,l=e.fill,s=e.stroke,u=e.fillOpacity,c=e.strokeOpacity;return i&&0!==i.length?[{legendType:"category",id:n,itemId:r,seriesId:n,enabled:a,label:{text:null!==(t=null!=o?o:r)&&void 0!==t?t:"Frequency"},marker:{fill:null!=l?l:"rgba(0, 0, 0, 0)",stroke:null!=s?s:"rgba(0, 0, 0, 0)",fillOpacity:u,strokeOpacity:c}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.datumSelections,i=t.labelSelections,r=0;n.forEach((function(t){return t.each((function(t,e){r=Math.max(r,e.height+e.y)}))})),n.forEach((function(t){t.each((function(t,n){var i;null===(i=e.animationManager)||void 0===i||i.animateMany(e.id+"_empty-update-ready_"+t.id,[{from:r,to:n.y},{from:0,to:n.height}],{disableInteractions:!0,duration:1e3,ease:ua,repeat:0,onUpdate:function(e){var i=Nu(e,2),r=i[0],o=i[1];t.y=r,t.height=o,t.x=n.x,t.width=n.width}})}))})),i.forEach((function(t){t.each((function(t){var n;null===(n=e.animationManager)||void 0===n||n.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:1e3,duration:200,ease:aa,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this;t.datumSelections.forEach((function(t){e.resetSelectionRects(t)}))},e.prototype.animateReadyHighlight=function(t){this.resetSelectionRects(t)},e.prototype.animateReadyResize=function(t){var e,n=this,i=t.datumSelections;null===(e=this.animationManager)||void 0===e||e.stop(),i.forEach((function(t){n.resetSelectionRects(t)}))},e.prototype.resetSelectionRects=function(t){t.each((function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}))},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="HistogramSeries",e.type="histogram",Mu([Xt(he)],e.prototype,"fill",void 0),Mu([Xt(he)],e.prototype,"stroke",void 0),Mu([Xt(fe(0,1))],e.prototype,"fillOpacity",void 0),Mu([Xt(fe(0,1))],e.prototype,"strokeOpacity",void 0),Mu([Xt(Me)],e.prototype,"lineDash",void 0),Mu([Xt(fe(0))],e.prototype,"lineDashOffset",void 0),Mu([Xt(re)],e.prototype,"xKey",void 0),Mu([Xt(ee)],e.prototype,"areaPlot",void 0),Mu([Xt(Ut())],e.prototype,"bins",void 0),Mu([Xt(Lu)],e.prototype,"aggregation",void 0),Mu([Xt(ye(0))],e.prototype,"binCount",void 0),Mu([Xt(re)],e.prototype,"xName",void 0),Mu([Xt(re)],e.prototype,"yKey",void 0),Mu([Xt(re)],e.prototype,"yName",void 0),Mu([Xt(fe(0))],e.prototype,"strokeWidth",void 0)}(Ho);var ju=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fu=function(){return(Fu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Bu=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},zu=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},Wu=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ku=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Gu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return ju(e,t),Bu([Xt(te)],e.prototype,"formatter",void 0),e}(Or),Xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return ju(e,t),Bu([Xt(te)],e.prototype,"renderer",void 0),Bu([Xt(re)],e.prototype,"format",void 0),e}(Cn);!function(t){function e(e){var n=t.call(this,{moduleCtx:e,hasMarkers:!0,pickModes:[cn.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,cn.NEAREST_NODE,cn.EXACT_SHAPE_MATCH]})||this;n.marker=new Vo,n.label=new Gu,n.title=void 0,n.stroke="#874349",n.lineDash=[0],n.lineDashOffset=0,n.strokeWidth=2,n.strokeOpacity=1,n.tooltip=new Xu,n.xKey=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0;var i=n,r=i.marker,o=i.label;return r.fill="#c16068",r.stroke="#874349",o.enabled=!1,n}ju(e,t),e.prototype.processData=function(){return zu(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,s,u;return Wu(this,(function(c){return e=(t=this).xAxis,n=t.yAxis,i=t.xKey,r=void 0===i?"":i,o=t.yKey,a=void 0===o?"":o,l=r&&a&&this.data?this.data:[],s=(null==e?void 0:e.scale)instanceof Ei,u=(null==n?void 0:n.scale)instanceof Ei,this.dataModel=new qe({props:[bn(r,s,{id:"xValue"}),bn(a,u,{id:"yValue",invalidValue:void 0})],dataVisible:this.visible}),this.processedData=this.dataModel.processData(null!=l?l:[]),[2]}))}))},e.prototype.getDomain=function(t){var e=this.xAxis,n=this.yAxis,i=this.dataModel,r=this.processedData;if(!r||!i)return[];var o=i.resolveProcessedDataDefById("xValue");if(t===Le.X){var a=i.getDomain("xValue",r);return"category"===(null==o?void 0:o.valueType)?a:this.fixNumericExtent(Sr(a),e)}a=i.getDomain("yValue",r);return this.fixNumericExtent(a,n)},e.prototype.createNodeData=function(){var t,e,n,i,r,o,a,l,s,u,c;return zu(this,void 0,void 0,(function(){var h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C,M,E,P,N,T,R,L,A,I,j,F,B,z,W,K,G,X,Y,H,V,U,Z,q,J,$;return Wu(this,(function(Q){if(d=(h=this).processedData,p=h.dataModel,f=h.xAxis,y=h.yAxis,v=h.marker,g=v.enabled,m=v.size,b=v.strokeWidth,x=h.ctx.callbackCache,!(d&&p&&f&&y))return[2,[]];for(S=(w=this).label,k=w.yKey,O=void 0===k?"":k,D=w.xKey,_=void 0===D?"":D,C=w.id,M=f.scale,E=y.scale,P=(null!==(t=M.bandwidth)&&void 0!==t?t:0)/2,N=(null!==(e=E.bandwidth)&&void 0!==e?e:0)/2,T=new Array(d.data.length),R=g?m:0,L=null!==(r=null===(i=null===(n=this.dataModel)||void 0===n?void 0:n.resolveProcessedDataIndexById("xValue"))||void 0===i?void 0:i.index)&&void 0!==r?r:-1,A=null!==(l=null===(a=null===(o=this.dataModel)||void 0===o?void 0:o.resolveProcessedDataIndexById("yValue"))||void 0===a?void 0:a.index)&&void 0!==l?l:-1,I=!0,j=void 0,F=void 0,B=0,z=0;z<d.data.length;z++)if(W=null!=F?F:d.data[z],K=W.datum,G=W.values,X=G[L],void 0===(Y=G[A]))j=void 0,I=!0;else{if(H=M.convert(X)+P,isNaN(H)){j=void 0,I=!0;continue}if(V=(null!==(s=M.bandwidth)&&void 0!==s?s:.5*m+(null!=b?b:0))+1,F=void 0===(null===(u=d.data[z+1])||void 0===u?void 0:u.values[A])?void 0:d.data[z+1],U=null===(c=d.data[z+1])||void 0===c?void 0:c.values[L],Z=f.inRangeEx(H,0,V),q=F&&f.inRangeEx(M.convert(U)+P,0,V),-1===Z&&-1===q){I=!0;continue}if(1===Z&&1===j){I=!0;continue}j=Z,J=E.convert(Y)+N,$=void 0,S.formatter&&($=x.call(S.formatter,{value:Y,seriesId:C})),void 0!==$||("number"==typeof Y&&isFinite(Y)?$=Y.toFixed(2):Y&&($=String(Y))),T[B++]={series:this,datum:K,yKey:O,xKey:_,point:{x:H,y:J,moveTo:I,size:R},nodeMidPoint:{x:H,y:J},label:$?{text:$,fontStyle:S.fontStyle,fontWeight:S.fontWeight,fontSize:S.fontSize,fontFamily:S.fontFamily,textAlign:"center",textBaseline:"bottom",fill:S.color}:void 0},I=!1}return T.length=B,[2,[{itemId:O,nodeData:T,labelData:T}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.markerFactory=function(){return new(Mo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return zu(this,void 0,void 0,(function(){var e,n,i,r,o;return Wu(this,(function(a){return e=t.nodeData,n=t.markerSelection,i=this.marker,r=i.shape,o=i.enabled,e=r&&o?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(e)]}))}))},e.prototype.updateMarkerNodes=function(t){var e;return zu(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O;return Wu(this,(function(D){return n=t.markerSelection,i=t.isHighlight,o=(r=this).marker,a=r.marker.fillOpacity,l=r.xKey,s=void 0===l?"":l,u=r.yKey,c=void 0===u?"":u,h=r.stroke,d=r.strokeOpacity,p=r.highlightStyle.item,f=p.fill,y=p.fillOpacity,v=void 0===y?a:y,g=p.stroke,m=p.strokeWidth,b=r.id,x=r.ctx.callbackCache,w=o.size,S=o.formatter,k=null!==(e=o.strokeWidth)&&void 0!==e?e:this.strokeWidth,O="function"==typeof o.shape,n.each((function(t,e){var n,r,l,u,p,y,D,_=i&&void 0!==f?f:o.fill,C=i?v:a,M=i&&void 0!==g?g:null!==(n=o.stroke)&&void 0!==n?n:h,E=i&&void 0!==m?m:k,P=void 0;S&&(P=x.call(S,{datum:e.datum,xKey:s,yKey:c,fill:_,stroke:M,strokeWidth:E,size:w,highlighted:i,seriesId:b})),t.fill=null!==(r=null==P?void 0:P.fill)&&void 0!==r?r:_,t.stroke=null!==(l=null==P?void 0:P.stroke)&&void 0!==l?l:M,t.strokeWidth=null!==(u=null==P?void 0:P.strokeWidth)&&void 0!==u?u:E,t.fillOpacity=null!=C?C:1,t.strokeOpacity=null!==(y=null!==(p=o.strokeOpacity)&&void 0!==p?p:d)&&void 0!==y?y:1,t.size=null!==(D=null==P?void 0:P.size)&&void 0!==D?D:w,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!isNaN(e.point.x)&&!isNaN(e.point.y),O&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),i||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return zu(this,void 0,void 0,(function(){var e,n,i,r,o;return Wu(this,(function(a){return e=t.labelData,n=t.labelSelection,i=this.marker,r=i.shape,o=i.enabled,e=r&&o?e:[],[2,n.update(e)]}))}))},e.prototype.updateLabelNodes=function(t){return zu(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s;return Wu(this,(function(u){return e=t.labelSelection,n=this.label,i=n.enabled,r=n.fontStyle,o=n.fontWeight,a=n.fontSize,l=n.fontFamily,s=n.color,e.each((function(t,e){var n=e.point,u=e.label;e&&u&&i?(t.fontStyle=r,t.fontWeight=o,t.fontSize=a,t.fontFamily=l,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=n.x,t.y=n.y-10,t.fill=s,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){var n,i;return new Go(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,i;return new Xo(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,i=this.xKey,r=this.yKey,o=this.xAxis,a=this.yAxis;if(!(i&&r&&o&&a))return"";var l=this,s=l.xName,u=l.yName,c=l.tooltip,h=l.marker,d=l.id,p=c.renderer,f=c.format,y=t.datum,v=y[i],g=y[r],m=o.formatDatum(v),b=a.formatDatum(g),x=js(null!==(e=this.title)&&void 0!==e?e:u),w=js(m+": "+b),S=h.formatter,k=h.fill,O=h.stroke,D=h.strokeWidth,_=h.size,C=null!=D?D:this.strokeWidth,M=void 0;S&&(M=S({datum:y,xKey:i,yKey:r,fill:k,stroke:O,strokeWidth:C,size:_,highlighted:!1,seriesId:d}));var E=null!==(n=null==M?void 0:M.fill)&&void 0!==n?n:k,P={title:x,backgroundColor:E,content:w};if(f||p){var N={datum:y,xKey:i,xValue:v,xName:s,yKey:r,yValue:g,yName:u,title:x,color:E,seriesId:d};if(f)return tn({content:As(f,N)},P);if(p)return tn(p(N),P)}return tn(P)},e.prototype.getLegendData=function(){var t,e,n,i,r,o,a,l=this,s=l.id,u=l.data,c=l.xKey,h=l.yKey,d=l.yName,p=l.visible,f=l.title,y=l.marker,v=l.stroke,g=l.strokeOpacity;return(null==u?void 0:u.length)&&c&&h?[{legendType:"category",id:s,itemId:h,seriesId:s,enabled:p,label:{text:null!==(t=null!=f?f:d)&&void 0!==t?t:h},marker:{shape:y.shape,fill:null!==(e=y.fill)&&void 0!==e?e:"rgba(0, 0, 0, 0)",stroke:null!==(i=null!==(n=y.stroke)&&void 0!==n?n:v)&&void 0!==i?i:"rgba(0, 0, 0, 0)",fillOpacity:null!==(r=y.fillOpacity)&&void 0!==r?r:1,strokeOpacity:null!==(a=null!==(o=y.strokeOpacity)&&void 0!==o?o:g)&&void 0!==a?a:1}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.markerSelections,i=t.labelSelections,r=t.contextData,o=t.paths,a=t.seriesRect;r.forEach((function(t,r){var l,s,u=t.nodeData,c=Ku(o[r],1)[0],h=c.path;c.fill=void 0,c.lineJoin="round",c.pointerEvents=R.None,c.stroke=e.stroke,c.strokeWidth=e.getStrokeWidth(e.strokeWidth),c.strokeOpacity=e.strokeOpacity,c.lineDash=e.lineDash,c.lineDashOffset=e.lineDashOffset;var d={from:0,to:null!==(l=null==a?void 0:a.width)&&void 0!==l?l:0,disableInteractions:!0,ease:aa,repeat:0};null===(s=e.animationManager)||void 0===s||s.animate(e.id+"_empty-update-ready",Fu(Fu({},d),{duration:1e3,onUpdate:function(t){h.clear({trackChanges:!0}),u.forEach((function(e,n){if(e.point.x<=t)e.point.moveTo?h.moveTo(e.point.x,e.point.y):h.lineTo(e.point.x,e.point.y);else if(n>0&&u[n-1].point.x<t){var i=u[n-1].point,r=e.point,o=t,a=i.y+(o-i.x)*(r.y-i.y)/(r.x-i.x);e.point.moveTo?h.moveTo(o,a):h.lineTo(o,a)}})),c.checkPathDirty()}})),n[r].each((function(t,n){var i,r,o,l,s=(null==a?void 0:a.width)?n.point.x/a.width*1e3:0,u=e.animateFormatter(n),c=null!==(r=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==r?r:0;null===(o=e.animationManager)||void 0===o||o.animate(e.id+"_empty-update-ready_"+t.id,Fu(Fu({},d),{to:null!==(l=null==u?void 0:u.size)&&void 0!==l?l:c,delay:s,duration:200,onUpdate:function(e){t.size=e}}))})),i[r].each((function(t,n){var i,r=(null==a?void 0:a.width)?n.point.x/a.width*1e3:0;null===(i=e.animationManager)||void 0===i||i.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:r,duration:200,ease:aa,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){this.resetMarkersAndPaths(t)},e.prototype.animateReadyResize=function(t){var e;null===(e=this.animationManager)||void 0===e||e.stop(),this.resetMarkersAndPaths(t)},e.prototype.resetMarkersAndPaths=function(t){var e=this,n=t.markerSelections,i=t.contextData,r=t.paths;i.forEach((function(t,i){var o=t.nodeData,a=Ku(r[i],1)[0],l=a.path;a.stroke=e.stroke,a.strokeWidth=e.getStrokeWidth(e.strokeWidth),a.strokeOpacity=e.strokeOpacity,a.lineDash=e.lineDash,a.lineDashOffset=e.lineDashOffset,l.clear({trackChanges:!0}),o.forEach((function(t){t.point.moveTo?l.moveTo(t.point.x,t.point.y):l.lineTo(t.point.x,t.point.y)})),a.checkPathDirty(),n[i].each((function(t,n){var i,r,o,a=e.animateFormatter(n),l=null!==(r=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==r?r:0;t.size=null!==(o=null==a?void 0:a.size)&&void 0!==o?o:l}))}))},e.prototype.animateFormatter=function(t){var e,n,i=this,r=i.marker,o=i.xKey,a=void 0===o?"":o,l=i.yKey,s=void 0===l?"":l,u=i.stroke,c=i.id,h=i.ctx.callbackCache,d=r.size,p=r.formatter,f=r.fill,y=null!==(e=r.stroke)&&void 0!==e?e:u,v=null!==(n=r.strokeWidth)&&void 0!==n?n:this.strokeWidth,g=void 0;return p&&(g=h.call(p,{datum:t.datum,xKey:a,yKey:s,fill:f,stroke:y,strokeWidth:v,size:d,highlighted:!1,seriesId:c})),g},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="LineSeries",e.type="line",Bu([Xt(re)],e.prototype,"title",void 0),Bu([Xt(he)],e.prototype,"stroke",void 0),Bu([Xt(Me)],e.prototype,"lineDash",void 0),Bu([Xt(fe(0))],e.prototype,"lineDashOffset",void 0),Bu([Xt(fe(0))],e.prototype,"strokeWidth",void 0),Bu([Xt(fe(0,1))],e.prototype,"strokeOpacity",void 0),Bu([Xt(re)],e.prototype,"xKey",void 0),Bu([Xt(re)],e.prototype,"xName",void 0),Bu([Xt(re)],e.prototype,"yKey",void 0),Bu([Xt(re)],e.prototype,"yName",void 0)}(Ho);var Yu=function(){function t(){this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map((function(t){return zt.fromString(t)}))}return t.prototype.update=function(){var t=this.domain,e=this.range;t.length<2&&(U.warnOnce("`colorDomain` should have at least 2 values."),0===t.length?t.push(0,1):1===t.length&&t.push(t[0]+1));for(var n=1;n<t.length;n++){if(t[n-1]>=t[n]){U.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((function(t,e){return t-e}));break}}var i=e.length<t.length;if(i||t.length>2&&e.length>t.length)if(U.warnOnce("Number of elements in `colorRange` needs to match the number of elements in `colorDomain`."),i)for(n=e.length;n<t.length;n++)e.push("black");else e.splice(t.length);this.parsedRange=this.range.map((function(t){return zt.fromString(t)}))},t.prototype.convert=function(t){var e,n,i=this.domain,r=this.range,o=this.parsedRange,a=i[0],l=i[i.length-1],s=r[0],u=r[r.length-1];if(t<=a)return s;if(t>=l)return u;if(2===i.length){var c=(t-a)/(l-a),h=1/(r.length-1);n=(c-(e=r.length<=2?0:Math.min(Math.floor(c*(r.length-1)),r.length-2))*h)/h}else{for(e=0;e<i.length-2&&!(t<i[e+1]);e++);var d=i[e];n=(t-d)/(i[e+1]-d)}return ra(o[e],o[e+1])(n)},t}(),Hu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vu=function(){return(Vu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Uu=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Zu=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},qu=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ju=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},$u=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Qu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Hu(e,t),Uu([Xt(te)],e.prototype,"formatter",void 0),e}(Or),ec=function(t){function e(e,n,i,r,o,a){var l=t.call(this,n,i,r,o,a)||this;return l.sizeKey=e,l}return Hu(e,t),e}(Ko),nc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return Hu(e,t),e}(ec),ic=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Hu(e,t),e}(ec),rc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return Hu(e,t),Uu([Xt(te)],e.prototype,"renderer",void 0),e}(Cn);!function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[cn.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,cn.NEAREST_NODE,cn.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return n.sizeScale=new Vr,n.marker=new Vo,n.label=new tc,n.title=void 0,n.labelKey=void 0,n.xName=void 0,n.yName=void 0,n.sizeName="Size",n.labelName="Label",n.xKey=void 0,n.yKey=void 0,n.sizeKey=void 0,n.colorKey=void 0,n.colorName="Color",n.colorDomain=void 0,n.colorRange=["#ffff00","#00ff00","#0000ff"],n.colorScale=new Yu,n.tooltip=new rc,n.label.enabled=!1,n}Hu(e,t),e.prototype.processData=function(){var t,e,n,i,r,o;return Zu(this,void 0,void 0,(function(){var a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D;return qu(this,(function(_){return l=(a=this).xKey,s=void 0===l?"":l,u=a.yKey,c=void 0===u?"":u,h=a.sizeKey,d=a.xAxis,p=a.yAxis,f=a.marker,y=a.data,v=(null==d?void 0:d.scale)instanceof Ei,g=(null==p?void 0:p.scale)instanceof Ei,b=(m=this).colorScale,x=m.colorDomain,w=m.colorRange,S=m.colorKey,this.dataModel=new qe({props:$u($u([bn(s,v,{id:"xValue"}),bn(c,g,{id:"yValue"})],Ju(h?[bn(h,!0,{id:"sizeValue"})]:[])),Ju(S?[bn(S,!0,{id:"colorValue"})]:[])),dataVisible:this.visible}),this.processedData=this.dataModel.processData(null!=y?y:[]),h&&(k=null!==(e=null===(t=this.dataModel.resolveProcessedDataIndexById("sizeValue"))||void 0===t?void 0:t.index)&&void 0!==e?e:-1,O=null!==(i=null===(n=this.processedData)||void 0===n?void 0:n.domain.values[k])&&void 0!==i?i:[],this.sizeScale.domain=f.domain?f.domain:O),S&&(D=null!==(o=null===(r=this.dataModel.resolveProcessedDataIndexById("colorValue"))||void 0===r?void 0:r.index)&&void 0!==o?o:-1,b.domain=null!=x?x:this.processedData.domain.values[D],b.range=w,b.update()),[2]}))}))},e.prototype.getDomain=function(t){var e=this.dataModel,n=this.processedData;if(!n||!e)return[];var i=t===Le.X?"xValue":"yValue",r=e.resolveProcessedDataDefById(i),o=e.getDomain(i,n);if("category"===(null==r?void 0:r.valueType))return o;var a=t===Le.X?this.xAxis:this.yAxis;return this.fixNumericExtent(Sr(o),a)},e.prototype.getNodeClickEvent=function(t,e){var n,i;return new nc(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,i;return new ic(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)},e.prototype.createNodeData=function(){var t,e,n,i,r,o,a,l,s;return Zu(this,void 0,void 0,(function(){var u,c,h,d,p,f,y,v,g,m,b,x,w,k,O,D,_,C,M,E,P,N,T,R,L,A,I,j,F,B,z,W,K,G,X,Y,H,V,U,Z,q,J,$,Q;return qu(this,(function(tt){if(c=(u=this).visible,h=u.xAxis,d=u.yAxis,p=u.yKey,f=void 0===p?"":p,y=u.xKey,v=void 0===y?"":y,g=u.label,m=u.labelKey,b=u.ctx.callbackCache,x=null===(t=this.dataModel)||void 0===t?void 0:t.resolveProcessedDataIndexById("xValue"),w=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndexById("yValue"),!(x&&w&&c&&h&&d))return[2,[]];O=(k=this).colorScale,D=k.sizeKey,_=k.colorKey,C=k.id,M=h.scale,E=d.scale,P=(null!==(n=M.bandwidth)&&void 0!==n?n:0)/2,N=(null!==(i=E.bandwidth)&&void 0!==i?i:0)/2,R=(T=this).sizeScale,L=T.marker,A=new Array(null!==(o=null===(r=this.processedData)||void 0===r?void 0:r.data.length)&&void 0!==o?o:0),R.range=[L.size,L.maxSize],I=g.getFont(),j=0;try{for(F=Qu(null!==(l=null===(a=this.processedData)||void 0===a?void 0:a.data)&&void 0!==l?l:[]),B=F.next();!B.done;B=F.next())z=B.value,W=z.values,K=z.datum,G=W[x.index],X=W[w.index],Y=M.convert(G)+P,H=E.convert(X)+N,this.checkRangeXY(Y,H,h,d)&&(V=void 0,g.formatter&&(V=b.call(g.formatter,{value:X,seriesId:C,datum:K})),void 0===V&&(V=m?String(K[m]):""),U=S.getTextSize(V,I),Z=D?R.convert(W[2]):L.size,q=D?3:2,J=_?O.convert(W[q]):void 0,A[j++]={series:this,itemId:f,yKey:f,xKey:v,datum:K,point:{x:Y,y:H,size:Z},nodeMidPoint:{x:Y,y:H},fill:J,label:Vu({text:V},U)})}catch(t){$={error:t}}finally{try{B&&!B.done&&(Q=F.return)&&Q.call(F)}finally{if($)throw $.error}}return A.length=j,[2,[{itemId:null!==(s=this.yKey)&&void 0!==s?s:this.id,nodeData:A,labelData:A}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.getLabelData=function(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.reduce((function(t,e){return t.concat(e.labelData)}),[])},e.prototype.markerFactory=function(){return new(Mo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return Zu(this,void 0,void 0,(function(){var e,n,i,r;return qu(this,(function(o){return e=t.nodeData,n=t.markerSelection,i=this.marker.enabled,this.marker.isDirty()&&n.clear(),r=i?e:[],[2,n.update(r)]}))}))},e.prototype.updateMarkerNodes=function(t){return Zu(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k;return qu(this,(function(O){return e=t.markerSelection,n=t.isHighlight,r=(i=this).marker,o=i.xKey,a=void 0===o?"":o,l=i.yKey,s=void 0===l?"":l,u=i.sizeScale,c=i.marker,h=c.fillOpacity,d=c.strokeOpacity,p=c.strokeWidth,f=i.highlightStyle.item,y=f.fill,v=f.fillOpacity,g=void 0===v?h:v,m=f.stroke,b=f.strokeWidth,x=i.id,w=i.ctx.callbackCache,S=r.formatter,u.range=[r.size,r.maxSize],k="function"==typeof r.shape,e.each((function(t,e){var i,o,l,u,c,f,v,O,D,_,C=n&&void 0!==y?y:null!==(i=e.fill)&&void 0!==i?i:r.fill,M=n?g:h,E=n&&void 0!==m?m:r.stroke,P=d,N=n&&void 0!==b?b:null!=p?p:1,T=null!==(l=null===(o=e.point)||void 0===o?void 0:o.size)&&void 0!==l?l:0,R=void 0;S&&(R=w.call(S,{datum:e.datum,xKey:a,yKey:s,fill:C,stroke:E,strokeWidth:N,size:T,highlighted:n,seriesId:x})),t.fill=null!==(u=null==R?void 0:R.fill)&&void 0!==u?u:C,t.stroke=null!==(c=null==R?void 0:R.stroke)&&void 0!==c?c:E,t.strokeWidth=null!==(f=null==R?void 0:R.strokeWidth)&&void 0!==f?f:N,t.fillOpacity=null!=M?M:1,t.strokeOpacity=null!=P?P:1,t.translationX=null!==(O=null===(v=e.point)||void 0===v?void 0:v.x)&&void 0!==O?O:0,t.translationY=null!==(_=null===(D=e.point)||void 0===D?void 0:D.y)&&void 0!==_?_:0,t.visible=t.size>0,k&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){var e,n;return Zu(this,void 0,void 0,(function(){var i,r,o,a;return qu(this,(function(l){return i=t.labelSelection,r=this.label.enabled,o=r&&null!==(n=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))&&void 0!==n?n:[],a=o.map((function(t){return Vu(Vu({},t.datum),{point:{x:t.x,y:t.y,size:t.datum.point.size}})})),[2,i.update(a)]}))}))},e.prototype.updateLabelNodes=function(t){return Zu(this,void 0,void 0,(function(){var e,n;return qu(this,(function(i){return e=t.labelSelection,n=this.label,e.each((function(t,e){var i,r,o,a;t.text=e.label.text,t.fill=n.color,t.x=null!==(r=null===(i=e.point)||void 0===i?void 0:i.x)&&void 0!==r?r:0,t.y=null!==(a=null===(o=e.point)||void 0===o?void 0:o.y)&&void 0!==a?a:0,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.textAlign="left",t.textBaseline="top"})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n,i,r,o,a,l,s=this.xKey,u=this.yKey,c=this.xAxis,h=this.yAxis;if(!(s&&u&&c&&h))return"";var d=this,p=d.marker,f=d.tooltip,y=d.xName,v=d.yName,g=d.sizeKey,m=d.sizeName,b=d.labelKey,x=d.labelName,w=d.id,S=d.ctx.callbackCache,k=p.stroke,O=null!==(e=t.fill)&&void 0!==e?e:p.fill,D=this.getStrokeWidth(null!==(n=p.strokeWidth)&&void 0!==n?n:1),_=this.marker.formatter,C=void 0;_&&(C=S.call(_,{datum:t,xKey:s,yKey:u,fill:O,stroke:k,strokeWidth:D,size:null!==(r=null===(i=t.point)||void 0===i?void 0:i.size)&&void 0!==r?r:0,highlighted:!1,seriesId:w}));var M=null!==(a=null!==(o=null==C?void 0:C.fill)&&void 0!==o?o:O)&&void 0!==a?a:"gray",E=null!==(l=this.title)&&void 0!==l?l:v,P=t.datum,N=P[s],T=P[u],R=js(c.formatDatum(N)),L=js(h.formatDatum(T)),A="<b>"+js(null!=y?y:s)+"</b>: "+R+"<br><b>"+js(null!=v?v:u)+"</b>: "+L;g&&(A+="<br><b>"+js(null!=m?m:g)+"</b>: "+js(P[g])),b&&(A="<b>"+js(null!=x?x:b)+"</b>: "+js(P[b])+"<br>"+A);var I={title:E,backgroundColor:M,content:A},j=f.renderer;return j?tn(j({datum:P,xKey:s,xValue:N,xName:y,yKey:u,yValue:T,yName:v,sizeKey:g,sizeName:m,labelKey:b,labelName:x,title:E,color:M,seriesId:w}),I):tn(I)},e.prototype.getLegendData=function(){var t,e,n,i,r,o=this,a=o.id,l=o.data,s=o.xKey,u=o.yKey,c=o.yName,h=o.title,d=o.visible,p=o.marker,f=p.fill,y=p.stroke,v=p.fillOpacity,g=p.strokeOpacity;return(null==l?void 0:l.length)&&s&&u?[{legendType:"category",id:a,itemId:u,seriesId:a,enabled:d,label:{text:null!==(t=null!=h?h:c)&&void 0!==t?t:u},marker:{shape:p.shape,fill:null!==(n=null!==(e=p.fill)&&void 0!==e?e:f)&&void 0!==n?n:"rgba(0, 0, 0, 0)",stroke:null!==(r=null!==(i=p.stroke)&&void 0!==i?i:y)&&void 0!==r?r:"rgba(0, 0, 0, 0)",fillOpacity:null!=v?v:1,strokeOpacity:null!=g?g:1}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.markerSelections,i=t.labelSelections;n.forEach((function(t){t.each((function(t,n){var i,r,o,a,l=e.animateFormatter(t,n),s=null!==(r=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==r?r:0,u=null!==(o=null==l?void 0:l.size)&&void 0!==o?o:s;null===(a=e.animationManager)||void 0===a||a.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:u,disableInteractions:!0,duration:1e3,ease:aa,repeat:0,onUpdate:function(e){t.size=e}})}))})),i.forEach((function(t){t.each((function(t){var n;null===(n=e.animationManager)||void 0===n||n.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:1e3,duration:200,ease:aa,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this;t.markerSelections.forEach((function(t){e.resetMarkers(t)}))},e.prototype.animateReadyHighlightMarkers=function(t){this.resetMarkers(t)},e.prototype.resetMarkers=function(t){var e=this;t.each((function(t,n){var i,r,o,a=e.animateFormatter(t,n),l=null!==(r=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==r?r:0;t.size=null!==(o=null==a?void 0:a.size)&&void 0!==o?o:l}))},e.prototype.animateFormatter=function(t,e){var n,i,r,o=this,a=o.xKey,l=void 0===a?"":a,s=o.yKey,u=void 0===s?"":s,c=o.marker.strokeWidth,h=o.id,d=o.ctx.callbackCache,p=this.marker.formatter,f=null!==(n=e.fill)&&void 0!==n?n:t.fill,y=t.stroke,v=null!=c?c:1,g=null!==(r=null===(i=e.point)||void 0===i?void 0:i.size)&&void 0!==r?r:0,m=void 0;return p&&(m=d.call(p,{datum:e.datum,xKey:l,yKey:u,fill:f,stroke:y,strokeWidth:v,size:g,highlighted:!1,seriesId:h})),m},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="ScatterSeries",e.type="scatter",Uu([Xt(re)],e.prototype,"title",void 0),Uu([Xt(re)],e.prototype,"labelKey",void 0),Uu([Xt(re)],e.prototype,"xName",void 0),Uu([Xt(re)],e.prototype,"yName",void 0),Uu([Xt(re)],e.prototype,"sizeName",void 0),Uu([Xt(re)],e.prototype,"labelName",void 0),Uu([Xt(re)],e.prototype,"xKey",void 0),Uu([Xt(re)],e.prototype,"yKey",void 0),Uu([Xt(re)],e.prototype,"sizeKey",void 0),Uu([Xt(re)],e.prototype,"colorKey",void 0),Uu([Xt(re)],e.prototype,"colorName",void 0),Uu([Xt(me)],e.prototype,"colorDomain",void 0),Uu([Xt(de)],e.prototype,"colorRange",void 0)}(Ho);var oc,ac=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lc=function(t){function e(e){return t.call(this,{moduleCtx:e,pickModes:[cn.EXACT_SHAPE_MATCH]})||this}return ac(e,t),e.prototype.getLabelData=function(){return[]},e}(En),sc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uc=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},cc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return sc(e,t),uc([Xt(ee),T({redraw:w.MAJOR})],e.prototype,"enabled",void 0),uc([Xt(ce),T({redraw:w.MAJOR})],e.prototype,"color",void 0),uc([Xt(fe()),T({redraw:w.MAJOR})],e.prototype,"xOffset",void 0),uc([Xt(fe()),T({redraw:w.MAJOR})],e.prototype,"yOffset",void 0),uc([Xt(fe(0)),T({redraw:w.MAJOR})],e.prototype,"blur",void 0),e}(L),hc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dc=function(){return(dc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pc=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},fc=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},yc=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},vc=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return hc(e,t),pc([Xt(te)],e.prototype,"renderer",void 0),e}(Cn),mc=function(t){function e(e,n,i,r,o,a){var l=t.call(this,r,o,a)||this;return l.labelKey=e,l.sizeKey=n,l.colorKey=i,l}return hc(e,t),e}(xn),bc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return hc(e,t),e}(mc),xc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return hc(e,t),e}(mc),wc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=10,e}return hc(e,t),pc([Xt(fe(0))],e.prototype,"padding",void 0),e}(Or),Sc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrapping="on-space",e}return hc(e,t),pc([Xt(ze)],e.prototype,"wrapping",void 0),e}(Or),kc=function(){function t(){var t;this.style=((t=new Or).color="white",t)}return pc([Xt(re)],t.prototype,"key",void 0),pc([Xt(re)],t.prototype,"name",void 0),pc([Xt(te)],t.prototype,"formatter",void 0),t}();!function(t){t[t.Name=0]="Name",t[t.Value=1]="Value"}(oc||(oc={}));var Oc=new Dt;function Dc(t,e){var n=e.fontStyle,i=e.fontWeight,r=e.fontSize,o=e.fontFamily;Oc.fontStyle=n,Oc.fontWeight=i,Oc.fontSize=r,Oc.fontFamily=o,Oc.text=t,Oc.x=0,Oc.y=0,Oc.textAlign="left",Oc.textBaseline="top";var a=Oc.computeBBox();return{width:a.width,height:a.height}}function _c(t){if("string"==typeof t&&!zt.validColorString(t)){return U.warnOnce('invalid Treemap tile colour string "'+t+'". Affected treemap tiles will be coloured black.'),"black"}return t}var Cc=function(){function t(){this.color="black"}return pc([Xt(he)],t.prototype,"color",void 0),t}(),Mc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=new Cc,e}return hc(e,t),e}(_n);!function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.groupSelection=ui.select(n.contentGroup,et),n.highlightSelection=ui.select(n.highlightGroup,et),n.title=((e=new wc).color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e),n.subtitle=function(){var t=new wc;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t}(),n.labels={large:function(){var t=new Sc;return t.color="white",t.fontWeight="bold",t.fontSize=18,t}(),medium:function(){var t=new Sc;return t.color="white",t.fontWeight="bold",t.fontSize=14,t}(),small:function(){var t=new Sc;return t.color="white",t.fontWeight="bold",t.fontSize=10,t}(),formatter:void 0,value:new kc},n.nodePadding=2,n.nodeGap=0,n.labelKey="label",n.sizeKey="size",n.colorKey="color",n.colorDomain=[-5,5],n.colorRange=["#cb4b3f","#6acb64"],n.groupFill="#272931",n.groupStroke="black",n.groupStrokeWidth=1,n.tileStroke="black",n.tileStrokeWidth=1,n.gradient=!0,n.formatter=void 0,n.colorName="Change",n.rootName="Root",n.highlightGroups=!0,n.tileShadow=new cc,n.labelShadow=new cc,n.tooltip=new gc,n.highlightStyle=new Mc,n}hc(e,t),e.prototype.getNodePaddingTop=function(t,e){var n,i=this.title,r=this.subtitle,o=this.nodePadding,a=t.label;if(t.isLeaf||!a||0===t.depth)return o;var l=t.depth>1?r:i,s=Dc(a,l);return l.fontSize>e.width/3||l.fontSize>e.height/3||s.height>=e.height?o:s.height+o+(null!==(n=l.padding)&&void 0!==n?n:0)},e.prototype.getNodePadding=function(t,e){var n=this.nodePadding;return{top:this.getNodePaddingTop(t,e),right:n,bottom:n,left:n}},e.prototype.squarify=function(t,e,n){if(void 0===n&&(n=new Map),e.width<=0||e.height<=0)return n;n.set(t,e);var i=this.getNodePadding(t,e),r=e.width-i.left-i.right,o=e.height-i.top-i.bottom;if(r<=0||o<=0||t.value<=0)return n;for(var a=0,l=0,s=1/0,u=t.value,c=t.children,h=new D(e.x+i.left,e.y+i.top,r,o),d=h.clone(),p=0;p<c.length;p++){var f=c[p].value,y=c[l].value,v=d.width<d.height;a+=f;var g=v?d.height:d.width,m=v?d.width:d.height,b=m*y/a,x=g*a/u,w=Math.max(b,x)/Math.min(b,x),S=Math.abs(1-w);if(S<s)s=S;else{x=g*(a-=f)/u;for(var k=v?d.x:d.y,O=l;O<p;O++){var _=c[O],C=v?k:d.x,M=v?d.y:k,E=m*_.value/a,P=new D(C,M,v?E:x,v?x:E);this.applyGap(h,P),this.squarify(_,P,n),u-=_.value,k+=E}v?(d.y+=x,d.height-=x):(d.x+=x,d.width-=x),l=p,a=0,s=1/0,p--}}var N=d.width<d.height,T=N?d.x:d.y;for(p=l;p<c.length;p++){C=N?T:d.x,M=N?d.y:T;var R=c[p].value/u,L=d.width*(N?R:1),A=d.height*(N?1:R);P=new D(C,M,L,A);this.applyGap(h,P),this.squarify(c[p],P,n),T+=N?L:A}return n},e.prototype.applyGap=function(t,e){var n=this.nodeGap/2,i=function(t){return{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height}},r=i(t),o=i(e);Object.keys(r).forEach((function(t){vi(r[t],o[t])||e.shrink(n,t)}))},e.prototype.processData=function(){return fc(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,s,u,c,h=this;return yc(this,(function(d){return this.data?(e=(t=this).data,n=t.sizeKey,i=t.labelKey,r=t.colorKey,o=t.colorDomain,a=t.colorRange,l=t.groupFill,s=this.labels.formatter,(u=new Yu).domain=o,u.range=a,u.update(),c=function(t,e,o){var a,d,p,f;void 0===e&&(e=0),s&&(f=h.ctx.callbackCache.call(s,{datum:t})),void 0!==f||(f=i&&null!==(a=t[i])&&void 0!==a?a:"");var y=r&&null!==(d=t[r])&&void 0!==d?d:e;y=_c(y);var v=!t.children,g=l;"string"==typeof y?g=y:!v&&l||(g=u.convert(y));var m={datum:t,depth:e,parent:o,value:0,label:f,fill:g,series:h,isLeaf:v,children:[]};return v?m.value=n&&null!==(p=t[n])&&void 0!==p?p:1:(t.children.forEach((function(t){var n=c(t,e+1,m),i=n.value;!isNaN(i)&&isFinite(i)&&0!==i&&(m.value+=i,m.children.push(n))})),m.children.sort((function(t,e){return e.value-t.value}))),m},this.dataRoot=c(e),[2]):[2]}))}))},e.prototype.createNodeData=function(){return fc(this,void 0,void 0,(function(){return yc(this,(function(t){return[2,[]]}))}))},e.prototype.update=function(){return fc(this,void 0,void 0,(function(){return yc(this,(function(t){switch(t.label){case 0:return[4,this.updateSelections()];case 1:return t.sent(),[4,this.updateNodes()];case 2:return t.sent(),[2]}}))}))},e.prototype.updateSelections=function(){return fc(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,s;return yc(this,(function(u){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,e=(t=this).chart,n=t.dataRoot,e&&n&&e.getSeriesRect()?(i=[],(r=function(t){var e;i.push(t),null===(e=t.children)||void 0===e||e.forEach(r)})(this.dataRoot),a=(o=this).groupSelection,l=o.highlightSelection,s=function(t){return t.update(i,(function(t){var e=new cu,n=new Dt;n.tag=oc.Name;var i=new Dt;i.tag=oc.Value,t.append([e,n,i])}))},this.groupSelection=s(a),this.highlightSelection=s(l),[2]):[2]):[2]}))}))},e.prototype.isDatumHighlighted=function(t){var e;return t===(null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&(t.isLeaf||this.highlightGroups)},e.prototype.getTileFormat=function(t,e){var n,i=this.formatter,r=this.ctx.callbackCache;if(!i)return{};var o=this,a=o.gradient,l=o.colorKey,s=o.labelKey,u=o.sizeKey,c=o.tileStroke,h=o.tileStrokeWidth,d=o.groupStroke,p=o.groupStrokeWidth,f=t.isLeaf?c:d,y=t.isLeaf?h:p,v=r.call(i,{seriesId:this.id,datum:t.datum,depth:t.depth,parent:null===(n=t.parent)||void 0===n?void 0:n.datum,colorKey:l,sizeKey:u,labelKey:s,fill:t.fill,stroke:f,strokeWidth:y,gradient:a,highlighted:e});return null!=v?v:{}},e.prototype.updateNodes=function(){return fc(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w=this;return yc(this,(function(S){return this.chart?(e=(t=this).gradient,n=t.highlightStyle,i=n.item,r=i.fill,o=i.fillOpacity,a=i.stroke,l=i.strokeWidth,s=n.text.color,u=t.tileStroke,c=t.tileStrokeWidth,h=t.groupStroke,d=t.groupStrokeWidth,p=t.tileShadow,f=t.labelShadow,y=this.chart.getSeriesRect(),v=this.squarify(this.dataRoot,new D(0,0,y.width,y.height)),g=this.buildLabelMeta(v),m=this.getHighlightedSubtree(),this.updateNodeMidPoint(v),b=function(t,n,i){var s,f,y,g,m,b,x=v.get(n);if(x){var S=i&&void 0!==r?r:n.fill,k=null!==(s=i?o:1)&&void 0!==s?s:1,O=h;i&&void 0!==a?O=a:n.isLeaf&&(O=u);var D=d;i&&void 0!==l?D=l:n.isLeaf&&(D=c);var _=w.getTileFormat(n,i),C=_c(null!==(f=null==_?void 0:_.fill)&&void 0!==f?f:S);if(null!==(y=null==_?void 0:_.gradient)&&void 0!==y?y:e){var M=zt.tryParseFromString(S).brighter().toString(),E=zt.tryParseFromString(S).darker().toString();t.fill="linear-gradient(180deg, "+M+", "+E+")"}else t.fill=C;t.fillOpacity=null!==(g=null==_?void 0:_.fillOpacity)&&void 0!==g?g:k,t.stroke=_c(null!==(m=null==_?void 0:_.stroke)&&void 0!==m?m:O),t.strokeWidth=null!==(b=null==_?void 0:_.strokeWidth)&&void 0!==b?b:D,t.fillShadow=p,t.crisp=!0,t.x=x.x,t.y=x.y,t.width=x.width,t.height=x.height,t.visible=!0}else t.visible=!1},this.groupSelection.selectByClass(cu).forEach((function(t){return b(t,t.datum,!1)})),this.highlightSelection.selectByClass(cu).forEach((function(t){var e=w.isDatumHighlighted(t.datum);t.visible=e||m.has(t.datum),t.visible&&b(t,t.datum,e)})),x=function(t,e,n,i){var r=g.get(e),o=null==r?void 0:r[i];o?(t.text=o.text,t.fontFamily=o.style.fontFamily,t.fontSize=o.style.fontSize,t.fontWeight=o.style.fontWeight,t.fill=n&&null!=s?s:o.style.color,t.fillShadow=n?void 0:f,t.textAlign=o.hAlign,t.textBaseline=o.vAlign,t.x=o.x,t.y=o.y,t.visible=!0):t.visible=!1},this.groupSelection.selectByTag(oc.Name).forEach((function(t){return x(t,t.datum,!1,"label")})),this.highlightSelection.selectByTag(oc.Name).forEach((function(t){var e=w.isDatumHighlighted(t.datum);t.visible=e||m.has(t.datum),t.visible&&x(t,t.datum,e,"label")})),this.groupSelection.selectByTag(oc.Value).forEach((function(t){return x(t,t.datum,!1,"value")})),this.highlightSelection.selectByTag(oc.Value).forEach((function(t){var e=w.isDatumHighlighted(t.datum);t.visible=e||m.has(t.datum),t.visible&&x(t,t.datum,e,"value")})),[2]):[2]}))}))},e.prototype.updateNodeMidPoint=function(t){t.forEach((function(t,e){e.nodeMidPoint={x:t.x+t.width/2,y:t.y}}))},e.prototype.getHighlightedSubtree=function(){var t=this,e=new Set,n=function(i){var r;(t.isDatumHighlighted(i)||i.parent&&e.has(i.parent))&&e.add(i),null===(r=i.children)||void 0===r||r.forEach(n)};return n(this.dataRoot),e},e.prototype.buildLabelMeta=function(t){var e=this,n=e.labels,i=e.title,r=e.subtitle,o=e.nodePadding,a=e.labelKey,l=e.ctx.callbackCache,s=/-$/m,u=new Map;return t.forEach((function(t,e){var c,h,d;if(a&&0!==e.depth){var p=t.width-2*o,f=t.height-2*o,y=function(e){return e.fontSize>t.width/3||e.fontSize>t.height/3},v=e.isLeaf?e.label:e.label.toUpperCase(),g="",m=n.value,b=m.style,x=Math.ceil(2*b.fontSize*(Dt.defaultLineHeightRatio-1));e.isLeaf&&(m.formatter?g=null!==(c=l.call(m.formatter,{datum:e.datum}))&&void 0!==c?c:"":m.key&&(g=e.datum[m.key]));var w,S=Dc(g,b);g&&S.width>p&&(g="");var k="";if(e.isLeaf){w=n.small;var O=function(){var t,e,i=f-(g?b.fontSize+x:0),r=[n.large,n.medium,n.small];try{for(var o=vc(r),a=o.next();!a.done;a=o.next()){var l=a.value,u=Dc(v,l),c=u.width;if(!(u.height>i||y(l))){if(c<=p)return{style:l,wrappedText:void 0};var h=Dt.wrap(v,p,i,l,l.wrapping);if(h&&"\u2026"!==h&&(l===n.small||!s.exec(h)&&!h.endsWith("\u2026")))return{style:l,wrappedText:h}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return Dc(v,n.small).height<=i&&!y(n.small)?{style:n.small,wrappedText:void 0}:{style:void 0,wrappedText:void 0}},D=O();!D.style&&g&&(g="",D=O()),w=null!==(h=D.style)&&void 0!==h?h:n.small,k=null!==(d=D.wrappedText)&&void 0!==d?d:""}else w=1===e.depth?i:r;var _=Dc(k||v,w);if(!y(w)){if(_.width>p){var C=Math.floor(v.length*p/_.width)-1;v=v.substring(0,C).trim()+"\u2026"}S=Dc(g,b);var M=g&&S.width<p&&S.height+_.height+x<f;u.set(e,{label:dc({text:k||v,style:w},e.isLeaf?{hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2-(M?S.height/2+x/2:0)}:{hAlign:"left",vAlign:"top",x:t.x+o,y:t.y+o}),value:M?{text:g,style:b,hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2+_.height/2+x/2}:void 0})}}})),u},e.prototype.getDomain=function(t){return[0,1]},e.prototype.getNodeClickEvent=function(t,e){return new bc(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new xc(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,i,r;if(!this.highlightGroups&&!t.isLeaf)return"";var o=this,a=o.tooltip,l=o.sizeKey,s=o.labelKey,u=o.colorKey,c=o.rootName,h=o.id,d=o.labels,p=o.ctx.callbackCache,f=t.datum,y=a.renderer,v=t.depth?f[s]:null!==(e=f[s])&&void 0!==e?e:c,g="",m=this.getTileFormat(t,!1),b=null!==(i=null!==(n=null==m?void 0:m.fill)&&void 0!==n?n:t.fill)&&void 0!==i?i:"gray",x=d.value.key,w=d.value.formatter;if(x||w){var S="";if(w)S=p.call(w,{datum:f});else{var k=f[x];"number"==typeof k&&isFinite(k)&&(S=gi(k))}S&&(d.value.name&&(g+="<b>"+d.value.name+":</b> "),g+=S)}var O={title:v,backgroundColor:b,content:g};return y?tn(y({datum:t.datum,parent:null===(r=t.parent)||void 0===r?void 0:r.datum,depth:t.depth,sizeKey:l,labelKey:s,colorKey:u,title:v,color:b,seriesId:h}),O):v||g?tn(O):""},e.prototype.getLegendData=function(){return[]},e.className="TreemapSeries",e.type="treemap",pc([Xt(fe(0))],e.prototype,"nodePadding",void 0),pc([Xt(fe(0))],e.prototype,"nodeGap",void 0),pc([Xt(ie)],e.prototype,"labelKey",void 0),pc([Xt(re)],e.prototype,"sizeKey",void 0),pc([Xt(re)],e.prototype,"colorKey",void 0),pc([Xt(ge)],e.prototype,"colorDomain",void 0),pc([Xt(de)],e.prototype,"colorRange",void 0),pc([Xt(re)],e.prototype,"groupFill",void 0),pc([Xt(he)],e.prototype,"groupStroke",void 0),pc([Xt(ye(0))],e.prototype,"groupStrokeWidth",void 0),pc([Xt(he)],e.prototype,"tileStroke",void 0),pc([Xt(ye(0))],e.prototype,"tileStrokeWidth",void 0),pc([Xt(ee)],e.prototype,"gradient",void 0),pc([Xt(te)],e.prototype,"formatter",void 0),pc([Xt(ie)],e.prototype,"colorName",void 0),pc([Xt(ie)],e.prototype,"rootName",void 0),pc([Xt(ne)],e.prototype,"highlightGroups",void 0)}(lc);var Ec={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},Pc={},Nc={has:function(t){return Object.prototype.hasOwnProperty.call(Ec,t)},isCartesian:function(t){return"cartesian"===Ec[t]},isPolar:function(t){return"polar"===Ec[t]},isHierarchy:function(t){return"hierarchy"===Ec[t]},get seriesTypes(){return Object.keys(Ec)},get cartesianTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isCartesian(e)}))},get polarTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isPolar(e)}))},get hierarchyTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isHierarchy(e)}))}};function Tc(t){var e;return null!==(e=Pc[t])&&void 0!==e?e:{}}var Rc={};function Lc(t){return Rc[t]}Gs.type,oo.type;function Ac(t,e){if(jc(t)&&jc(e)){var n={};return Object.keys(t).forEach((function(i){n[i]=i in e?Ac(t[i],e[i]):t[i]})),Object.keys(e).forEach((function(i){i in t||(n[i]=e[i])})),n}return Array.isArray(t)&&!Array.isArray(e)||Ic(t)&&!Ic(e)?t:e}function Ic(t){return t&&"object"==typeof t}function jc(t){return Ic(t)&&t.constructor===Object}var Fc={number:"number",time:"time",log:"log",category:"category",groupedCategory:"groupedCategory"},Bc={},zc={has:function(t){return Object.prototype.hasOwnProperty.call(Fc,t)},get axesTypes(){return Object.keys(Fc)}};var Wc=function(){return(Wc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Kc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Gc=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xc={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},Yc=Symbol("extends-series-defaults"),Hc=Symbol("override-series-label-defaults"),Vc=Symbol("default-font"),Uc=function(){function t(t){var e=(t=Ac({},null!=t?t:{})).overrides,n=void 0===e?null:e,i=t.palette,r=void 0===i?null:i,o=this.createChartConfigPerChartType(this.getDefaults());if(n){var a=n.common,l=n.cartesian,s=n.polar,u=n.hierarchy,c=function(t,e,n){n&&(o[t]=Ac(o[t],n),e.forEach((function(t){var e=t;o[e]=Ac(o[e],n)})))};c("common",Object.keys(o),a),c("cartesian",Nc.cartesianTypes,l),c("polar",Nc.polarTypes,s),c("hierarchy",Nc.hierarchyTypes,u),Nc.seriesTypes.forEach((function(t){var e,i=t,r=n[i];r&&(r.series&&(r.series=((e={})[i]=r.series,e)),o[i]=Ac(o[i],r))}))}this.palette=null!=r?r:this.getPalette(),this.config=Object.freeze(o)}return t.prototype.getPalette=function(){return Xc},t.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},t.getBarSeriesDefaults=function(){return Wc(Wc({},this.getSeriesDefaults()),{fillOpacity:1,strokeOpacity:1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return Wc(Wc({},t),{tooltip:Wc(Wc({},t.tooltip),{format:void 0,position:{type:"node"}})})},t.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return Wc(Wc({},t),{nodeClickRange:"nearest",tooltip:Wc(Wc({},t.tooltip),{position:{type:"node"}})})},t.getScatterSeriesDefaults=function(){var t=this.getSeriesDefaults();return Wc(Wc({},t),{tooltip:Wc(Wc({},t.tooltip),{position:{type:"node"}})})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getCaptionWrappingDefaults=function(){return"hyphenate"},t.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",wrapping:t.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",wrapping:t.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30,wrapping:t.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}},t.prototype.createChartConfigPerChartType=function(t){var e=this,n={cartesian:Nc.cartesianTypes,polar:Nc.polarTypes,hierarchy:Nc.hierarchyTypes,groupedCategory:[]};return Object.entries(n).forEach((function(n){var i=Kc(n,2),r=i[0],o=i[1],a=r,l=e.templateTheme(Tc(a));o.forEach((function(e){var n=e;t[n]||(t[n]=Ac({},t[a]),Ac(t[n],l))}))})),t},t.prototype.getDefaults=function(){var e=this,n=Ac({},t.defaults),i=function(t,n){var i=e.templateTheme(Tc(t));return i.series=n.reduce((function(t,n){var i=Lc(n);return i&&(t[n]=e.templateTheme(i)),t}),{}),"cartesian"===t&&(i.axes=zc.axesTypes.reduce((function(t,n){var i=function(t){var e;return null!==(e=Bc[t])&&void 0!==e?e:{}}(n);return i&&(t[n]=e.templateTheme(i)),t}),{})),i};return Ac(n,{cartesian:i("cartesian",Nc.cartesianTypes),groupedCategory:i("cartesian",Nc.cartesianTypes),polar:i("polar",Nc.polarTypes),hierarchy:i("hierarchy",Nc.hierarchyTypes)})},t.prototype.templateTheme=function(t){var e=po([t]),n=this.getTemplateParameters(),i=n.extensions,r=n.properties;return function t(e,n,i){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=yo(e),s=null!==(r=i.skip)&&void 0!==r?r:[];if("array"!==l){if("object"===l){n.apply(void 0,so([l,e],lo(o)));var u=function(r){if(s.indexOf(r)>=0)return"continue";var a=e[r],l=null==o?void 0:o.map((function(t){return null==t?void 0:t[r]})),u=yo(a);"object"!==u&&"array"!==u||t.apply(void 0,so([a,n,i],lo(l)))};for(var c in e)u(c)}}else e.forEach((function(e,r){t.apply(void 0,so([e,n,i],lo((null!=o?o:[]).map((function(t){return null==t?void 0:t[r]})))))}))}(e,(function(t,e){var n,o;if(e.__extends__){var a=e.__extends__;if(null==(l=i.get(a)))throw new Error("AG Charts - no template variable provided for: "+a);Object.assign(e,l,e),delete e.__extends__}if(e.__overrides__){var l;a=e.__overrides__;if(null==(l=i.get(a)))throw new Error("AG Charts - no template variable provided for: "+a);Object.assign(e,l),delete e.__overrides__}try{for(var s=Gc(Object.entries(e)),u=s.next();!u.done;u=s.next()){var c=Kc(u.value,2),h=c[0],d=c[1];r.has(d)&&(e[h]=r.get(d))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}),{}),e},t.prototype.getTemplateParameters=function(){var e=new Map;e.set(Yc,t.getSeriesDefaults()),e.set(Hc,{});var n=new Map;return n.set(Vc,t.fontFamily),{extensions:e,properties:n}},t.prototype.mergeWithParentDefaults=function(t,e){return Ac(t,e)},t.fontFamily="Verdana, sans-serif",t.cartesianDefaults=Wc(Wc({},t.getChartDefaults()),{axes:{number:Wc({},t.getAxisDefaults()),log:Wc(Wc({},t.getAxisDefaults()),{base:10}),category:Wc(Wc({},t.getAxisDefaults()),{groupPaddingInner:.1,label:Wc(Wc({},t.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:Wc({},t.getAxisDefaults()),time:Wc({},t.getAxisDefaults())},series:{column:Wc({},t.getBarSeriesDefaults()),bar:Wc({},t.getBarSeriesDefaults()),line:Wc(Wc({},t.getLineSeriesDefaults()),{title:void 0,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Wc(Wc({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Wc(Wc({},t.getScatterSeriesDefaults()),{sizeName:"Size",labelName:"Label",marker:Wc({},t.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"}}),area:Wc(Wc({},t.getAreaSeriesDefaults()),{normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Wc(Wc({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Wc(Wc({},t.getSeriesDefaults()),{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})}}),t.polarDefaults=Wc(Wc({},t.getChartDefaults()),{series:{pie:Wc(Wc({},t.getSeriesDefaults()),{title:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",spacing:0},radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),t.hierarchyDefaults=Wc(Wc({},t.getChartDefaults()),{series:{treemap:Wc(Wc({},t.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,nodeGap:0,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:2},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:2},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:t.polarDefaults,hierarchy:t.hierarchyDefaults},t}(),Zc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qc=function(){return(qc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Jc=function(t){function e(e){return t.call(this,e)||this}return Zc(e,t),e.prototype.getDefaults=function(){var n=this,i=e.fontColor,r=e.mutedFontColor,o={title:{color:i},label:{color:i},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},a={label:{color:i}},l={axes:{number:qc({},o),category:qc({},o),time:qc({},o)}},s={background:{fill:"rgb(34, 38, 41)"},title:{color:i},subtitle:{color:r},legend:{item:{label:{color:i}},pagination:{activeStyle:{fill:i},inactiveStyle:{fill:r},highlightStyle:{fill:i},label:{color:i}}}},u=function(t){return t.reduce((function(t,e){var i=Lc(e);return i&&(t[e]=n.templateTheme(i)),t}),{})};return this.mergeWithParentDefaults(t.prototype.getDefaults.call(this),{cartesian:qc(qc(qc({},s),l),{series:qc({line:qc({},a),bar:qc({},a),column:qc({},a),histogram:qc({},a)},u(Nc.cartesianTypes))}),groupedCategory:qc(qc(qc({},s),l),{series:qc({bar:qc({},a),column:qc({},a),histogram:qc({},a)},u(Nc.cartesianTypes))}),polar:qc(qc({},s),{series:qc({pie:{calloutLabel:{color:i},sectorLabel:{color:i},title:{color:i},innerLabels:{color:i}}},u(Nc.polarTypes))}),hierarchy:qc(qc({},s),{series:qc({treemap:{tileStroke:"white",groupStroke:"white",title:{color:i},subtitle:{color:r},labels:{large:{color:i},medium:{color:i},small:{color:i},value:{style:{color:i}}}}},u(Nc.hierarchyTypes))})})},e.prototype.getTemplateParameters=function(){var n=t.prototype.getTemplateParameters.call(this);return n.extensions.set(Hc,e.seriesLabelDefaults.label),n},e.fontColor="rgb(200, 200, 200)",e.mutedFontColor="rgb(150, 150, 150)",e.seriesLabelDefaults={label:{color:e.fontColor}},e}(Uc),$c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qc={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $c(e,t),e.prototype.getPalette=function(){return Qc},e}(Uc),eh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nh={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eh(e,t),e.prototype.getPalette=function(){return nh},e}(Jc),rh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oh={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rh(e,t),e.prototype.getPalette=function(){return oh},e}(Uc),lh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sh={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lh(e,t),e.prototype.getPalette=function(){return sh},e}(Jc),ch=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hh={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ch(e,t),e.prototype.getPalette=function(){return hh},e}(Uc),ph=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fh={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ph(e,t),e.prototype.getPalette=function(){return fh},e}(Jc),vh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gh={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vh(e,t),e.prototype.getPalette=function(){return gh},e}(Uc),bh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xh={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bh(e,t),e.prototype.getPalette=function(){return xh},e}(Jc),Sh=function(){return(Sh=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},kh=function(){return new Uc},Oh=function(){return new Jc},Dh={undefined:kh,null:kh,"ag-default":kh,"ag-material":function(){return new th},"ag-pastel":function(){return new ah},"ag-solar":function(){return new dh},"ag-vivid":function(){return new mh}},_h=Sh(Sh({},{undefined:Oh,null:Oh,"ag-default-dark":Oh,"ag-material-dark":function(){return new ih},"ag-pastel-dark":function(){return new uh},"ag-solar-dark":function(){return new yh},"ag-vivid-dark":function(){return new wh}}),Dh),Ch={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Mh={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};var Eh=function(t){var e=t.yDirection,n=t.xEnd,i=t.yStart,r=t.yEnd;return e?{x:n/2,y:i}:{x:n,y:isNaN(r)?i:(i+r)/2}},Ph=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,r=t.yStart,o=t.yEnd;return e?{x:n,y:isNaN(o)?r:(r+o)/2}:{x:i/2,y:r}},Nh=function(t){var e=t.yDirection,n=t.xEnd,i=t.yStart,r=t.yEnd;return e?{x:n,y:isNaN(r)?i:(i+r)/2}:{x:n/2,y:isNaN(r)?i:r}},Th=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,r=t.yStart,o=t.yEnd;return e?{x:i/2,y:isNaN(o)?r:o}:{x:n,y:isNaN(o)?r:(r+o)/2}},Rh=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,r=t.yStart;return e?{x:n/2,y:r}:{x:i,y:r}},Lh=function(t){var e=t.yDirection,n=t.xStart,i=t.yStart,r=t.yEnd;return e?{x:n,y:isNaN(r)?i:r}:{x:n,y:i}},Ah=function(t){var e=t.yDirection,n=t.xEnd,i=t.yStart,r=t.yEnd;return e?{x:n,y:i}:{x:n,y:isNaN(r)?i:r}},Ih=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,r=t.yStart,o=t.yEnd;return e?{x:i,y:isNaN(o)?r:o}:{x:n,y:isNaN(o)?r:o}},jh={top:{c:Eh},bottom:{c:Th},left:{c:Ph},right:{c:Nh},topLeft:{c:Rh},topRight:{c:Ah},bottomLeft:{c:Lh},bottomRight:{c:Ih},inside:{c:function(t){var e=t.xEnd,n=t.yStart,i=t.yEnd;return{x:e/2,y:isNaN(i)?n:(n+i)/2}}},insideLeft:{c:Ph},insideRight:{c:Nh},insideTop:{c:Eh},insideBottom:{c:Th},insideTopLeft:{c:Rh},insideBottomLeft:{c:Lh},insideTopRight:{c:Ah},insideBottomRight:{c:Ih}},Fh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bh=function(){return(Bh=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},zh=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Wh=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return Fh(e,t),e.prototype.computeBBox=function(){return new D(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,i=e.ctx,r=e.forceRender,o=e.stats;if(this.dirty!==w.NONE||r){this.computeTransformMatrix(),this.matrix.toContext(i);var a=this.x1,l=this.y1,s=this.x2,u=this.y2;a=this.align(a),l=this.align(l),s=this.align(s),u=this.align(u);var c=this.fill,h=this.opacity;if(!(!this.isRange||!c)){var d=this.fillOpacity;i.fillStyle=c,i.globalAlpha=h*d,i.beginPath(),i.moveTo(a,l),i.lineTo(s,l),i.lineTo(s,u),i.lineTo(a,u),i.closePath(),i.fill()}var p=this.stroke,f=this.strokeWidth,y=this.startLine,v=this.endLine;if(!(!y&&!v||!p||!f)){var g=this,m=g.strokeOpacity,b=g.lineDash,x=g.lineDashOffset,S=g.lineCap,k=g.lineJoin;i.strokeStyle=p,i.globalAlpha=h*m,i.lineWidth=f,b&&i.setLineDash(b),x&&(i.lineDashOffset=x),S&&(i.lineCap=S),k&&(i.lineJoin=k),i.beginPath(),y&&(i.moveTo(a,l),i.lineTo(s,l)),v&&(i.moveTo(s,u),i.lineTo(a,u)),i.stroke()}null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count)},e.className="Range",e.defaultStyles=Bh(Bh({},xt.defaultStyles),{strokeWidth:1}),zh([T({redraw:w.MINOR})],e.prototype,"x1",void 0),zh([T({redraw:w.MINOR})],e.prototype,"y1",void 0),zh([T({redraw:w.MINOR})],e.prototype,"x2",void 0),zh([T({redraw:w.MINOR})],e.prototype,"y2",void 0),zh([T({redraw:w.MINOR})],e.prototype,"startLine",void 0),zh([T({redraw:w.MINOR})],e.prototype,"endLine",void 0),zh([T({redraw:w.MINOR})],e.prototype,"isRange",void 0),e}(xt),Kh=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Gh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Xh=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Yh=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],Hh=Yt((function(t,e){return Ht(t,e,(function(t){return Yh.includes(t)}))}),"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),Vh=Yt((function(t,e){return Ht(t,e,(function(t){return"range"===t||"line"===t}))}),"expecting a crossLine type keyword such as 'range' or 'line'"),Uh=function(){function t(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return Kh([Xt(ne)],t.prototype,"enabled",void 0),Kh([Xt(re)],t.prototype,"text",void 0),Kh([Xt(Oe)],t.prototype,"fontStyle",void 0),Kh([Xt(_e)],t.prototype,"fontWeight",void 0),Kh([Xt(fe(0))],t.prototype,"fontSize",void 0),Kh([Xt(ie)],t.prototype,"fontFamily",void 0),Kh([Xt(fe(0))],t.prototype,"padding",void 0),Kh([Xt(he)],t.prototype,"color",void 0),Kh([Xt(Hh)],t.prototype,"position",void 0),Kh([Xt(ye(-360,360))],t.prototype,"rotation",void 0),Kh([Xt(ne)],t.prototype,"parallel",void 0),t}();!function(){function t(){this.id=P(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new Uh,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=Le.X,this.group=new et({name:""+this.id,layer:!0,zIndex:t.LINE_LAYER_ZINDEX}),this.crossLineRange=new Wh,this.crossLineLabel=new Dt,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var e=this.group,n=this.crossLineRange,i=this.crossLineLabel;e.append([n,i]),n.pointerEvents=R.None}t.prototype.update=function(t){this.enabled&&(this.group.visible=t,t&&(this.createNodeData()?(this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)):this.group.visible=!1))},t.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},t.prototype.createNodeData=function(){var t,e,n,i,r,o=this,a=o.scale,l=o.gridLength,s=o.sideFlag,u=o.direction,c=o.label.position,h=void 0===c?"top":c,d=o.clippedRange,p=o.strokeWidth,f=void 0===p?0:p;if(!a)return!1;var y=null!==(i=a.bandwidth)&&void 0!==i?i:0,v=function(t){return Math.max(Math.min.apply(Math,Xh([],Gh(d))),Math.min(Math.max.apply(Math,Xh([],Gh(d))),t))},g=Gh([0,s*l],2),m=g[0],b=g[1],x=Gh(this.getRange(),2),w=x[0],S=x[1],k=Gh([Number(a.convert(w,{strict:!1})),a.convert(S,{strict:!1})+y],2),O=k[0],D=k[1];O=v(O),D=v(D),w=(t=Gh([Number(a.convert(w)),a.convert(S)+y],2))[0],S=t[1];var _=!isNaN(O)&&!isNaN(D)&&(w===O||S===D||O!==D)&&Math.abs(D-O)>0;_&&(O!==Math.min(O,D)&&(O=(e=Gh([Math.min(O,D),Math.max(O,D)],2))[0],D=e[1],w=(n=Gh([S,w],2))[0],S=n[1]));if(this.isRange=_,this.startLine=!isNaN(w)&&f>0&&w===O,this.endLine=!isNaN(S)&&f>0&&S===D,!_&&!this.startLine&&!this.endLine)return!1;if(this.data=[O,D],this.label.enabled){var C=u===Le.Y,M=(null!==(r=jh[h])&&void 0!==r?r:{}).c,E=(void 0===M?Eh:M)({yDirection:C,xStart:m,xEnd:b,yStart:O,yEnd:D}),P=E.x,N=E.y;this.labelPoint={x:P,y:N}}return!0},t.prototype.updateRangeNode=function(){var t,e=this,n=e.crossLineRange,i=e.sideFlag,r=e.gridLength,o=e.data,a=e.startLine,l=e.endLine,s=e.isRange,u=e.fill,c=e.fillOpacity,h=e.stroke,d=e.strokeWidth,p=e.lineDash;n.x1=0,n.x2=i*r,n.y1=o[0],n.y2=o[1],n.startLine=a,n.endLine=l,n.isRange=s,n.fill=u,n.fillOpacity=null!=c?c:1,n.stroke=h,n.strokeWidth=null!=d?d:1,n.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,n.lineDash=p},t.prototype.updateLabel=function(){var t=this.crossLineLabel,e=this.label;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)},t.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,n=t.labelPoint,i=void 0===n?{}:n,r=i.x,o=void 0===r?void 0:r,a=i.y,l=void 0===a?void 0:a,s=t.label,u=s.parallel,c=s.rotation,h=s.position,d=void 0===h?"top":h,p=s.padding,f=void 0===p?0:p,y=t.direction,v=t.parallelFlipRotation,g=t.regularFlipRotation;if(void 0!==o&&void 0!==l){var m=Dr({rotation:c,parallel:u,regularFlipRotation:g,parallelFlipRotation:v}),b=m.defaultRotation,x=m.configuredRotation;e.rotation=b+x,e.textBaseline="middle",e.textAlign="center";var w=this.computeLabelBBox();if(w){var S=function(t){var e=t.yDirection,n=t.padding,i=void 0===n?0:n,r=t.position,o=void 0===r?"top":r,a=t.bbox,l=(e?Ch:Mh)[o],s=l.xTranslationDirection,u=l.yTranslationDirection;return{xTranslation:s*(i+(e?a.width:a.height)/2),yTranslation:u*(i+(e?a.height:a.width)/2)}}({yDirection:y===Le.Y,padding:f,position:d,bbox:w}),k=S.xTranslation,O=S.yTranslation;e.translationX=o+k,e.translationY=l+O}}},t.prototype.getZIndex=function(e){return void 0===e&&(e=!1),e?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX},t.prototype.getRange=function(){var t=this.value,e=this.range,n=this.scale instanceof Ei,i=Gh(null!=e?e:[t,void 0],2),r=i[0],o=i[1];return n||void 0!==o||(o=r),r=null!=jt(r,n)?r:void 0,o=null!=jt(o,n)?o:void 0,n&&r===o&&(o=void 0),void 0===r&&void 0!==o&&(r=o,o=void 0),[r,o]},t.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},t.prototype.calculatePadding=function(t){var e,n,i,r,o,a,l,s,u=this,c=u.isRange,h=u.startLine,d=u.endLine,p=u.direction,f=u.label,y=f.padding,v=void 0===y?0:y,g=f.position,m=void 0===g?"top":g;if(c||h||d){var b=this.computeLabelBBox(),x=null==b?void 0:b.x,w=null==b?void 0:b.y;if(b&&null!=x&&null!=w){var S=function(t){var e=t.yDirection,n=t.bbox,i=t.padding,r=void 0===i?0:i,o=t.position,a=void 0===o?"top":o,l={};return a.startsWith("inside")||("top"!==a||e?"bottom"!==a||e?"left"===a&&e?l.left=r+n.width:"right"===a&&e&&(l.right=r+n.width):l.bottom=r+n.height:l.top=r+n.height),l}({yDirection:p===Le.Y,padding:v,position:m,bbox:b});t.left=Math.max(null!==(e=t.left)&&void 0!==e?e:0,null!==(n=S.left)&&void 0!==n?n:0),t.right=Math.max(null!==(i=t.right)&&void 0!==i?i:0,null!==(r=S.right)&&void 0!==r?r:0),t.top=Math.max(null!==(o=t.top)&&void 0!==o?o:0,null!==(a=S.top)&&void 0!==a?a:0),t.bottom=Math.max(null!==(l=t.bottom)&&void 0!==l?l:0,null!==(s=S.bottom)&&void 0!==s?s:0)}}},t.LINE_LAYER_ZINDEX=Re.SERIES_CROSSLINE_LINE_ZINDEX,t.RANGE_LAYER_ZINDEX=Re.SERIES_CROSSLINE_RANGE_ZINDEX,t.className="CrossLine",Kh([Xt(ne)],t.prototype,"enabled",void 0),Kh([Xt(Vh)],t.prototype,"type",void 0),Kh([Xt(Ut(2))],t.prototype,"range",void 0),Kh([Xt(he)],t.prototype,"fill",void 0),Kh([Xt(ye(0,1))],t.prototype,"fillOpacity",void 0),Kh([Xt(he)],t.prototype,"stroke",void 0),Kh([Xt(ye())],t.prototype,"strokeWidth",void 0),Kh([Xt(ye(0,1))],t.prototype,"strokeOpacity",void 0),Kh([Xt(Me)],t.prototype,"lineDash",void 0)}();var Zh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qh=function(){function t(){this.destroyFns=[]}return t.prototype.destroy=function(){var t,e;try{for(var n=Zh(this.destroyFns),i=n.next();!i.done;i=n.next()){(0,i.value)()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}(),Jh=[];function $h(t){var e=Jh.find((function(e){return t.type===e.type&&t.optionsKey===e.optionsKey&&t.identifier===e.identifier}));if(e){if("enterprise"===t.packageType&&"community"===e.packageType){var n=Jh.indexOf(e);Jh.splice(n,1,t)}}else Jh.push(t)}var Qh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),td=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ed=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Qh(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this.centerX,e=this.centerY,n=this.width,i=this.height;return new D(t-n/2,e-i/2,n,i)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.centerX,i=t.centerY,r=t.width,o=t.height;e.clear();var a=n-r/2,l=i-o/2,s=this.align(a),u=this.align(l),c=s+this.align(a,r),h=u+this.align(l,o);e.moveTo(s,u),e.lineTo(c,u),e.lineTo(c,h),e.lineTo(s,h),e.lineTo(s,u);var d=this.gripLineGap/2,p=this.gripLineLength/2;e.moveTo(this.align(n-d),this.align(i-p)),e.lineTo(this.align(n-d),this.align(i+p)),e.moveTo(this.align(n+d),this.align(i-p)),e.lineTo(this.align(n+d),this.align(i+p))},e.className="RangeHandle",td([Xt(ce)],e.prototype,"_fill",void 0),td([Xt(ce)],e.prototype,"_stroke",void 0),td([Xt(fe(0))],e.prototype,"_strokeWidth",void 0),td([Xt(Pe)],e.prototype,"_lineCap",void 0),td([Xt(fe(0))],e.prototype,"_width",void 0),td([Xt(fe(0))],e.prototype,"_gripLineGap",void 0),td([Xt(fe(0))],e.prototype,"_gripLineLength",void 0),td([Xt(fe(0))],e.prototype,"_height",void 0),e}(Jn),nd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),id=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},rd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return nd(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){var e;t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){var e;t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.width,i=this.height;return new D(t,e,n,i)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,n=t.y,i=t.width,r=t.height,o=t.min,a=t.max,l=e+i*o;return new D(l,n,e+i*a-l,r)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,i=t.y,r=t.width,o=t.height,a=t.min,l=t.max;e.clear();var s=this.align(n),u=this.align(i),c=s+this.align(n,r),h=u+this.align(i,o);e.moveTo(s,u),e.lineTo(c,u),e.lineTo(c,h),e.lineTo(s,h),e.lineTo(s,u);var d=this.align(n+r*a),p=this.align(n+r*l);e.moveTo(d,u),e.lineTo(d,h),e.lineTo(p,h),e.lineTo(p,u),e.lineTo(d,u)},e.className="RangeMask",id([Xt(ce)],e.prototype,"_stroke",void 0),id([Xt(fe(0))],e.prototype,"_strokeWidth",void 0),id([Xt(ce)],e.prototype,"_fill",void 0),id([Xt(fe(0,1))],e.prototype,"_fillOpacity",void 0),id([Xt(Pe)],e.prototype,"_lineCap",void 0),id([Xt(fe(0))],e.prototype,"_width",void 0),id([Xt(fe(0))],e.prototype,"_height",void 0),id([Xt(fe())],e.prototype,"_min",void 0),id([Xt(fe())],e.prototype,"_max",void 0),e}(Jn),od=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ad=function(){return(ad=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ld=function(t){function e(){var n=t.call(this,{name:"rangeSelectorGroup"})||this;return n.minHandle=new ed,n.maxHandle=new ed,n.mask=function(){var t=e.defaults,i=t.x,r=t.y,o=t.width,a=t.height,l=t.min,s=t.max,u=new rd;u.x=i,u.y=r,u.width=o,u.height=a,u.min=l,u.max=s;var c=n,h=c.minHandle,d=c.maxHandle;return h.centerX=i,d.centerX=i+o,h.centerY=d.centerY=r+a/2,n.append([u,h,d]),u.onRangeChange=function(){var t;n.updateHandles(),null===(t=n.onRangeChange)||void 0===t||t.call(n)},u}(),n._x=e.defaults.x,n._y=e.defaults.y,n._width=e.defaults.width,n._height=e.defaults.height,n._min=e.defaults.min,n._max=e.defaults.max,n.isContainerNode=!0,n}return od(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!1,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,n=t.maxHandle,i=t.x,r=t.y,o=t.width,a=t.height,l=t.mask;e.centerX=i+o*l.min,n.centerX=i+o*l.max,e.centerY=n.centerY=r+a/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){var e=t.ctx,n=t.forceRender,i=t.stats;if(this.dirty!==w.NONE||n){this.computeTransformMatrix(),this.matrix.toContext(e);[this.mask,this.minHandle,this.maxHandle].forEach((function(i){i.visible&&(n||i.dirty>w.NONE)&&(e.save(),i.render(ad(ad({},t),{ctx:e,forceRender:n})),e.restore())})),this.markClean({force:!0}),i&&i.nodesRendered++}else i&&i.nodesSkipped++},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(et),sd=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),t}(),ud=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),t}(),cd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hd=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};$h({type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:function(t){function e(e){var n=t.call(this)||this;return n.ctx=e,n.rs=new ld,n.mask=new sd(n.rs.mask),n.minHandle=new ud(n.rs.minHandle),n.maxHandle=new ud(n.rs.maxHandle),n.minHandleDragging=!1,n.maxHandleDragging=!1,n.panHandleOffset=NaN,n._enabled=!1,n.margin=10,n._visible=!0,n.rs.onRangeChange=function(){return n.ctx.zoomManager.updateZoom("navigator",{x:{min:n.rs.min,max:n.rs.max}})},[e.interactionManager.addListener("drag-start",(function(t){return n.onDragStart(t)})),e.interactionManager.addListener("drag",(function(t){return n.onDrag(t)})),e.interactionManager.addListener("hover",(function(t){return n.onDrag(t)})),e.interactionManager.addListener("drag-end",(function(){return n.onDragStop()}))].forEach((function(t){return n.destroyFns.push((function(){return e.interactionManager.removeListener(t)}))})),[e.layoutService.addListener("before-series",(function(t){return n.layout(t)})),e.layoutService.addListener("layout-complete",(function(t){return n.layoutComplete(t)}))].forEach((function(t){return n.destroyFns.push((function(){return e.layoutService.removeListener(t)}))})),e.scene.root.appendChild(n.rs),n.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(n.rs)})),n.destroyFns.push((function(){return n.ctx.zoomManager.updateZoom("navigator")})),n.updateGroupVisibility(),n}return cd(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),e.prototype.updateGroupVisibility=function(){var t=this.enabled&&this.visible;this.rs.visible=t,t?this.ctx.zoomManager.updateZoom("navigator",{x:{min:this.rs.min,max:this.rs.max}}):this.ctx.zoomManager.updateZoom("navigator")},e.prototype.layout=function(t){var e=t.shrinkRect;if(this.enabled){var n=this.rs.height+this.margin;e.shrink(n,"bottom"),this.rs.y=e.y+e.height+this.margin}return{shrinkRect:e}},e.prototype.layoutComplete=function(t){var e=t.series,n=e.rect,i=e.visible;this.enabled&&i&&(this.rs.x=n.x,this.rs.width=n.width),this.visible=i},e.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,i=this.rs,r=i.minHandle,o=i.maxHandle,a=i.x,l=i.width,s=i.min,u=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(r.containsPoint(e,n)?this.minHandleDragging=!0:o.containsPoint(e,n)?this.maxHandleDragging=!0:u.containsPoint(e,n)&&(this.panHandleOffset=(e-a)/l-s))}},e.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,n=this.panHandleOffset,i=e.x,r=e.y,o=e.width,a=e.height,l=e.minHandle,s=e.maxHandle,u=t.offsetX,c=t.offsetY,h=i+o*e.min,d=i+o*e.max,p=new D(h,r,d-h,a),f=function(){return Math.min(Math.max((u-i)/o,0),1)};if(l.containsPoint(u,c)||s.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):p.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)e.min=f();else if(this.maxHandleDragging)e.max=f();else if(!isNaN(n)){var y=e.max-e.min,v=Math.min(f()-n,1-y);v<=e.min?(e.min=v,e.max=e.min+y):(e.max=v+y,e.min=e.max-y)}}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},hd([Xt(ee)],e.prototype,"_enabled",void 0),hd([Xt(fe(0))],e.prototype,"margin",void 0),e}(qh),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}});var dd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pd=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};$h({type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:function(t){function e(e){var n,i=t.call(this)||this;i.onLayoutComplete=function(t){var e=t.chart,n=e.width,r=e.height;i.rectNode.width=n,i.rectNode.height=r},i.node=new et({name:"background"}),i.node.zIndex=Re.SERIES_BACKGROUND_ZINDEX,i.rectNode=new cu,i.node.appendChild(i.rectNode),i.fill="white",i.visible=!0,null===(n=e.scene.root)||void 0===n||n.appendChild(i.node),i.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(i.node)}));var r=e.layoutService.addListener("layout-complete",i.onLayoutComplete);return i.destroyFns.push((function(){return e.layoutService.removeListener(r)})),i}return dd(e,t),pd([Xt(ee),Si("node","visible")],e.prototype,"visible",void 0),pd([Xt(he),Si("rectNode","fill")],e.prototype,"fill",void 0),e}(qh)});var fd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yd=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};!function(t){function e(e){var n=t.call(this)||this;return n.x=0,n.y=0,n.width=0,n.height=0,n.opacity=1,n.sourceImage=e,n}fd(e,t),e.prototype.render=function(e){var n=e.ctx,i=e.forceRender,r=e.stats;if(this.dirty!==w.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(n);var o=this.sourceImage;n.globalAlpha=this.opacity,n.drawImage(o,0,0,o.width,o.height,this.x,this.y,this.width,this.height),t.prototype.render.call(this,e)}else r&&r.nodesSkipped++},yd([T({redraw:w.MAJOR})],e.prototype,"x",void 0),yd([T({redraw:w.MAJOR})],e.prototype,"y",void 0),yd([T({redraw:w.MAJOR})],e.prototype,"width",void 0),yd([T({redraw:w.MAJOR})],e.prototype,"height",void 0),yd([T({redraw:w.MAJOR})],e.prototype,"opacity",void 0)}(W);var vd=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};Object.entries(_h).reduce((function(t,e){var n=vd(e,2),i=n[0],r=n[1];return t[i]=r(),t}),{});var gd,md=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bd=Sr,xd=Ft,wd=Rt,Sd=Lt,kd=function(t){return t instanceof Date&&!isNaN(+t)},Od=P,Dd=Nn,_d=Vr,Cd=di,Md=$i;!function(t){t[t.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",t[t.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",t[t.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",t[t.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"}(gd||(gd={}));var Ed=function(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},Pd=function(){function t(){this.id=Od(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new Dd(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new _d,this.axis=new Ed,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var e=new et;this.rootGroup=e;var n=document.createElement("div");n.setAttribute("class","ag-sparkline-wrapper");var i=new ct({document:document});if(this.scene=i,this.canvasElement=i.canvas.element,i.root=e,i.container=n,i.resize(this.width,this.height),this.seriesRect.width=this.width,this.seriesRect.height=this.height,-1===t.tooltipDocuments.indexOf(document)){var r=document.createElement("style");r.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(r,document.head.querySelector("style")),t.tooltipDocuments.push(document)}this.setupDomEventListeners(this.scene.canvas.element)}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;null!=e&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){var t=this.yScale,e=this.seriesRect;t.range=[e.height,0]},t.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var t,e=this.xData,n=this.xScale;(n instanceof _d||n instanceof Md)&&(t=bd(e)),this.xScale.domain=t?t.slice():e},t.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new _d;case"time":return new Md;case"category":default:return new Cd}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(t){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},t.prototype.updateHitPoint=function(t){var e,n,i,r=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(r){var o=this.highlightedDatum;this.highlightedDatum=r,(this.highlightedDatum&&!o||this.highlightedDatum&&o&&this.highlightedDatum!==o)&&(this.highlightDatum(r),this.updateCrosshairs(),this.scene.render().catch((function(t){return console.error("AG Grid - chart rendering failed",t)}))),(null===(i=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.enabled)||void 0===i||i)&&this.handleTooltip(t,r)}},t.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render().catch((function(t){return console.error("AG Grid - chart rendering failed",t)}))},t.prototype.processData=function(){var t=this,e=this.data,n=this.yData,i=this.xData;if(e&&!this.invalidData(this.data)){n.length=0,i.length=0;var r=e.length,o=this.getDataType(e);this.dataType=o;var a,l=this.axis.type,s="number"!==l&&"time"!==l?"category":l,u="number"===s||"time"===s,c=function(e,n){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var i=t.smallestInterval.x,r=Math.abs(e-n);r>0&&r<i&&(t.smallestInterval.x=r)};if("number"===o)for(var h=0;h<r;h++){var d=h,p=e[h],f=this.getDatum(d,s),y=this.getDatum(p,"number");u&&c(f,a),i.push(f),n.push(y),a=f}else if("array"===o)for(h=0;h<r;h++){var v=e[h];if(Array.isArray(v)){d=v[0],p=v[1],f=this.getDatum(d,s),y=this.getDatum(p,"number");if(null==f)continue;u&&c(f,a),i.push(f),n.push(y),a=f}}else if("object"===o){var g=this.yKey,m=this.xKey;for(h=0;h<r;h++){if("object"==typeof(v=e[h])&&!Array.isArray(v)){d=v[m],p=v[g],f=this.getDatum(d,s),y=this.getDatum(p,"number");if(null==f)continue;u&&c(f,a),i.push(f),n.push(y),a=f}}}this.updateAxes(),this.immediateLayout()}},t.prototype.getDataType=function(t){var e,n;try{for(var i=md(t),r=i.next();!r.done;r=i.next()){var o=r.value;if(null!=o){if(xd(o))return"number";if(Array.isArray(o))return"array";if("object"==typeof o)return"object"}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.getDatum=function(t,e){if("number"===e&&xd(t)||"time"===e&&(xd(t)||kd(t)))return t;if("category"===e){if(wd(t)||kd(t)||xd(t))return{toString:function(){return String(t)}};if(Sd(t))return t}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),t.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame((function(){t.immediateLayout(),t.layoutId=0}))},t.prototype.immediateLayout=function(){this.setSparklineDimensions(),this.invalidData(this.data)||(this.updateXScaleRange(),this.updateYScaleRange(),this.updateAxisLine(),this.update(),this.scene.render().catch((function(t){return console.error("AG Grid - chart rendering failed",t)})))},t.prototype.setSparklineDimensions=function(){var t=this,e=t.width,n=t.height,i=t.padding,r=t.seriesRect,o=t.rootGroup,a=e-i.left-i.right,l=n-i.top-i.bottom;r.width=a,r.height=l,r.x=i.left,r.y=i.top,o.translationX=r.x,o.translationY=r.y},t.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var n,i=1/0,r=this.rootGroup.transformPoint(t,e),o=this.getNodeData(),a=0;a<o.length;a++){var l=o[a];if(!l.point)return;var s=this.getDistance(r,l.point);s<=i&&(i=s,n=l)}return n},t.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},t.prototype.handleTooltip=function(t,e){var n,i,r=e.seriesDatum,o=this.canvasElement,a=t.clientX,l=t.clientY,s=null===(n=this.processedOptions)||void 0===n?void 0:n.tooltip,u={pageX:a,pageY:l,position:{xOffset:null==s?void 0:s.xOffset,yOffset:null==s?void 0:s.yOffset},container:null==s?void 0:s.container};null==u.container&&(u.container=o);var c=r.y,h=r.x,d=null===(i=null==s?void 0:s.enabled)||void 0===i||i,p=null==s?void 0:s.renderer;if(p){var f=p({context:this.context,datum:r,yValue:c,xValue:h});d="string"!=typeof f&&void 0!==f.enabled?f.enabled:d}var y=d&&void 0!==r.y&&this.getTooltipHtml(e);y&&this.tooltip.show(u,y)},t.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},t.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||xd(t))?this.defaultDateFormatter.format(t):String(t)},t.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}();function Nd(t,e){var n,i,r;if("string"==typeof t)return t;e=null!=e?e:{};var o,a,l=t.content,s=void 0===l?null!==(n=e.content)&&void 0!==n?n:"":l,u=t.title,c=void 0===u?null!==(i=e.title)&&void 0!==i?i:void 0:u,h=t.color,d=void 0===h?e.color:h,p=t.backgroundColor,f=void 0===p?e.backgroundColor:p,y=t.opacity,v=void 0===y?null!==(r=e.opacity)&&void 0!==r?r:1:y;d?(o=c?'<span class="'+Td.class+'-title"; style="color: '+d+'">'+c+"</span>":"",a='<span class="'+Td.class+'-content" style="color: '+d+'">'+s+"</span>"):(o=c?'<span class="'+Td.class+'-title">'+c+"</span>":"",a='<span class="'+Td.class+'-content">'+s+"</span>");var g="opacity: "+v;return f&&(g+="; background-color: "+f.toLowerCase()),'<div class="'+Td.class+'" style="'+g+'">\n                '+o+"\n                "+a+"\n            </div>"}var Td=function(){function t(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var n=[t.class+"-wrapper"];!0!==e&&n.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(t,e){var n,i,r,o;this.toggle(!1);var a=this.element;if(void 0!==e)a.innerHTML=e;else if(!a.innerHTML)return;var l=null!==(i=null===(n=t.position)||void 0===n?void 0:n.xOffset)&&void 0!==i?i:10,s=null!==(o=null===(r=t.position)||void 0===r?void 0:r.yOffset)&&void 0!==o?o:0,u=t.pageX+l,c=t.pageY+s,h=a.getBoundingClientRect(),d=window.innerWidth-h.width;if(t.container){var p=t.container.getBoundingClientRect();d=p.left+(p.width-h.width)}u>d&&(u=t.pageX-a.clientWidth-l),"undefined"!=typeof scrollX&&(u+=scrollX),"undefined"!=typeof scrollY&&(c+=scrollY),a.style.left=Math.round(u)+"px",a.style.top=Math.round(c)+"px",this.toggle(!0)},t.prototype.toggle=function(t){this.updateClass(t)},t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}();function Rd(t){switch(t){case"circle":return ii;case"square":return go;case"diamond":return wo;default:return ii}}function Ld(t,e){void 0===e&&(e="solid");var n={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},i={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===t||"square"===t?null==i[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),i.solid):i[e]:null==n[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),n.solid):n[e]}var Ad,Id,jd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fd=Sr,Bd=di,zd=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Wd=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Kd=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Gd=function(t){function e(){var e=t.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Jn,e.fillPath=new Jn,e.xCrosshairLine=new yi,e.yCrosshairLine=new yi,e.areaSparklineGroup=new et,e.xAxisLine=new yi,e.markers=new et,e.markerSelection=ui.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new zd,e.line=new Wd,e.crosshairs=new Kd,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=gd.AXIS_LINE_ZINDEX,e.fillPath.zIndex=gd.SERIES_FILL_ZINDEX,e.strokePath.zIndex=gd.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=gd.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=gd.CROSSHAIR_ZINDEX,e.markers.zIndex=gd.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return jd(e,t),e.prototype.markerFactory=function(){return new(Rd(this.marker.shape))},e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.update=function(){var t=this.generateNodeData();if(t){var e=t.nodeData,n=t.fillData,i=t.strokeData;this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateStroke(i),this.updateFill(n)}},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=Fd(t),i=0,r=1;void 0!==n&&(i=this.min=n[0],r=this.max=n[1]),i=i<0?i:0,r=r<0?0:r,e.domain=[i,r]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,r=t.xScale,o=t.yScale;if(e){for(var a,l,s,u,c=!(r instanceof Bd),h=c?0:r.bandwidth/2,d=n.length,p=[],f=[],y=[],v=o.convert(0),g=0;g<d;g++){var m=n[g],b=i[g],x=r.convert(c?r.toDomain(b):b)+h,w=void 0===m?NaN:o.convert(m);g+1<d&&(u=r.convert(c?r.toDomain(i[g+1]):i[g+1])+h),y.push({seriesDatum:{x:b,y:m},point:{x:x,y:w}}),void 0===m&&void 0!==s?(f.push({seriesDatum:void 0,point:{x:s,y:v}}),void 0!==u&&f.push({seriesDatum:void 0,point:{x:u,y:v}})):void 0!==m&&(f.push({seriesDatum:{x:b,y:m},point:{x:x,y:w}}),p.push({seriesDatum:{x:b,y:m},point:{x:x,y:w}}),a=void 0!==a?a:x,l=x),s=x}return f.push({seriesDatum:void 0,point:{x:l,y:v}},{seriesDatum:void 0,point:{x:a,y:v}}),{nodeData:p,fillData:f,strokeData:y}}},e.prototype.updateAxisLine=function(){var t=this.xScale,e=this.yScale,n=this.axis,i=this.xAxisLine;i.x1=t.range[0],i.x2=t.range[1],i.y1=i.y2=0,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth;var r=e.convert(0);i.translationY=r},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this.highlightedDatum,n=this.highlightStyle,i=this.marker,r=n.size,o=n.fill,a=n.stroke,l=n.strokeWidth,s=i.formatter;this.markerSelection.each((function(n,u,c){var h=u.point,d=u.seriesDatum;if(h){var p,f=u===e,y=f&&void 0!==o?o:i.fill,v=f&&void 0!==a?a:i.stroke,g=f&&void 0!==l?l:i.strokeWidth,m=f&&void 0!==r?r:i.size;if(s){var b=0===c,x=c===t.markerSelectionData.length-1,w=d.y===t.min,S=d.y===t.max;p=s({datum:u,xValue:d.x,yValue:d.y,min:w,max:S,first:b,last:x,fill:y,stroke:v,strokeWidth:g,size:m,highlighted:f})}n.size=p&&null!=p.size?p.size:m,n.fill=p&&null!=p.fill?p.fill:y,n.stroke=p&&null!=p.stroke?p.stroke:v,n.strokeWidth=p&&null!=p.strokeWidth?p.strokeWidth:g,n.translationX=h.x,n.translationY=h.y,n.visible=p&&null!=p.enabled?p.enabled:i.enabled&&n.size>0}}))},e.prototype.updateStroke=function(t){var e=this.strokePath,n=this.yData,i=this.line;if(!(n.length<2)){var r=e.path,o=t.length,a=!0;r.clear();for(var l=0;l<o;l++){var s=t[l],u=s.point,c=s.seriesDatum,h=u.x,d=u.y;null==c.y?a=!0:a?(r.moveTo(h,d),a=!1):r.lineTo(h,d)}e.lineJoin=e.lineCap="round",e.fill=void 0,e.stroke=i.stroke,e.strokeWidth=i.strokeWidth}},e.prototype.updateFill=function(t){var e=this.fillPath,n=this.yData,i=this.fill,r=e.path,o=t.length;if(r.clear(),!(n.length<2)){for(var a=0;a<o;a++){var l=t[a].point,s=l.x,u=l.y;a>0?r.lineTo(s,u):r.moveTo(s,u)}r.closePath(),e.lineJoin="round",e.stroke=void 0,e.fill=i}},e.prototype.updateXCrosshairLine=function(){var t,e=this.yScale,n=this.xCrosshairLine,i=this.highlightedDatum,r=this.crosshairs.xLine;if(r.enabled&&null!=i){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=r.stroke,n.strokeWidth=null!==(t=r.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var o=r.lineDash;n.lineDash=Array.isArray(o)?o:Ld(n.lineCap,r.lineDash),n.translationX=i.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t,e=this.xScale,n=this.yCrosshairLine,i=this.highlightedDatum,r=this.crosshairs.yLine;if(r.enabled&&null!=i){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=r.stroke,n.strokeWidth=null!==(t=r.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var o=r.lineDash;n.lineDash=Array.isArray(o)?o:Ld(n.lineCap,r.lineDash),n.translationY=i.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,i=this.dataType,r=t.seriesDatum,o=r.y,a=r.x,l={content:this.formatNumericDatum(o),title:"array"===i||"object"===i?this.formatDatum(a):void 0},s=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return s?Nd(s({context:this.context,datum:r,yValue:o,xValue:a}),l):Nd(l)},e.className="AreaSparkline",e}(Pd),Xd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yd=Sr,Hd=di,Vd=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Ud=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Zd=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},qd=function(t){function e(){var e=t.call(this)||this;return e.linePath=new Jn,e.xCrosshairLine=new yi,e.yCrosshairLine=new yi,e.lineSparklineGroup=new et,e.markers=new et,e.markerSelection=ui.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new Vd,e.line=new Ud,e.crosshairs=new Zd,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=gd.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=gd.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=gd.CROSSHAIR_ZINDEX,e.markers.zIndex=gd.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return Xd(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.markerFactory=function(){return new(Rd(this.marker.shape))},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();t&&(this.markerSelectionData=t,this.updateSelection(t),this.updateNodes(),this.updateLine())},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=Yd(t),i=0,r=1;if(void 0!==n&&(i=this.min=n[0],r=this.max=n[1]),i===r){var o=Math.abs(.01*i);i-=o,r+=o}e.domain=[i,r]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,r=t.xScale,o=t.yScale;if(e){for(var a=!(r instanceof Hd),l=a?0:r.bandwidth/2,s=[],u=0;u<n.length;u++){var c=n[u],h=i[u];if(null!=c){var d=r.convert(a?r.toDomain(h):h)+l,p=void 0===c?NaN:o.convert(c);s.push({seriesDatum:{x:h,y:c},point:{x:d,y:p}})}}return s}},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this.highlightedDatum,n=this.highlightStyle,i=this.marker,r=n.size,o=n.fill,a=n.stroke,l=n.strokeWidth,s=i.formatter;this.markerSelection.each((function(n,u,c){var h,d=u===e,p=d&&void 0!==o?o:i.fill,f=d&&void 0!==a?a:i.stroke,y=d&&void 0!==l?l:i.strokeWidth,v=d&&void 0!==r?r:i.size,g=u.seriesDatum,m=u.point;if(s){var b=0===c,x=c===t.markerSelectionData.length-1,w=g.y===t.min,S=g.y===t.max;h=s({datum:u,xValue:g.x,yValue:g.y,min:w,max:S,first:b,last:x,fill:p,stroke:f,strokeWidth:y,size:v,highlighted:d})}n.size=h&&null!=h.size?h.size:v,n.fill=h&&null!=h.fill?h.fill:p,n.stroke=h&&null!=h.stroke?h.stroke:f,n.strokeWidth=h&&null!=h.strokeWidth?h.strokeWidth:y,n.translationX=m.x,n.translationY=m.y,n.visible=h&&null!=h.enabled?h.enabled:i.enabled&&n.size>0}))},e.prototype.updateLine=function(){var t=this,e=t.linePath,n=t.yData,i=t.xData,r=t.xScale,o=t.yScale,a=t.line;if(!(n.length<2)){var l=!(r instanceof Hd),s=e.path,u=n.length,c=l?0:r.bandwidth/2,h=!0;s.clear();for(var d=0;d<u;d++){var p=i[d],f=n[d],y=r.convert(l?r.toDomain(p):p)+c,v=void 0===f?NaN:o.convert(f);null==f?h=!0:h?(s.moveTo(y,v),h=!1):s.lineTo(y,v)}e.fill=void 0,e.stroke=a.stroke,e.strokeWidth=a.strokeWidth}},e.prototype.updateXCrosshairLine=function(){var t,e=this.yScale,n=this.xCrosshairLine,i=this.highlightedDatum,r=this.crosshairs.xLine;if(r.enabled&&null!=i){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=r.stroke,n.strokeWidth=null!==(t=r.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var o=r.lineDash;n.lineDash=Array.isArray(o)?o:Ld(n.lineCap,r.lineDash),n.translationX=i.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t,e=this.xScale,n=this.yCrosshairLine,i=this.highlightedDatum,r=this.crosshairs.yLine;if(r.enabled&&null!=i){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=r.stroke,n.strokeWidth=null!==(t=r.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var o=r.lineDash;n.lineDash=Array.isArray(o)?o:Ld(n.lineCap,r.lineDash),n.translationY=i.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,i=this.dataType,r=t.seriesDatum,o=r.y,a=r.x,l={content:this.formatNumericDatum(o),title:"array"===i||"object"===i?this.formatDatum(a):void 0},s=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return s?Nd(s({context:this.context,datum:r,yValue:o,xValue:a}),l):Nd(l)},e.className="LineSparkline",e}(Pd),Jd=function(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"},$d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qd=Sr;!function(t){t[t.Rect=0]="Rect",t[t.Label=1]="Label"}(Ad||(Ad={})),function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(Id||(Id={}));var tp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Id.InsideEnd,e}return $d(e,t),e}(Jd),ep=function(t){function e(){var e=t.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new yi,e.bandWidth=0,e.sparklineGroup=new et,e.rectGroup=new et,e.labelGroup=new et,e.rectSelection=ui.select(e.rectGroup,cu),e.labelSelection=ui.select(e.labelGroup,Dt),e.nodeSelectionData=[],e.label=new tp,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=gd.SERIES_FILL_ZINDEX,e.axisLine.zIndex=gd.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=gd.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return $d(e,t),e.prototype.getNodeData=function(){return this.nodeSelectionData},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){var t=this.generateNodeData();t&&(this.nodeSelectionData=t,this.updateRectSelection(t),this.updateLabelSelection(t))},e.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},e.prototype.calculateStep=function(t){var e,n=this.xScale,i=this.paddingInner,r=this.paddingOuter,o=this.smallestInterval,a=(n.domain[1]-n.domain[0])/(null!==(e=null==o?void 0:o.x)&&void 0!==e?e:1)+1,l=Math.min(a,50),s=l-1;return t/Math.max(1,2*r+s*i+l)},e.prototype.updateYScaleDomain=function(){var t=this.yScale,e=this.yData,n=this.valueAxisDomain,i=Qd(e),r=0,o=1;void 0!==i&&(r=this.min=i[0],o=this.max=i[1]),r=r<0?r:0,o=o<0?0:o,n&&(n[1]<o&&(n[1]=o),n[0]>r&&(n[0]=r)),t.domain=n||[r,o]},e.prototype.updateRectSelection=function(t){this.rectSelection.update(t)},e.prototype.updateRectNodes=function(){var t=this,e=this,n=e.highlightedDatum,i=e.formatter,r=e.fill,o=e.stroke,a=e.strokeWidth,l=this.highlightStyle,s=l.fill,u=l.stroke,c=l.strokeWidth;this.rectSelection.each((function(e,l,h){var d,p=l===n,f=p&&void 0!==s?s:r,y=p&&void 0!==u?u:o,v=p&&void 0!==c?c:a,g=l.x,m=l.y,b=l.width,x=l.height,w=l.seriesDatum;if(i){var S=0===h,k=h===t.nodeSelectionData.length-1,O=w.y===t.min,D=w.y===t.max;d=i({datum:l,xValue:w.x,yValue:w.y,width:b,height:x,min:O,max:D,first:S,last:k,fill:f,stroke:y,strokeWidth:v,highlighted:p})}e.fill=d&&d.fill||f,e.stroke=d&&d.stroke||y,e.strokeWidth=d&&d.strokeWidth||v,e.x=e.y=0,e.width=b,e.height=x,e.visible=e.height>0,e.translationX=g,e.translationY=m}))},e.prototype.updateLabelSelection=function(t){this.labelSelection.update(t,(function(t){t.tag=Ad.Label,t.pointerEvents=R.None}))},e.prototype.updateLabelNodes=function(){var t=this.label,e=t.enabled,n=t.fontStyle,i=t.fontWeight,r=t.fontSize,o=t.fontFamily,a=t.color;this.labelSelection.each((function(t,l){var s=l.label;s&&e?(t.fontStyle=n,t.fontWeight=i,t.fontSize=r,t.fontFamily=o,t.textAlign=s.textAlign,t.textBaseline=s.textBaseline,t.text=s.text,t.x=s.x,t.y=s.y,t.fill=a,t.visible=!0):t.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e,n,i=this.dataType,r=t.seriesDatum,o=r.y,a=r.x,l={content:this.formatNumericDatum(o),title:"array"===i||"object"===i?this.formatDatum(a):void 0},s=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return s?Nd(s({context:this.context,datum:r,yValue:o,xValue:a}),l):Nd(l)},e.prototype.formatLabelValue=function(t){return t%1!=0?t.toFixed(1):t.toFixed(0)},e}(Pd),np=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ip=Ft,rp=di,op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return np(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[0,t.width]},e.prototype.updateXScaleRange=function(){var t=this.xScale,e=this.seriesRect,n=this.paddingOuter,i=this.paddingInner;if(t instanceof rp)t.range=[0,e.height],t.paddingInner=i,t.paddingOuter=n;else{var r=this.calculateStep(e.height),o=r*n;this.bandWidth=r*(1-i),t.range=[o,e.height-o-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this.yScale,e=this.axis,n=this.axisLine,i=this.seriesRect,r=e.strokeWidth;n.x1=0,n.x2=0,n.y1=0,n.y2=i.height,n.stroke=e.stroke,n.strokeWidth=r+(r%2==1?1:0);var o=t.convert(0);n.translationX=o},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,r=t.xScale,o=t.yScale,a=t.fill,l=t.stroke,s=t.strokeWidth,u=t.label;if(e){for(var c=u.fontStyle,h=u.fontWeight,d=u.fontSize,p=u.fontFamily,f=u.color,y=u.formatter,v=u.placement,g=[],m=o.convert(0),b=!(r instanceof rp),x=0,w=n.length;x<w;x++){var k=n[x],O=i[x],D=void 0===k;D&&(k=0);var _=r.convert(b?r.toDomain(O):O),C=Math.min(void 0===k?NaN:o.convert(k),m),M=Math.max(void 0===k?NaN:o.convert(k),m),E=b?this.bandWidth:r.bandwidth,P=M-C,N={x:m,y:_},T=void 0;T=y?y({value:k}):void 0!==k&&ip(k)?this.formatLabelValue(k):"";var R=_+E/2,L=void 0,A=void 0,I=void 0!==k&&k>=0;if(v===Id.Center)L=C+P/2,A="center";else if(v===Id.OutsideEnd)L=C+(I?P+4:-4),A=I?"start":"end";else if(v===Id.InsideEnd){L=C+(I?P-4:4),A=I?"end":"start";var j=S.getTextSize(T,p).width||20;(I&&L<m+j||!I&&L>m-j)&&(L=m+4*(I?1:-1),A=I?"start":"end")}else L=m+4*(I?1:-1),A=I?"start":"end";g.push({x:C,y:_,width:P,height:E,fill:a,stroke:l,strokeWidth:s,seriesDatum:{x:O,y:D?void 0:k},point:N,label:{x:L,y:R,text:T,fontStyle:c,fontWeight:h,fontSize:d,fontFamily:p,textAlign:A,textBaseline:"middle",fill:f}})}return g}},e.prototype.getDistance=function(t,e){return Math.abs(t.y-e.y)},e.className="BarSparkline",e}(ep),ap=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lp=Ft,sp=di,up=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ap(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[t.height,0]},e.prototype.updateXScaleRange=function(){var t=this.xScale,e=this.seriesRect,n=this.paddingOuter,i=this.paddingInner;if(t instanceof sp)t.range=[0,e.width],t.paddingInner=i,t.paddingOuter=n;else{var r=this.calculateStep(e.width),o=r*n;this.bandWidth=r*(1-i),t.range=[o,e.width-o-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this.yScale,e=this.axis,n=this.axisLine,i=this.seriesRect,r=e.strokeWidth;n.x1=0,n.x2=i.width,n.y1=0,n.y2=0,n.stroke=e.stroke,n.strokeWidth=r+(r%2==1?1:0);var o=t.convert(0);n.translationY=o},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,r=t.xScale,o=t.yScale,a=t.fill,l=t.stroke,s=t.strokeWidth,u=t.label;if(e){for(var c=u.fontStyle,h=u.fontWeight,d=u.fontSize,p=u.fontFamily,f=u.color,y=u.formatter,v=u.placement,g=[],m=o.convert(0),b=!(r instanceof sp),x=0,w=n.length;x<w;x++){var k=n[x],O=i[x],D=void 0===k;D&&(k=0);var _=Math.min(void 0===k?NaN:o.convert(k),m),C=r.convert(b?r.toDomain(O):O),M=Math.max(void 0===k?NaN:o.convert(k),m),E=b?this.bandWidth:r.bandwidth,P=M-_,N={x:C+E/2,y:m},T=void 0;T=y?y({value:k}):void 0!==k&&lp(k)?this.formatLabelValue(k):"";var R=C+E/2,L=void 0,A=void 0,I=void 0!==k&&k>=0;if(v===Id.Center)L=_+P/2,A="middle";else if(v===Id.OutsideEnd)L=_+(I?-2:P+2),A=I?"bottom":"top";else if(v===Id.InsideEnd){L=_+(I?2:P-2),A=I?"top":"bottom";var j=S.getTextSize(T,p).height||10;(I&&L>m-j||!I&&L<m+j)&&(L=m+2*(I?-1:1),A=I?"bottom":"top")}else L=m+2*(I?-1:1),A=I?"bottom":"top";g.push({x:C,y:_,width:E,height:P,fill:a,stroke:l,strokeWidth:s,seriesDatum:{x:O,y:D?void 0:k},point:N,label:{x:R,y:L,text:T,fontStyle:c,fontWeight:h,fontSize:d,fontFamily:p,textAlign:"center",textBaseline:A,fill:f}})}return g}},e.className="ColumnSparkline",e}(ep),cp=Ft,hp=function(){function t(){}return t.create=function(t,e){var n=function(t){void 0===t&&(t="line");switch(t){case"column":return new up;case"bar":return new op;case"area":return new Gd;case"line":default:return new qd}}((t=po([t])).type);return e&&(n.tooltip=e),function(t,e){xp(t,"context",e.context,e),xp(t,"width",e.width,e),xp(t,"height",e.height,e),xp(t,"container",e.container,e),xp(t,"xKey",e.xKey,e),xp(t,"yKey",e.yKey,e),e.padding&&function(t,e){xp(t,"top",e.top,e),xp(t,"right",e.right,e),xp(t,"bottom",e.bottom,e),xp(t,"left",e.left,e)}(t.padding,e.padding);e.axis&&function(t,e){xp(t,"type",e.type,e),xp(t,"stroke",e.stroke,e),xp(t,"strokeWidth",e.strokeWidth,e)}(t.axis,e.axis);e.highlightStyle&&function(t,e){xp(t,"fill",e.fill,e),xp(t,"size",e.size,e),xp(t,"stroke",e.stroke,e),xp(t,"strokeWidth",e.strokeWidth,e)}(t.highlightStyle,e.highlightStyle)}(n,t),function(t,e){switch(e.type){case"bar":case"column":dp(t,e);break;case"area":!function(t,e){xp(t,"fill",e.fill,e),e.marker&&pp(t.marker,e.marker);e.line&&fp(t.line,e.line);e.crosshairs&&yp(t.crosshairs,e.crosshairs)}(t,e);break;case"line":default:!function(t,e){e.marker&&pp(t.marker,e.marker);e.line&&fp(t.line,e.line);e.crosshairs&&yp(t.crosshairs,e.crosshairs)}(t,e)}}(n,t),t.data&&(n.data=t.data),n.processedOptions=t,n},t}();function dp(t,e){xp(t,"valueAxisDomain",e.valueAxisDomain,e),xp(t,"fill",e.fill,e),xp(t,"stroke",e.stroke,e),xp(t,"strokeWidth",e.strokeWidth,e),xp(t,"paddingInner",e.paddingInner,e),xp(t,"paddingOuter",e.paddingOuter,e),xp(t,"formatter",e.formatter,e),e.label&&function(t,e){xp(t,"enabled",e.enabled,e),xp(t,"fontStyle",e.fontStyle,e),xp(t,"fontWeight",e.fontWeight,e),xp(t,"fontSize",e.fontSize,e),xp(t,"fontFamily",e.fontFamily,e),xp(t,"textAlign",e.textAlign,e),xp(t,"textBaseline",e.textBaseline,e),xp(t,"color",e.color,e),xp(t,"formatter",e.formatter,e),xp(t,"placement",e.placement,e)}(t.label,e.label)}function pp(t,e){xp(t,"enabled",e.enabled,e),xp(t,"size",e.size,e),xp(t,"shape",e.shape,e),xp(t,"fill",e.fill,e),xp(t,"stroke",e.stroke,e),xp(t,"strokeWidth",e.strokeWidth,e),xp(t,"formatter",e.formatter,e)}function fp(t,e){xp(t,"stroke",e.stroke,e),xp(t,"strokeWidth",e.strokeWidth,e)}function yp(t,e){t.xLine&&e.xLine&&vp(t.xLine,e.xLine),t.yLine&&e.yLine&&vp(t.yLine,e.yLine)}function vp(t,e){xp(t,"enabled",e.enabled,e),xp(t,"stroke",e.stroke,e),xp(t,"strokeWidth",e.strokeWidth,e),xp(t,"lineDash",e.lineDash,e),xp(t,"lineCap",e.lineCap,e)}var gp={};var mp=function(t,e,n){if(cp(e))return!0;var i,r,o="AG Charts: "+t+" must be a number, the value you provided is not a valid number. Using the default of "+n+"px.";return i=function(){return console.warn(o)},gp[r=t+" not a number"]||(i(),gp[r]=!0),!1},bp={xOffset:mp,yOffset:mp};function xp(t,e,n,i){if(e in i)if(e in t){var r=bp[e];(!r||r(e,n,t[e]))&&t[e]!==n&&(t[e]=n)}else console.warn("Property "+e+" does not exist on the target object.")}var wp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sp=function(){return(Sp=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},kp=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Op=function(t){function n(){return t.call(this,n.TEMPLATE)||this}return wp(n,t),n.prototype.init=function(t){var e=this,n=!0,i=this.resizeObserverService.observeResize(this.getGui(),(function(){var i=e.getGui(),r=i.clientWidth,o=i.clientHeight;if(0!==r&&0!==o)if(n){var a=Sp({data:t.value,width:r,height:o,context:{data:t.data}},t.sparklineOptions);e.sparkline=hp.create(a,e.sparklineTooltipSingleton.getSparklineTooltip()),e.eSparkline.appendChild(e.sparkline.canvasElement),n=!1}else e.sparkline.width=r,e.sparkline.height=o}));this.addDestroyFunc((function(){return i()}))},n.prototype.refresh=function(t){return!!this.sparkline&&(this.sparkline.data=t.value,!0)},n.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),t.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',kp([e.RefSelector("eSparkline")],n.prototype,"eSparkline",void 0),kp([e.Autowired("resizeObserverService")],n.prototype,"resizeObserverService",void 0),kp([e.Autowired("sparklineTooltipSingleton")],n.prototype,"sparklineTooltipSingleton",void 0),n}(e.Component),Dp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_p=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Cp=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Dp(n,t),n.prototype.postConstruct=function(){this.tooltip=new Td},n.prototype.getSparklineTooltip=function(){return this.tooltip},n.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},_p([e.PostConstruct],n.prototype,"postConstruct",null),_p([e.PreDestroy],n.prototype,"destroyTooltip",null),n=_p([e.Bean("sparklineTooltipSingleton")],n)}(e.BeanStub),Mp={version:"30.0.3",moduleName:e.ModuleNames.SparklinesModule,beans:[Cp],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:Op}],dependantModules:[n.EnterpriseCoreModule]};exports.SparklinesModule=Mp;