/**
          * @ag-grid-enterprise/menu - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v29.0.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
/**
          * @ag-grid-enterprise/menu - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v29.0.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("@ag-grid-community/core"),n=require("@ag-grid-enterprise/core"),r=require("@ag-grid-enterprise/column-tool-panel"),o=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),i=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},n.prototype.showMenuAfterMouseEvent=function(e,t,n){var r=this;this.showMenu(e,(function(o){var i=o.getGui();r.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:i}),n&&o.showTab(n)}),"columnMenu",n,void 0,t.target)},n.prototype.showMenuAfterButtonClick=function(e,t,n,r,o){var i=this,a=-1,u="left";this.gridOptionsService.is("enableRtl")&&(a=1,u="right"),this.showMenu(e,(function(o){var s=o.getGui();i.popupService.positionPopupByComponent({type:n,column:e,eventSource:t,ePopup:s,alignSide:u,nudgeX:9*a,nudgeY:-23,position:"under",keepWithinBounds:!0}),r&&o.showTab(r)}),n,r,o,t)},n.prototype.showMenu=function(e,n,r,o,i,a){var s=this,c=this.getMenuParams(e,i,a),l=c.menu,p=c.eMenuGui,d=c.currentHeaderPosition,m=c.currentColumnIndex,h=c.anchorToElement,v=[];v.push(this.getClosedCallback(e,l,d,m,a));var g=this.localeService.getLocaleTextFunc(),C=this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(e){v.forEach((function(t){return t(e)}))},afterGuiAttached:function(e){return l.afterGuiAttached(Object.assign({},{container:r},e))},positionCallback:o?function(){return n(l)}:void 0,anchorToElement:h,ariaLabel:g("ariaLabelColumnMenu","Column Menu")});this.addStopAnchoring(null==C?void 0:C.stopAnchoringPromise,e,v),o||(l.showTabBasedOnPreviousSelection(),n(l)),l.addEventListener(u.EVENT_TAB_SELECTED,(function(e){s.lastSelectedTab=e.key})),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=l,l.addEventListener(t.BeanStub.EVENT_DESTROYED,(function(){s.activeMenu===l&&(s.activeMenu=null)}))},n.prototype.getClosedCallback=function(e,n,r,o,i){var a=this;return function(u){if(a.destroyBean(n),e.setMenuVisible(!1,"contextMenu"),u instanceof KeyboardEvent&&i)if(t._.isVisible(i)){var s=a.focusService.findTabbableParent(i);s&&(e&&a.headerNavigationService.scrollToColumn(e),s.focus())}else if(r&&-1!==o){var c=a.columnModel.getAllDisplayedColumns(),l=c[o]||t._.last(c);l&&a.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:r.headerRowIndex,column:l}})}}},n.prototype.addStopAnchoring=function(e,t,n){e&&e.then((function(e){t.addEventListener("leftChanged",e),t.addEventListener("visibleChanged",e),n.push((function(){t.removeEventListener("leftChanged",e),t.removeEventListener("visibleChanged",e)}))}))},n.prototype.getMenuParams=function(e,t,n){var r=this.createBean(new u(e,this.lastSelectedTab,t));return{menu:r,eMenuGui:r.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),anchorToElement:n||this.ctrlsService.getGridBodyCtrl().getGui()}},n.prototype.isMenuEnabled=function(e){return e.getMenuTabs(u.TABS_DEFAULT).length>0},i([t.Autowired("popupService")],n.prototype,"popupService",void 0),i([t.Autowired("focusService")],n.prototype,"focusService",void 0),i([t.Autowired("headerNavigationService")],n.prototype,"headerNavigationService",void 0),i([t.Autowired("ctrlsService")],n.prototype,"ctrlsService",void 0),i([t.Autowired("columnModel")],n.prototype,"columnModel",void 0),n=i([t.Bean("menuFactory")],n)}(t.BeanStub),u=function(e){function n(t,r,o){var i=e.call(this)||this;return i.tabFactories={},i.includeChecks={},i.column=t,i.initialSelection=r,i.tabFactories[n.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[n.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[n.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[n.TAB_GENERAL]=function(){return!0},i.includeChecks[n.TAB_FILTER]=function(){return t.isFilterAllowed()},i.includeChecks[n.TAB_COLUMNS]=function(){return!0},i.restrictTo=o,i}return o(n,e),n.prototype.init=function(){var e=this,n=this.getTabsToCreate().map((function(t){return e.createTab(t)}));this.tabbedLayout=new t.TabbedLayout({items:n,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},n.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(n.TABS_DEFAULT).filter((function(t){return e.isValidMenuTabItem(t)})).filter((function(t){return e.isNotSuppressed(t)})).filter((function(t){return e.isModuleLoaded(t)}))},n.prototype.isModuleLoaded=function(e){return e!==n.TAB_COLUMNS||t.ModuleRegistry.isRegistered(t.ModuleNames.ColumnToolPanelModule)},n.prototype.isValidMenuTabItem=function(e){var t=!0,r=n.TABS_DEFAULT;return null!=this.restrictTo&&(t=this.restrictTo.indexOf(e)>-1,r=this.restrictTo),(t=t&&n.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+r+"]"),t},n.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},n.prototype.createTab=function(e){return this.tabFactories[e]()},n.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},n.prototype.showTab=function(e){this.tabItemColumns&&e===n.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===n.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===n.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},n.prototype.onTabItemClicked=function(e){var t=null;switch(e.item){case this.tabItemColumns:t=n.TAB_COLUMNS;break;case this.tabItemFilter:t=n.TAB_FILTER;break;case this.tabItemGeneral:t=n.TAB_GENERAL}t&&this.activateTab(t)},n.prototype.activateTab=function(e){var t={type:n.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(t)},n.prototype.getMenuItems=function(){var e,r=this.getDefaultMenuOptions(),o=this.gridOptionsService.getCallback("getMainMenuItems");return e=o?o({column:this.column,defaultItems:r}):r,t._.removeRepeatsFromArray(e,n.MENU_ITEM_SEPARATOR),e},n.prototype.getDefaultMenuOptions=function(){var e=[],t=!this.column.getColDef().lockPinned,r=this.columnModel.getRowGroupColumns().length,o=r>0,i=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,a=this.column.isAllowValue(),u=this.column.isAllowRowGroup(),s=this.column.isPrimary(),c=this.columnModel.isPivotMode(),l="clientSide"===this.rowModel.getType(),p=this.gridOptionsService.isTreeData(),d=s&&o&&a||!s;return t&&e.push("pinSubMenu"),d&&e.push("valueAggSubMenu"),(t||d)&&e.push(n.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(n.MENU_ITEM_SEPARATOR),u&&this.column.isPrimary()&&(i?e.push("rowUnGroup"):e.push("rowGroup")),e.push(n.MENU_ITEM_SEPARATOR),e.push("resetColumns"),l&&(p||r>(c?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},n.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new t.AgMenuList);var e=this.getMenuItems(),r=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(r),this.mainMenuList.addEventListener(t.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:t._.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:n.TAB_GENERAL.replace("MenuTab",""),bodyPromise:t.AgPromise.resolve(this.mainMenuList.getGui()),name:n.TAB_GENERAL},this.tabItemGeneral},n.prototype.onHidePopup=function(e){var t;e&&e.event&&e.event instanceof KeyboardEvent&&(t=e.event),this.hidePopupFunc(t&&{keyboardEvent:t});var n=this.focusService.getFocusedCell(),r=this.gridOptionsService.getDocument();if(r.activeElement===r.body&&n){var o=n.rowIndex,i=n.rowPinned,a=n.column;this.focusService.setFocusedCell({rowIndex:o,column:a,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},n.prototype.createFilterPanel=function(){var e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!e)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:t._.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:n.TAB_FILTER.replace("MenuTab",""),bodyPromise:null==e?void 0:e.guiPromise,afterAttachedCallback:function(t){(null==e?void 0:e.filterPromise)&&e.filterPromise.then((function(e){e&&e.afterGuiAttached&&e.afterGuiAttached(t)}))},name:n.TAB_FILTER},this.tabItemFilter},n.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var o=this.createManagedBean(new r.PrimaryColsPanel),i=this.column.getColDef().columnsMenuParams;i||(i={});var a=i.contractColumnSelection,u=i.suppressColumnExpandAll,s=i.suppressColumnFilter,c=i.suppressColumnSelectAll,l=i.suppressSyncLayoutWithGrid,p=i.columnLayout;o.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!a,suppressColumnExpandAll:!!u,suppressColumnFilter:!!s,suppressColumnSelectAll:!!c,suppressSyncLayoutWithGrid:!!p||!!l,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.get("context")},"columnMenu"),p&&o.setColumnLayout(p);var d=o.getGui();return d.classList.add("ag-menu-column-select"),e.appendChild(d),this.tabItemColumns={title:t._.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:n.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:t.AgPromise.resolve(e),name:n.TAB_COLUMNS},this.tabItemColumns},n.prototype.afterGuiAttached=function(e){var t=e.container,n=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:n}),n&&(this.hidePopupFunc=n,this.addDestroyFunc(n))},n.prototype.getGui=function(){return this.tabbedLayout.getGui()},n.EVENT_TAB_SELECTED="tabSelected",n.TAB_FILTER="filterMenuTab",n.TAB_GENERAL="generalMenuTab",n.TAB_COLUMNS="columnsMenuTab",n.TABS_DEFAULT=[n.TAB_GENERAL,n.TAB_FILTER,n.TAB_COLUMNS],n.MENU_ITEM_SEPARATOR="separator",i([t.Autowired("columnModel")],n.prototype,"columnModel",void 0),i([t.Autowired("filterManager")],n.prototype,"filterManager",void 0),i([t.Autowired("gridApi")],n.prototype,"gridApi",void 0),i([t.Autowired("columnApi")],n.prototype,"columnApi",void 0),i([t.Autowired("menuItemMapper")],n.prototype,"menuItemMapper",void 0),i([t.Autowired("rowModel")],n.prototype,"rowModel",void 0),i([t.Autowired("focusService")],n.prototype,"focusService",void 0),i([t.PostConstruct],n.prototype,"init",null),n}(t.BeanStub),s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},n.prototype.getMenuItems=function(e,n,r){var o=[];if(t._.exists(e)&&t.ModuleRegistry.isRegistered(t.ModuleNames.ClipboardModule)&&n&&o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsService.is("enableCharts")&&t.ModuleRegistry.isRegistered(t.ModuleNames.GridChartsModule)&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),t._.exists(e)){var i=!t.ModuleRegistry.isRegistered(t.ModuleNames.CsvExportModule),a=!t.ModuleRegistry.isRegistered(t.ModuleNames.ExcelExportModule),u=this.gridOptionsService.is("suppressExcelExport")||a,s=this.gridOptionsService.is("suppressCsvExport")||i;!(t._.isIOSUserAgent()||u&&s)&&o.push("export")}var c=this.gridOptionsService.getCallback("getContextMenuItems");return c?c({node:e,column:n,value:r,defaultItems:o.length?o:void 0}):o},n.prototype.onContextMenu=function(e,t,n,r,o,i){if((this.gridOptionsService.is("allowContextMenuWithControlKey")||!e||!e.ctrlKey&&!e.metaKey)&&(e&&this.blockMiddleClickScrollsIfNeeded(e),!this.gridOptionsService.is("suppressContextMenu"))){var a=e||t.touches[0];if(this.showMenu(n,r,o,a,i))(e||t).preventDefault()}},n.prototype.blockMiddleClickScrollsIfNeeded=function(e){var t=this.gridOptionsService,n=e.which;t.is("suppressMiddleClickScrolls")&&2===n&&e.preventDefault()},n.prototype.showMenu=function(e,n,r,o,i){var a=this,u=this.getMenuItems(e,n,r),s=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===u||t._.missingOrEmpty(u))return!1;var l=new d(u);this.createBean(l);var p=l.getGui(),m={column:n,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:p,nudgeY:1},h=this.localeService.getLocaleTextFunc(),v=this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(){s.classList.remove("ag-context-menu-open"),a.destroyBean(l)},click:o,positionCallback:function(){var e=a.gridOptionsService.is("enableRtl");a.popupService.positionPopupUnderMouseEvent(c(c({},m),{nudgeX:e?-1*(p.offsetWidth+1):1}))},anchorToElement:i,ariaLabel:h("ariaLabelContextMenu","Context Menu")});return v&&(s.classList.add("ag-context-menu-open"),l.afterGuiAttached({container:"contextMenu",hidePopup:v.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(t.BeanStub.EVENT_DESTROYED,(function(){a.activeMenu===l&&(a.activeMenu=null)})),v&&l.addEventListener(t.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,v.hideFunc),!0},l([t.Autowired("popupService")],n.prototype,"popupService",void 0),l([t.Optional("rangeService")],n.prototype,"rangeService",void 0),l([t.Autowired("ctrlsService")],n.prototype,"ctrlsService",void 0),l([t.Autowired("columnModel")],n.prototype,"columnModel",void 0),n=l([t.Bean("contextMenuFactory")],n)}(t.BeanStub),d=function(e){function n(t){var n=e.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=t,n}return s(n,e),n.prototype.addMenuItems=function(){var e=this,n=this.createManagedBean(new t.AgMenuList),r=this.menuItemMapper.mapWithStockItems(this.menuItems,null);n.addMenuItems(r),this.appendChild(n),this.menuList=n,n.addEventListener(t.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,(function(t){return e.dispatchEvent(t)}))},n.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},n.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var t=this.focusedCell,n=t.rowIndex,r=t.rowPinned,o=t.column,i=this.gridOptionsService.getDocument();i.activeElement===i.body&&this.focusService.setFocusedCell({rowIndex:n,column:o,rowPinned:r,forceBrowserFocus:!0})}},n.prototype.destroy=function(){this.restoreFocusedCell(),e.prototype.destroy.call(this)},l([t.Autowired("menuItemMapper")],n.prototype,"menuItemMapper",void 0),l([t.Autowired("focusService")],n.prototype,"focusService",void 0),l([t.Autowired("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),l([t.PostConstruct],n.prototype,"addMenuItems",null),n}(t.Component),m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return m(n,e),n.prototype.mapWithStockItems=function(e,t){var n=this;if(!e)return[];var r=[];return e.forEach((function(e){var o;if(o="string"==typeof e?n.getStockMenuItem(e,t):e){var i=o,a=i.subMenu;a&&a instanceof Array&&(i.subMenu=n.mapWithStockItems(i.subMenu,t)),null!=o&&r.push(o)}})),r},n.prototype.getStockMenuItem=function(e,n){var r=this,o=this.localeService.getLocaleTextFunc(),i=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:o("pinColumn","Pin Column"),icon:t._.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:o("pinLeft","Pin Left"),action:function(){return r.columnModel.setColumnPinned(n,"left","contextMenu")},checked:!!n&&n.isPinnedLeft()};case"pinRight":return{name:o("pinRight","Pin Right"),action:function(){return r.columnModel.setColumnPinned(n,"right","contextMenu")},checked:!!n&&n.isPinnedRight()};case"clearPinned":return{name:o("noPin","No Pin"),action:function(){return r.columnModel.setColumnPinned(n,null,"contextMenu")},checked:!!n&&!n.isPinned()};case"valueAggSubMenu":return t.ModuleRegistry.assertRegistered(t.ModuleNames.RowGroupingModule,"Aggregation from Menu")?{name:o("valueAggregation","Value Aggregation"),icon:t._.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(n)}:null;case"autoSizeThis":return{name:o("autosizeThiscolumn","Autosize This Column"),action:function(){return r.columnModel.autoSizeColumn(n,i,"contextMenu")}};case"autoSizeAll":return{name:o("autosizeAllColumns","Autosize All Columns"),action:function(){return r.columnModel.autoSizeAllColumns(i,"contextMenu")}};case"rowGroup":return{name:o("groupBy","Group by")+" "+t._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return r.columnModel.addRowGroupColumn(n,"contextMenu")},icon:t._.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":return{name:o("ungroupBy","Un-Group by")+" "+t._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return r.columnModel.removeRowGroupColumn(n,"contextMenu")},icon:t._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null)};case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:function(){return r.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:o("expandAll","Expand All"),action:function(){return r.gridApi.expandAll()}};case"contractAll":return{name:o("collapseAll","Collapse All"),action:function(){return r.gridApi.collapseAll()}};case"copy":return t.ModuleRegistry.assertRegistered(t.ModuleNames.ClipboardModule,"Copy from Menu")?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:t._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return r.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return t.ModuleRegistry.assertRegistered(t.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:o("copyWithHeaders","Copy with Headers"),icon:t._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return r.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return t.ModuleRegistry.assertRegistered(t.ModuleNames.ClipboardModule,"Copy with Group Headers from Menu")?{name:o("copyWithGroupHeaders","Copy with Group Headers"),icon:t._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return r.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return t.ModuleRegistry.assertRegistered(t.ModuleNames.ClipboardModule,"Paste from Clipboard")?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:t._.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return r.clipboardService.pasteFromClipboard()}}:null;case"export":var a=[],u=t.ModuleRegistry.isRegistered(t.ModuleNames.CsvExportModule),s=t.ModuleRegistry.isRegistered(t.ModuleNames.ExcelExportModule);return!this.gridOptionsService.is("suppressCsvExport")&&u&&a.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&s&&a.push("excelExport"),{name:o("export","Export"),subMenu:a,icon:t._.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:o("csvExport","CSV Export"),icon:t._.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return r.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:o("excelExport","Excel Export"),icon:t._.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return r.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:var c=this.getChartItems(e);return c||(console.warn("AG Grid: unknown menu item type "+e),null)}},n.prototype.getChartItems=function(e){var n=this,r=this.localeService.getLocaleTextFunc(),o=function(e,t,o){return{name:r(e,t),action:function(){return n.chartService.createPivotChart({chartType:o})}}},i=function(e,t,o){return{name:r(e,t),action:function(){return n.chartService.createChartFromCurrentRange(o)}}};switch(e){case"pivotChart":return{name:r("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:t._.createIconNoSpan("chart",this.gridOptionsService,null)};case"chartRange":return{name:r("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:t._.createIconNoSpan("chart",this.gridOptionsService,null)};case"pivotColumnChart":return{name:r("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return o("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return o("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:r("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return i("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return i("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return i("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:r("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return o("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return o("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return o("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:r("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return i("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return i("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return i("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:r("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return o("pie","Pie&lrm;","pie");case"pivotDoughnut":return o("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:r("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return i("pie","Pie&lrm;","pie");case"rangeDoughnut":return i("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return o("line","Line&lrm;","line");case"rangeLineChart":return i("line","Line&lrm;","line");case"pivotXYChart":return{name:r("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return o("scatter","Scatter&lrm;","scatter");case"pivotBubble":return o("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:r("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return i("scatter","Scatter&lrm;","scatter");case"rangeBubble":return i("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:r("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return o("area","Area&lrm;","area");case"pivotStackedArea":return o("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return o("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:r("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return i("area","Area&lrm;","area");case"rangeStackedArea":return i("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return i("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return i("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return i("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:r("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},n.prototype.createAggregationSubMenu=function(e){var n,r=this,o=this.localeService.getLocaleTextFunc();if(e.isPrimary())n=e;else{var i=e.getColDef().pivotValueColumn;n=t._.exists(i)?i:void 0}var a=[];if(n){var u=n.isValueActive(),s=this.aggFuncService.getFuncNames(n);a.push({name:o("noAggregation","None"),action:function(){r.columnModel.removeValueColumn(n,"contextMenu"),r.columnModel.setColumnAggFunc(n,void 0,"contextMenu")},checked:!u}),s.forEach((function(e){a.push({name:o(e,t._.capitalise(e)),action:function(){r.columnModel.setColumnAggFunc(n,e,"contextMenu"),r.columnModel.addValueColumn(n,"contextMenu")},checked:u&&n.getAggFunc()===e})}))}return a},h([t.Autowired("columnModel")],n.prototype,"columnModel",void 0),h([t.Autowired("gridApi")],n.prototype,"gridApi",void 0),h([t.Optional("clipboardService")],n.prototype,"clipboardService",void 0),h([t.Optional("aggFuncService")],n.prototype,"aggFuncService",void 0),h([t.Optional("chartService")],n.prototype,"chartService",void 0),n=h([t.Bean("menuItemMapper")],n)}(t.BeanStub),g={version:"29.0.0",moduleName:t.ModuleNames.MenuModule,beans:[a,p,v],dependantModules:[n.EnterpriseCoreModule]};exports.MenuModule=g;