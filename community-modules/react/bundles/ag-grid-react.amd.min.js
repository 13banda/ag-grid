define(["exports","prop-types","react-dom/server","react-dom","agGrid","react"],function(t,e,s,r,pe,me){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var de="default"in me?me.default:me;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement();const r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){const e=this.componentInstance.getReactContainerClasses();e.forEach(e=>this.eParentElement.classList.add(e))}}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(r){const n=r[e];return n?n.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function l(){return"agPortalKey_"+ ++a}class c extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new pe.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=me.createElement(this.reactComponent,e),e=r.createPortal(e,this.eParentElement,l());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=c.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=me.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}c.SLOW_RENDERING_THRESHOLD=3;class o extends me.Component{constructor(e){super(e),this.props=e}render(){return null}static mapChildColumnDefs(e){return de.Children.map(e,e=>e?o.toColDef(e.props):null)}static toColDef(e){const t=e["children"],r=function(e,t){var r={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}(e,["children"]);return o.hasChildColumns(t)&&(r.children=o.mapChildColumnDefs(t)),r}static hasChildColumns(e){return 0<de.Children.count(e)}}function u(e,t){e.forEach(e=>{o[e]=t})}u(pe.ColDefUtil.BOOLEAN_PROPERTIES,e.bool),u(pe.ColDefUtil.STRING_PROPERTIES,e.string),u(pe.ColDefUtil.OBJECT_PROPERTIES,e.object),u(pe.ColDefUtil.ARRAY_PROPERTIES,e.array),u(pe.ColDefUtil.NUMBER_PROPERTIES,e.number),u(pe.ColDefUtil.FUNCTION_PROPERTIES,e.func),(R=t.ChangeDetectionStrategyType||(t.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",R.DeepValueCheck="DeepValueCheck",R.NoCheck="NoCheck";class p{constructor(e){this.strategy=e}areEqual(e,t){return this.strategy(e,t)}}class i{areEqual(e,t){return i.areEquivalent(i.copy(e),i.copy(t))}static unwrapStringOrNumber(e){return e instanceof Number||e instanceof String?e.valueOf():e}static copy(t){if(!t)return t;if(Array.isArray(t)){const r=[];for(let e=0;e<t.length;e++)r.push(this.copy(t[e]));return r}return"object"!=typeof t?t:[{},t].reduce((t,r)=>(Object.keys(r).forEach(function(e){t[e]=r[e]}),t),{})}static isNaN(e){return Number.isNaN?Number.isNaN(e):"number"==typeof e&&isNaN(e)}static areEquivalent(t,r){if(t=i.unwrapStringOrNumber(t),r=i.unwrapStringOrNumber(r),t===r)return!0;if(null===t||null===r||typeof t!=typeof r)return!1;if(i.isNaN(t)&&i.isNaN(r))return!0;if(t instanceof Date)return r instanceof Date&&t.valueOf()===r.valueOf();if("function"==typeof t)return!1;if("object"!=typeof t||t.$$typeof&&"Symbol(react.element)"===t.$$typeof.toString())return t==r;if(Object.isFrozen(t)||Object.isFrozen(r))return t===r;var n=void 0===t.areEquivPropertyTracking,s=void 0===r.areEquivPropertyTracking;try{let e;if(n)t.areEquivPropertyTracking=[];else if(t.areEquivPropertyTracking.some(function(e){return e===r}))return!0;if(s)r.areEquivPropertyTracking=[];else if(r.areEquivPropertyTracking.some(e=>e===t))return!0;t.areEquivPropertyTracking.push(r),r.areEquivPropertyTracking.push(t);const a={};for(e in t)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in r)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in a)if(!this.areEquivalent(t[e],r[e]))return!1;return!0}finally{n&&delete t.areEquivPropertyTracking,s&&delete r.areEquivPropertyTracking}}}class m{constructor(){this.strategyMap={[t.ChangeDetectionStrategyType.DeepValueCheck]:new i,[t.ChangeDetectionStrategyType.IdentityCheck]:new p((e,t)=>e===t),[t.ChangeDetectionStrategyType.NoCheck]:new p((e,t)=>!1)}}getStrategy(e){return this.strategyMap[e]}}class d extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=l(),this.portalKey=l()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new pe.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=me.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=r.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(me.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[e+"Component"];if(r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class h{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||h.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}h.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;class C extends me.Component{constructor(e){super(e),this.props=e,this.changeDetectionService=new m,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return de.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new f(this,this.portalManager)},modules:e};const t=this.props.gridOptions||{};var r=this.props["children"];o.hasChildColumns(r)&&(t.columnDefs=o.mapChildColumnDefs(r)),this.gridOptions=pe.ComponentUtil.copyAttributesToGridOptions(t,this.props),new pe.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractDeclarativeColDefChanges(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs;if(o.hasChildColumns(e.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n));e=o.mapChildColumnDefs(e.children);a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})}else s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]})}}extractGridPropertyChanges(r,n,s){const a=!!n.debug;Object.keys(n).forEach(e=>{if(pe._.includes(pe.ComponentUtil.ALL_PROPERTIES,e)){const t=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e));t.areEqual(r[e],n[e])||(a&&console.log(`agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}}),pe.ComponentUtil.getEventCallbacks().forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&pe.ComponentUtil.processOnChange(r,this.gridOptions,this.api,this.columnApi)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&pe.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi)})}}function g(e,t){e.forEach(e=>{C[e]=t})}C.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,C.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:C.MAX_COMPONENT_CREATION_TIME_IN_MS},C.propTypes={gridOptions:e.object},g(pe.ComponentUtil.getEventCallbacks(),e.func),g(pe.ComponentUtil.BOOLEAN_PROPERTIES,e.bool),g(pe.ComponentUtil.STRING_PROPERTIES,e.string),g(pe.ComponentUtil.OBJECT_PROPERTIES,e.object),g(pe.ComponentUtil.ARRAY_PROPERTIES,e.array),g(pe.ComponentUtil.NUMBER_PROPERTIES,e.number),g(pe.ComponentUtil.FUNCTION_PROPERTIES,e.func);class f extends pe.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new c(e,this.agGridReact,this.portalManager,t):new d(e,this.portalManager,t)}}const he=de.createContext({}),U=(...e)=>{const t=e.filter(e=>null!=e&&""!==e);return t.join(" ")};class Ce{constructor(){this.classesMap={}}setClass(e,t){if(!!this.classesMap[e]==t)return this;const r=new Ce;return r.classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const ge=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},j=(e,s,a,o)=>{if(!(!e||e.componentFromFramework)){const i=e.newAgStackInstance();if(i){let t,r,n=!1;return i.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),E(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o&&E(o,void 0))}}}},E=(e,t)=>{if(e)if(e instanceof Function){const r=e;r(t)}else{const n=e;n.current=t}};var v=me.memo(e=>{const u=me.useContext(he)["context"],[t,p]=me.useState(new Ce),[r,m]=me.useState(),[d,h]=me.useState(),[C,g]=me.useState(),[f,E]=me.useState(),[y,S]=me.useState(),[n,R]=me.useState(),s=me.useRef(null),a=me.useRef(null),o=me.useRef(),i=e["ctrl"];me.useEffect(()=>{var e={setWidth:e=>m(e),addOrRemoveCssClass:(t,r)=>p(e=>e.setClass(t,r)),setAriaSort:e=>E(e),setColId:e=>g(e),setTitle:e=>h(e),setAriaDescribedBy:e=>S(e),setUserCompDetails:e=>R(e),getUserCompInstance:()=>o.current||void 0},e=(i.setComp(e,s.current,a.current),i.getSelectAllGui());a.current.insertAdjacentElement("afterend",e)},[]),me.useEffect(()=>j(n,u,s.current,o),[n]),me.useEffect(()=>{let t=void 0;s.current.childNodes.forEach(e=>{null!=e&&e!==a.current&&(t=e)}),i.setDragSource(t)},[n]);var e=me.useMemo(()=>({width:r}),[r]),v=me.useMemo(()=>"ag-header-cell "+t.toString(),[t]),l=me.useMemo(()=>{return!!(n&&n.componentFromFramework&&ge(n.componentClass))},[n]),c=n&&n.componentFromFramework,w=n&&n.componentClass;return de.createElement("div",{ref:s,className:v,style:e,title:d,"col-id":C,"aria-sort":f,role:"columnheader",tabIndex:-1,"aria-describedby":y},de.createElement("div",{ref:a,className:"ag-header-cell-resize",role:"presentation"}),c&&l&&de.createElement(w,Object.assign({},n.params)),c&&!l&&de.createElement(w,Object.assign({},n.params,{ref:o})))}),w=me.memo(e=>{const t=me.useContext(he)["context"],[r,n]=me.useState(new Ce),[s,u]=me.useState(new Ce),[a,p]=me.useState(),[m,d]=me.useState(),[h,C]=me.useState(),[g,f]=me.useState(),[o,E]=me.useState(),i=me.useRef(null),l=me.useRef(null),c=e["ctrl"];me.useEffect(()=>{var e={setWidth:e=>p(e),addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setColId:e=>C(e),setTitle:e=>d(e),setUserCompDetails:e=>E(e),addOrRemoveResizableCssClass:(t,r)=>u(e=>e.setClass(t,r)),setAriaExpanded:e=>f(e)};c.setComp(e,i.current,l.current)},[]),me.useEffect(()=>j(o,t,i.current),[o]),me.useEffect(()=>{let t=void 0;i.current.childNodes.forEach(e=>{null!=e&&e!==l.current&&(t=e)}),t&&c.setDragSource(t)},[o]);var e=me.useMemo(()=>({width:a}),[a]),y=me.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),S=me.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),R=o&&o.componentFromFramework,v=o&&o.componentClass;return de.createElement("div",{ref:i,className:y,style:e,title:m,"col-id":h,role:"columnheader",tabIndex:-1,"aria-expanded":g},R&&de.createElement(v,Object.assign({},o.params)),de.createElement("div",{ref:l,className:S}))}),O=me.memo(e=>{const u=me.useContext(he)["context"],[t,p]=me.useState(new Ce),[r,m]=me.useState(new Ce),[d,h]=me.useState(new Ce),[n,C]=me.useState(),[s,g]=me.useState(),a=me.useRef(null),o=me.useRef(null);var f=me.useRef(null);const i=me.useRef(null),l=me.useRef(),E=e["ctrl"];me.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>p(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>m(e=>e.setClass(t,r)),addOrRemoveButtonWrapperCssClass:(t,r)=>h(e=>e.setClass(t,r)),setWidth:e=>C(e),setCompDetails:e=>g(e),getFloatingFilterComp:()=>l.current?pe.AgPromise.resolve(l.current):null,setMenuIcon:e=>i.current.appendChild(e)};E.setComp(e,a.current,i.current,o.current)},[]),me.useEffect(()=>j(s,u,o.current,l),[s]);var e=me.useMemo(()=>({width:n}),[n]),y=me.useMemo(()=>"ag-header-cell ag-floating-filter "+t.toString(),[t]),S=me.useMemo(()=>r.toString(),[r]),R=me.useMemo(()=>"ag-floating-filter-button "+d.toString(),[r]),c=me.useMemo(()=>{return!!(s&&s.componentFromFramework&&ge(s.componentClass))},[s]),v=s&&s.componentFromFramework,w=s&&s.componentClass;return de.createElement("div",{ref:a,className:y,style:e,role:"gridcell",tabIndex:-1},de.createElement("div",{ref:o,className:S,role:"presentation"},v&&c&&de.createElement(w,Object.assign({},s.params)),v&&!c&&de.createElement(w,Object.assign({},s.params,{ref:l}))),de.createElement("div",{ref:f,className:R,role:"presentation"},de.createElement("button",{ref:i,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}),S=me.memo(e=>{const s=me.useContext(he)["gridOptionsWrapper"],[t,r]=me.useState(),[n,a]=me.useState(),[o,i]=me.useState(),[l,u]=me.useState(),[p,m]=me.useState(),[d,h]=me.useState([]);var C=me.useRef(null);const c=e["ctrl"],g=c.getType()===pe.HeaderRowType.COLUMN,f=c.getType()===pe.HeaderRowType.COLUMN_GROUP,E=c.getType()===pe.HeaderRowType.FLOATING_FILTER,y=me.useCallback((e,t)=>{if(s.isEnsureDomOrder())return t;const r=pe._.mapById(e,e=>e.getInstanceId()),n=pe._.mapById(t,e=>e.getInstanceId());e=e.filter(e=>n.has(e.getInstanceId())),t=t.filter(e=>!r.has(e.getInstanceId()));return[...e,...t]},[]);me.useEffect(()=>{var e={setTransform:e=>r(e),setHeight:e=>a(e),setTop:e=>i(e),setHeaderCtrls:t=>h(e=>y(e,t)),setWidth:e=>u(e),setAriaRowIndex:e=>m(e)};c.setComp(e)},[]);var e=me.useMemo(()=>({transform:t,height:n,top:o,width:l}),[t,n,o,l]),S=me.useMemo(()=>{const e=["ag-header-row"];return g&&e.push("ag-header-row-column"),f&&e.push("ag-header-row-column-group"),E&&e.push("ag-header-row-column-filter"),e.join(" ")},[]),R=me.useCallback(e=>{switch(c.getType()){case pe.HeaderRowType.COLUMN_GROUP:return de.createElement(w,{ctrl:e,key:e.getInstanceId()});case pe.HeaderRowType.FLOATING_FILTER:return de.createElement(O,{ctrl:e,key:e.getInstanceId()});default:return de.createElement(v,{ctrl:e,key:e.getInstanceId()})}},[]);return de.createElement("div",{ref:C,className:S,role:"row",style:e,"aria-rowindex":p},d.map(R))}),y=me.memo(r=>{const[e,u]=me.useState(new Ce),[t,p]=me.useState(),[n,m]=me.useState(),[s,d]=me.useState(),[h,C]=me.useState([]),a=me.useContext(he)["context"],o=me.useRef(null);var i=r.pinned===pe.Constants.PINNED_LEFT,g=r.pinned===pe.Constants.PINNED_RIGHT,f=!i&&!g,l=(me.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),setCtrls:e=>C(e),setCenterWidth:e=>p(e),setContainerTransform:e=>m(e),setPinnedContainerWidth:e=>d(e)};const t=a.createBean(new pe.HeaderRowContainerCtrl(r.pinned));return t.setComp(e,o.current),()=>{a.destroyBean(t)}},[]),me.useMemo(()=>e.toString(),[e])),c=()=>h.map(e=>de.createElement(S,{ctrl:e,key:e.getInstanceId()})),E=me.useMemo(()=>({width:t,transform:n}),[t,n]),y=me.useMemo(()=>({width:s,minWidth:s,maxWidth:s}),[s]);return de.createElement(de.Fragment,null,i&&de.createElement("div",{ref:o,className:"ag-pinned-left-header "+l,role:"presentation",style:y},c()),g&&de.createElement("div",{ref:o,className:"ag-pinned-right-header "+l,role:"presentation",style:y},c()),f&&de.createElement("div",{ref:o,className:"ag-header-viewport "+l,role:"presentation"},de.createElement("div",{className:"ag-header-container",role:"rowgroup",style:E},c())))}),L=me.memo(()=>{const[e,n]=me.useState(new Ce),[t,r]=me.useState(),s=me.useContext(he)["context"],a=me.useRef(null);me.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)};const t=s.createBean(new pe.GridHeaderCtrl);return t.setComp(e,a.current,a.current),()=>{s.destroyBean(t)}},[]);var o=me.useMemo(()=>{return"ag-header "+e.toString()},[e]),i=me.useMemo(()=>({height:t,minHeight:t}),[t]);return de.createElement("div",{ref:a,className:o,style:i,role:"presentation"},de.createElement(y,{pinned:pe.Constants.PINNED_LEFT}),de.createElement(y,{pinned:null}),de.createElement(y,{pinned:pe.Constants.PINNED_RIGHT}))});const H=(n,s)=>{me.useEffect(()=>{var e=s.current;const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}},[])};var fe=me.memo(c=>{const[e,u]=me.useState(),{context:p,popupService:m,gridOptionsWrapper:d}=me.useContext(he);return me.useEffect(()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=d.isStopEditingWhenCellsLoseFocus();const a=p.createBean(new pe.PopupEditorWrapper(n.params)),o=a.getGui();!c.jsChildComp||(n=c.jsChildComp.getGui())&&o.appendChild(n);n={column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:o,keepWithinBounds:!0},n=("under"===e.popupPosition?m.positionPopupUnderComponent:m.positionPopupOverComponent).bind(m,n);const i=d.getLocaleTextFunc();s=m.addPopup({modal:s,eChild:o,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:n,ariaLabel:i("ariaLabelCellEditor","Cell Editor")});const l=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=l&&l(),p.destroyBean(a)}},[]),de.createElement(de.Fragment,null,e&&c.wrappedContent&&r.createPortal(c.wrappedContent,e.getGui()))});var W=me.memo(e=>{const u=me.useContext(he)["context"],{cellCtrl:i,printLayout:p,editingRow:m}=e,[r,d]=me.useState(),[s,h]=me.useState(),[C,g]=me.useState(new Ce),[f,E]=me.useState(),[y,S]=me.useState(),[R,v]=me.useState(),[w,O]=me.useState(),[b,M]=me.useState(),[I,T]=me.useState(),[D,P]=me.useState(),[N,k]=me.useState(),[A,F]=me.useState(),[G,x]=me.useState(!1),[_,B]=me.useState(!1),[U,j]=me.useState(!1),[L,H]=me.useState();e=me.useMemo(()=>i.isForceWrapper(),[]);const a=me.useRef(null),n=me.useRef(null),W=me.useRef(),V=me.useRef(),o=me.useRef(),[q,$]=me.useState(0);var z=me.useCallback(e=>{o.current=e,$(e=>e+1)},[]);const K=me.useRef(),[Y,X]=me.useState(0),Z=me.useCallback(e=>{K.current=e,X(e=>e+1)},[]),t=null!=r&&(G||U||_),J=e||t,Q=me.useCallback((e,t)=>{if(V.current=t){{var r=t;var n=i;const s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using ReactUI, specify an editor is a popup using colDef.cellEditorPopup=true`;pe._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: AG Grid: Found an issue in column ${s.getColId()}. If using ReactUI, specify an editor popup position using colDef.cellEditorPopupPosition=[value]`;pe._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>i.stopEditing(),0)}},[]),ee=me.useCallback(e=>Q(!0,e),[]),te=me.useCallback(e=>Q(!1,e),[]);{var l=r,re=t,ne=K.current,c=(e=Y,W),se=a;const ce=me.useContext(he)["context"],ue=me.useCallback(()=>{const e=c.current;if(e){const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),ce.destroyBean(e),c.current=void 0}},[]);me.useEffect(()=>{var e=l&&l.compDetails&&!l.compDetails.componentFromFramework;if(null!=l&&e&&!(re&&null==ne)){const t=l.compDetails;if(c.current){const n=c.current;e=null!=n.refresh&&0==l.force&&n.refresh(t.params);if(!0===e||void 0===e)return;ue()}const r=t.newAgStackInstance();if(r){const n=r.resolveNow(null,e=>e);if(n){e=n.getGui();if(e){const s=re?ne:se.current;s.appendChild(e),c.current=n}}}}else ue()},[l,re,e]),me.useEffect(()=>ue,[])}const ae=me.useRef(),oe=(me.useEffect(()=>{var e=ae.current,t=r;ae.current=r,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass&&null!=n.current&&null!=n.current.refresh&&n.current.refresh(t.params))},[r]),me.useEffect(()=>{if(s&&!s.compDetails.componentFromFramework){var e=s.compDetails;const t=!0===s.popup,r=(e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return Q(t,r),t||(a.current.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),H(r),()=>{u.destroyBean(r),Q(t,void 0),H(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[s]),me.useEffect(()=>{if(i&&u&&(T(o.current?"cell-"+i.getInstanceId():void 0),o.current&&t)){const r=[];var e=e=>{if(e){const t=e.getGui();o.current.insertAdjacentElement("afterbegin",t),r.push(()=>{u.destroyBean(e),pe._.removeFromParent(t)})}return e};return G&&e(i.createSelectionCheckbox()),U&&e(i.createDndSource()),_&&e(i.createRowDragComp()),()=>{r.forEach(e=>{e()})}}},[t,U,_,G,q]),me.useEffect(()=>{var e,t;i&&(e={addOrRemoveCssClass:(t,r)=>g(e=>e.setClass(t,r)),setUserStyles:e=>E(e),setAriaSelected:e=>v(e),setAriaExpanded:e=>O(e),getFocusableElement:()=>a.current,setAriaColIndex:e=>M(e),setTabIndex:e=>S(e),setRole:e=>P(e),setColId:e=>k(e),setTitle:e=>F(e),setIncludeSelection:e=>x(e),setIncludeRowDrag:e=>B(e),setIncludeDndSource:e=>j(e),getCellEditor:()=>V.current||null,getCellRenderer:()=>n.current||W.current,getParentOfValue:()=>K.current||o.current||a.current,setRenderDetails:(e,t,r)=>{d({value:t,compDetails:e,force:r})},setEditDetails:(e,t,r)=>{e?(h({compDetails:e,popup:t,popupPosition:r}),t||d(void 0)):h(void 0)}},t=o.current||void 0,i.setComp(e,null,a.current,t,p,m))},[]),me.useMemo(()=>{return!!(r&&r.compDetails&&r.compDetails.componentFromFramework&&ge(r.compDetails.componentClass))},[r]));e=me.useMemo(()=>{let e=C.toString();return J||(e+=" ag-cell-value"),e},[C,t]);const ie=me.useMemo(()=>i.getInstanceId(),[]);var le=()=>de.createElement(de.Fragment,null,null!=r&&((e,t,r,n,s,a)=>{const{compDetails:o,value:i}=e,u=!o,l=o&&o.componentFromFramework,c=o&&o.componentClass,p=i&&i.toString?i.toString():i;e=()=>de.createElement(de.Fragment,null,u&&de.createElement(de.Fragment,null,p),l&&!s&&de.createElement(c,Object.assign({},o.params,{ref:r})),l&&s&&de.createElement(c,Object.assign({},o.params)));return de.createElement(de.Fragment,null,n?de.createElement("span",{role:"presentation",id:"cell-"+t,className:"ag-cell-value",ref:a},e()):e())})(r,ie,n,t,oe,Z),null!=s&&((e,t,r,n,s,a)=>{var o=e.compDetails,i=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup;return de.createElement(de.Fragment,null,l&&de.createElement(i,Object.assign({},e.compDetails.params,{ref:t})),c&&de.createElement(fe,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:de.createElement(i,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&de.createElement(fe,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))})(s,te,ee,a.current,i,L));return de.createElement("div",{ref:a,className:e,style:f,tabIndex:y,"aria-selected":R,"aria-colindex":b,role:D,"aria-expanded":w,"col-id":N,title:A,"aria-describedby":I},J?de.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:z},le()):le())});var b=me.memo(e=>{const u=me.useContext(he)["context"],{rowCtrl:t,containerType:p}=e,[m,d]=me.useState(),[h,C]=me.useState(),[g,f]=me.useState(),[E,y]=me.useState(),[S,R]=me.useState(),[v,w]=me.useState(),[O,b]=me.useState(),[M,I]=me.useState(),[T,D]=me.useState(),[r,P]=me.useState(),[n,N]=me.useState({list:[],instanceIdMap:new Map}),[s,k]=me.useState(),[A,F]=me.useState(!1),[a,G]=me.useState(t.getInitialRowTop()),[o,x]=me.useState(t.getInitialTransform()),i=me.useRef(null),l=me.useRef(),_=me.useMemo(()=>new pe.CssClassManager(()=>i.current),[]);me.useEffect(()=>{var e={setTop:e=>G(e),setTransform:e=>x(e),addOrRemoveCssClass:(e,t)=>_.addOrRemoveCssClass(e,t),setDomOrder:e=>F(e),setRowIndex:e=>d(e),setAriaRowIndex:e=>w(e),setAriaExpanded:e=>b(e),setAriaLabel:e=>I(e),setRowId:e=>C(e),setRowBusinessKey:e=>y(e),setTabIndex:e=>R(e),setUserStyles:e=>P(e),setAriaSelected:e=>D(e),setRole:e=>f(e),setCellCtrls:l=>N(e=>{{var r=e,t;if(e=l,A){const i={list:e,instanceIdMap:new Map};return e.forEach(e=>i.instanceIdMap.set(e.getInstanceId(),e)),i}const n=[],s=[],a=new Map,o=new Map,i=(e.forEach(e=>o.set(e.getInstanceId(),e)),r.list.forEach(e=>{var t=e.getInstanceId();o.has(t)&&(n.push(e),a.set(t,e))}),e.forEach(e=>{var t=e.getInstanceId();r.instanceIdMap.has(t)||(s.push(e),a.set(t,e))}),{list:[...n,...s],instanceIdMap:a});return i}}),showFullWidth:e=>k(e),getFullWidthCellRenderer:()=>l.current};t.setComp(e,i.current,p)},[]),me.useEffect(()=>j(s,u,i.current,l),[s]);var e=me.useMemo(()=>{var e={top:a,transform:o};return Object.assign(e,r),e},[a,o,r]),B=s&&s.componentFromFramework,U=null!=n;const c=me.useMemo(()=>{return!!(s&&s.componentFromFramework&&ge(s.componentClass))},[s]);return de.createElement("div",{ref:i,role:g,style:e,"row-index":m,"aria-rowindex":v,"aria-expanded":O,"aria-label":M,"aria-selected":T,"row-id":h,"row-business-key":E,tabIndex:S},U&&n.list.map(e=>de.createElement(W,{cellCtrl:e,editingRow:t.isEditing(),printLayout:t.isPrintLayout(),key:e.getInstanceId()})),B&&(e=s.componentClass,de.createElement(de.Fragment,null,c&&de.createElement(e,Object.assign({},s.params)),!c&&de.createElement(e,Object.assign({},s.params,{ref:l})))))}),V=me.memo(e=>{const u=me.useContext(he)["context"],[p,m]=me.useState(""),[d,h]=me.useState([]),[C,g]=me.useState(!1),[f,E]=me.useState(""),n=e["name"],y=me.useMemo(()=>pe.getRowContainerTypeForName(n),[n]),s=me.useRef(null),a=me.useRef(null),o=me.useRef(null),t=me.useMemo(()=>pe.RowContainerCtrl.getRowContainerCssClasses(n),[n]);var e=me.useMemo(()=>U(t.wrapper),[]),S=me.useMemo(()=>U(t.viewport),[]);const R=me.useMemo(()=>U(t.container),[]);var r=n===pe.RowContainerName.CENTER,i=n===pe.RowContainerName.TOP_CENTER||n===pe.RowContainerName.BOTTOM_CENTER,v=!r&&!i,l=r?s:i?a:o,l=(H(" AG Row Container "+n+" ",l),me.useEffect(()=>{const e=[];var t={setViewportHeight:m,setRowCtrls:r=>{h(e=>{if(C)return r;const t=e.filter(e=>0<=r.indexOf(e));e=r.filter(e=>t.indexOf(e)<0);return[...t,...e]})},setDomOrder:e=>g(e),setContainerWidth:e=>E(e)};const r=u.createBean(new pe.RowContainerCtrl(n));return e.push(r),r.setComp(t,o.current,a.current,s.current),()=>{u.destroyBeans(e)}},[]),me.useMemo(()=>({height:p}),[p]));const w=me.useMemo(()=>({width:f}),[f]);var c=()=>de.createElement("div",{className:R,ref:o,role:"rowgroup",style:w},d.map(e=>de.createElement(b,{rowCtrl:e,containerType:y,key:e.getInstanceId()})));return de.createElement(de.Fragment,null,r&&de.createElement("div",{className:e,ref:s,role:"presentation"},de.createElement("div",{className:S,ref:a,role:"presentation",style:l},c())),i&&de.createElement("div",{className:S,ref:a,role:"presentation",style:l},c()),v&&c())}),I=me.memo(()=>{const{context:s,agStackComponentsRegistry:u,resizeObserverService:p}=me.useContext(he),[m,d]=me.useState(""),[h,C]=me.useState(0),[g,f]=me.useState(0),[e,E]=me.useState(0),[t,y]=me.useState(0),[S,R]=me.useState(""),[v,w]=me.useState(""),[O,b]=me.useState(null),[r,M]=me.useState(""),[I,T]=me.useState(null),[n,D]=me.useState(""),[a,P]=me.useState(null),o=me.useRef(null),i=me.useRef(null),l=me.useRef(null),c=me.useRef(null);H(" AG Grid Body ",o),H(" AG Pinned Top ",i),H(" AG Middle ",l),H(" AG Pinned Bottom ",c),me.useEffect(()=>{const r=[],n=[];if(s){var e=e=>{const t=u.getComponentClass(e);e=s.createBean(new t);return r.push(e),e},e=(o.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),o.current.appendChild(e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),o.current.appendChild(document.createComment(" AG Overlay Wrapper ")),o.current.appendChild(e("AG-OVERLAY-WRAPPER").getGui()),{setRowAnimationCssOnBodyViewport:d,setColumnCount:C,setRowCount:f,setTopHeight:E,setBottomHeight:y,setTopDisplay:R,setBottomDisplay:w,setColumnMovingCss:b,updateLayoutClasses:M,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:D,setCellSelectableCss:P,registerBodyViewportResizeListener:e=>{const t=p.observeResize(l.current,e);n.push(()=>t())}});const t=s.createBean(new pe.GridBodyCtrl);return r.push(t),t.setComp(e,o.current,l.current,i.current,c.current),()=>{s.destroyBeans(r),n.forEach(e=>e())}}},[]);var N=me.useMemo(()=>U("ag-root","ag-unselectable",O,r),[O,r]),k=me.useMemo(()=>U("ag-body-viewport",m,r,I,a),[m,r,I,a]),A=me.useMemo(()=>U("ag-floating-top",a),[a]),F=me.useMemo(()=>U("ag-floating-bottom",a),[a]),G=me.useMemo(()=>({height:e,minHeight:e,display:S,overflowY:n}),[e,S,n]),x=me.useMemo(()=>({height:t,minHeight:t,display:v,overflowY:n}),[t,v,n]);const _=e=>de.createElement(V,{name:e,key:e+"-container"});var B=({section:e,children:t,className:r,style:n})=>de.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(_));return de.createElement("div",{ref:o,className:N,role:"grid","aria-colcount":h,"aria-rowcount":g},de.createElement(L,null),B({section:i,className:A,style:G,children:[pe.RowContainerName.TOP_LEFT,pe.RowContainerName.TOP_CENTER,pe.RowContainerName.TOP_RIGHT,pe.RowContainerName.TOP_FULL_WIDTH]}),B({section:l,className:k,children:[pe.RowContainerName.LEFT,pe.RowContainerName.CENTER,pe.RowContainerName.RIGHT,pe.RowContainerName.FULL_WIDTH]}),B({section:c,className:F,style:x,children:[pe.RowContainerName.BOTTOM_LEFT,pe.RowContainerName.BOTTOM_CENTER,pe.RowContainerName.BOTTOM_RIGHT,pe.RowContainerName.BOTTOM_FULL_WIDTH]}))}),R=me.forwardRef((e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:a,gridCtrl:p}=e,o=me.useContext(he)["context"],i=me.useRef(null),l=me.useRef(null),c=me.useRef(),[n,u]=me.useState();me.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){c.current.forceFocusOutOfContainer()}})),me.useEffect(()=>{var e=i.current,t=l.current,r={setTabIndex:e=>null==e?u(void 0):u(parseInt(e,10))};const n=c.current=o.createBean(new pe.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:s,onTabKeyDown:a,focusInnerElement:e=>p.focusInnerElement(e)}));return()=>{o.destroyBean(n)}},[]);e=e=>de.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+e,role:"presentation",tabIndex:n,ref:"top"===e?i:l});return de.createElement(de.Fragment,null,e("top"),r,e("bottom"))}),T=me.memo(R),M=me.memo(({context:E})=>{const[e,a]=me.useState(""),[t,o]=me.useState(""),[r,i]=me.useState(""),[n,l]=me.useState(null),[s,c]=me.useState(null),[u,p]=me.useState(!1),[y,m]=me.useState(),S=me.useRef(null),R=me.useRef(null),d=me.useRef(),v=me.useRef(null),h=me.useRef(()=>{});var C=me.useCallback(()=>{},[]);const w=me.useMemo(()=>E.getBean("beans"),[]);H(" AG Grid ",R),me.useEffect(()=>{const e=S.current=E.createBean(new pe.GridCtrl);return()=>{E.destroyBean(e),S.current=null}},[]),me.useEffect(()=>{const e=S.current;h.current=e.focusInnerElement.bind(e);var t={destroyGridUi:()=>{},setRtlClass:a,addOrRemoveKeyboardFocusClass:e=>o(e?pe.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{d.current.forceFocusOutOfContainer()},updateLayoutClasses:i,getFocusableContainers:()=>{const e=[];var t=R.current.querySelector(".ag-root"),r=R.current.querySelector(".ag-side-bar");return t&&e.push(t),r&&e.push(r),e},setCursor:l,setUserSelect:c};e.setComp(t,R.current,R.current),p(!0)},[]),me.useEffect(()=>{if(y){const t=S.current,r=[],n=w["agStackComponentsRegistry"],s=n.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),a=n.getComponentClass("AG-SIDE-BAR"),o=n.getComponentClass("AG-STATUS-BAR"),i=n.getComponentClass("AG-WATERMARK"),u=n.getComponentClass("AG-PAGINATION"),l=[],c=R.current,p=v.current;if(t.showDropZones()&&s){const m=E.createBean(new s);var e=m.getGui();c.insertAdjacentElement("afterbegin",e),l.push(e),r.push(m)}if(t.showSideBar()&&a){const d=E.createBean(new a);e=d.getGui();const h=p.querySelector(".ag-tab-guard-bottom");h&&(h.insertAdjacentElement("beforebegin",e),l.push(e)),r.push(d)}if(t.showStatusBar()&&o){const C=E.createBean(new o);e=C.getGui();c.insertAdjacentElement("beforeend",e),l.push(e),r.push(C)}if(u){const g=E.createBean(new u);e=g.getGui();c.insertAdjacentElement("beforeend",e),l.push(e),r.push(g)}if(t.showWatermark()&&i){const f=E.createBean(new i);e=f.getGui();c.insertAdjacentElement("beforeend",e),l.push(e),r.push(f)}return()=>{E.destroyBeans(r),l.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[y]);var g=me.useMemo(()=>U("ag-root-wrapper",e,t,r),[e,t,r]),f=me.useMemo(()=>U("ag-root-wrapper-body","ag-focus-managed",r),[r]),O=me.useMemo(()=>({userSelect:null!=s?s:"",WebkitUserSelect:null!=s?s:"",cursor:null!=n?n:""}),[s,n]),b=v.current,M=me.useCallback(e=>{d.current=e,m(!0)},[]);return de.createElement("div",{ref:R,className:g,style:O},de.createElement("div",{className:f,ref:v},u&&b&&de.createElement(he.Provider,{value:w},de.createElement(T,{ref:M,eFocusableElement:b,onTabKeyDown:C,gridCtrl:S.current},de.createElement(I,null)))))});const D=r=>{const n=me.useContext(he).context,s=me.useRef(null),e=me.useRef(null),a=me.useRef(null),o=me.useRef(null),i=me.useRef(null),[t,u]=me.useState(),[p,m]=me.useState(),[l,d]=me.useState(),[c,h]=me.useState(new Ce),[C,g]=me.useState(new Ce),[f,E]=me.useState(new Ce),[y,S]=me.useState(new Ce);me.useEffect(()=>j(t,n,e.current),[t]),me.useEffect(()=>{var e={setInnerRenderer:(e,t)=>{u(e),d(t)},setChildCount:e=>m(e),addOrRemoveCssClass:(t,r)=>h(e=>e.setClass(t,r)),setContractedDisplayed:t=>E(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>g(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>{S(e=>e.setClass("ag-invisible",!t))}};const t=n.createBean(new pe.GroupCellRendererCtrl);return t.init(e,s.current,a.current,o.current,i.current,D,r),()=>{n.destroyBean(t)}},[]);var R=me.useMemo(()=>"ag-cell-wrapper "+c.toString(),[c]),v=me.useMemo(()=>"ag-group-expanded "+C.toString(),[C]),w=me.useMemo(()=>"ag-group-contracted "+f.toString(),[f]),O=me.useMemo(()=>"ag-group-checkbox "+y.toString(),[y]),b=t&&t.componentFromFramework,M=b?t.componentClass:void 0,I=null==t&&null!=l;return de.createElement("span",Object.assign({className:R,ref:s},r.colDef?{}:{role:"gridcell"}),de.createElement("span",{className:v,ref:o}),de.createElement("span",{className:w,ref:i}),de.createElement("span",{className:O,ref:a}),de.createElement("span",{className:"ag-group-value",ref:e},I&&de.createElement(de.Fragment,null,l),b&&de.createElement(M,Object.assign({},t.params))),de.createElement("span",{className:"ag-group-child-count"},p))};var P=me.memo(D),N=me.forwardRef((r,e)=>{const{ctrlsFactory:u,context:n,gridOptionsWrapper:p,resizeObserverService:m,clientSideRowModel:s,serverSideRowModel:a}=me.useContext(he),[t,d]=me.useState(new Ce),[o,h]=me.useState(new Ce),[i,C]=me.useState(),[g,f]=me.useState(),l=me.useRef(),c=me.useRef(null);var E=me.useMemo(()=>t.toString()+" ag-details-row",[t]),y=me.useMemo(()=>o.toString()+" ag-details-grid",[o]),e=(e&&me.useImperativeHandle(e,()=>({refresh(){return l.current.refresh()}})),me.useEffect(()=>{r.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")},[]),me.useEffect(()=>{var e={addOrRemoveCssClass:(t,r)=>d(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>h(e=>e.setClass(t,r)),setDetailGrid:e=>C(e),setRowData:e=>f(e)};const t=u.getInstance("detailCellRenderer");if(t)return n.createBean(t),t.init(e,r),l.current=t,p.isDetailRowAutoHeight()&&(e=()=>{const e=c.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{r.node.setRowHeight(e),s?s.onRowHeightChanged():a&&a.onRowHeightChanged()},0)},m.observeResize(c.current,e),e()),()=>{n.destroyBean(t)}},[]),me.useCallback((e,t)=>{l.current.registerDetailWithMaster(e,t)},[]));return de.createElement("div",{className:E,ref:c},i&&de.createElement(A,Object.assign({className:y},i,{rowData:g,setGridApi:e})))});class k extends pe.VanillaFrameworkOverrides{constructor(){super(...arguments),this.frameworkComponents={agGroupCellRenderer:P,agGroupRowRenderer:P,agDetailCellRenderer:N}}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;e=e.prototype;return!(e&&"getGui"in e)}}class A extends me.Component{constructor(e){super(e),this.props=e,this.destroyFuncs=[],this.changeDetectionService=new m,this.eGui=de.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.state={context:void 0},this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return de.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&de.createElement(M,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new F(this.portalManager)},modules:e,frameworkOverrides:new k},t=(this.gridOptions=this.props.gridOptions||{},this.props)["children"];o.hasChildColumns(t)&&(this.gridOptions.columnDefs=o.mapChildColumnDefs(t)),this.gridOptions=pe.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props);const r=new pe.GridCoreCreator;r.create(this.eGui.current,this.gridOptions,e=>{this.setState({context:e});const t=e.getBean(pe.CtrlsService.NAME);t.whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},e=>{const t=e.getBean(pe.CtrlsService.NAME);t.whenReady(()=>{this.whenReadyFuncs.forEach(e=>e()),this.whenReadyFuncs.length=0,this.ready=!0})},e)}componentWillUnmount(){this.destroyFuncs.forEach(e=>e())}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processChanges(r)}extractDeclarativeColDefChanges(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs;if(o.hasChildColumns(e.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n));e=o.mapChildColumnDefs(e.children);a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})}else s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]})}}extractGridPropertyChanges(r,n,s){const a=!!n.debug;Object.keys(n).forEach(e=>{if(pe._.includes(pe.ComponentUtil.ALL_PROPERTIES,e)){const t=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e));t.areEqual(r[e],n[e])||(a&&console.log(`agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}}),pe.ComponentUtil.getEventCallbacks().forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}processChanges(e){this.processWhenReady(()=>pe.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi))}processWhenReady(e){this.ready?e():this.whenReadyFuncs.push(e)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)}}class F extends pe.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new d(e,this.parent,t)}}class G extends me.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){var e=this.props.suppressReactUi?C:A;return de.createElement(e,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}t.AgGridReact=G,t.AgGridReactLegacy=C,t.AgGridReactFire=A,t.AgGridColumn=o,Object.defineProperty(t,"__esModule",{value:!0})});
