!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react-dom/server"),require("react-dom"),require("react"),require("@ag-grid-community/core")):"function"==typeof define&&define.amd?define(["exports","prop-types","react-dom/server","react-dom","react","@ag-grid-community/core"],t):t(e.AgGridReact={},e.PropTypes,e.ReactDOMServer,e.ReactDOM,e.React,e.agGrid)}(this,function(t,e,s,r,oe,ie){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var le="default"in oe?oe.default:oe;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement();const r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){const e=this.componentInstance.getReactContainerClasses();e.forEach(e=>this.eParentElement.classList.add(e))}}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(r){const n=r[e];return n?n.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function o(){return"agPortalKey_"+ ++a}class i extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new ie.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=oe.createElement(this.reactComponent,e),e=r.createPortal(e,this.eParentElement,o());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=i.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=oe.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}i.SLOW_RENDERING_THRESHOLD=3;class l extends oe.Component{constructor(e){super(e),this.props=e}render(){return null}static mapChildColumnDefs(e){return le.Children.map(e,e=>e?l.toColDef(e.props):null)}static toColDef(e){const t=e["children"],r=function(e,t){var r={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}(e,["children"]);return l.hasChildColumns(t)&&(r.children=l.mapChildColumnDefs(t)),r}static hasChildColumns(e){return 0<le.Children.count(e)}}function c(e,t){e.forEach(e=>{l[e]=t})}c(ie.ColDefUtil.BOOLEAN_PROPERTIES,e.bool),c(ie.ColDefUtil.STRING_PROPERTIES,e.string),c(ie.ColDefUtil.OBJECT_PROPERTIES,e.object),c(ie.ColDefUtil.ARRAY_PROPERTIES,e.array),c(ie.ColDefUtil.NUMBER_PROPERTIES,e.number),c(ie.ColDefUtil.FUNCTION_PROPERTIES,e.func),(f=t.ChangeDetectionStrategyType||(t.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",f.DeepValueCheck="DeepValueCheck",f.NoCheck="NoCheck";class u{constructor(e){this.strategy=e}areEqual(e,t){return this.strategy(e,t)}}class p{areEqual(e,t){return p.areEquivalent(p.copy(e),p.copy(t))}static unwrapStringOrNumber(e){return e instanceof Number||e instanceof String?e.valueOf():e}static copy(t){if(!t)return t;if(Array.isArray(t)){const r=[];for(let e=0;e<t.length;e++)r.push(this.copy(t[e]));return r}return"object"!=typeof t?t:[{},t].reduce((t,r)=>(Object.keys(r).forEach(function(e){t[e]=r[e]}),t),{})}static isNaN(e){return Number.isNaN?Number.isNaN(e):"number"==typeof e&&isNaN(e)}static areEquivalent(t,r){if(t=p.unwrapStringOrNumber(t),r=p.unwrapStringOrNumber(r),t===r)return!0;if(null===t||null===r||typeof t!=typeof r)return!1;if(p.isNaN(t)&&p.isNaN(r))return!0;if(t instanceof Date)return r instanceof Date&&t.valueOf()===r.valueOf();if("function"==typeof t)return!1;if("object"!=typeof t||t.$$typeof&&"Symbol(react.element)"===t.$$typeof.toString())return t==r;if(Object.isFrozen(t)||Object.isFrozen(r))return t===r;var n=void 0===t.areEquivPropertyTracking,s=void 0===r.areEquivPropertyTracking;try{let e;if(n)t.areEquivPropertyTracking=[];else if(t.areEquivPropertyTracking.some(function(e){return e===r}))return!0;if(s)r.areEquivPropertyTracking=[];else if(r.areEquivPropertyTracking.some(e=>e===t))return!0;t.areEquivPropertyTracking.push(r),r.areEquivPropertyTracking.push(t);const a={};for(e in t)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in r)"areEquivPropertyTracking"!=e&&(a[e]=null);for(e in a)if(!this.areEquivalent(t[e],r[e]))return!1;return!0}finally{n&&delete t.areEquivPropertyTracking,s&&delete r.areEquivPropertyTracking}}}class m{constructor(){this.strategyMap={[t.ChangeDetectionStrategyType.DeepValueCheck]:new p,[t.ChangeDetectionStrategyType.IdentityCheck]:new u((e,t)=>e===t),[t.ChangeDetectionStrategyType.NoCheck]:new u((e,t)=>!1)}}getStrategy(e){return this.strategyMap[e]}}class d extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=o(),this.portalKey=o()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new ie.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=oe.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=r.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(oe.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[e+"Component"];if(r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class h{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||h.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}h.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const ce=le.createContext({}),G=(e,s,a,o)=>{var t=!e||e.componentFromFramework;if(!t){const i=e.newAgStackInstance();if(i){let t,r,n=!1;return i.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),g(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o&&g(o,void 0))}}}},g=(e,t)=>{if(e)if(e instanceof Function){const r=e;r(t)}else{const n=e;n.current=t}},ue=e=>{const t=oe.useRef(),r=oe.useRef(!1),n=oe.useRef(!1),[,s]=oe.useState(0);r.current&&(n.current=!0),oe.useEffect(()=>(r.current||(t.current=e(),r.current=!0),s(e=>e+1),()=>{n.current&&t.current&&t.current()}),[])},U=(...e)=>{const t=e.filter(e=>null!=e&&""!==e);return t.join(" ")};class pe{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){if(!!this.classesMap[e]==t)return this;const r=new pe;return r.classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const me=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},T=oe.forwardRef((r,e)=>{const n=oe.useContext(ce).context,s=oe.useRef(null),t=oe.useRef(null),a=oe.useRef(null),o=oe.useRef(null),i=oe.useRef(null),[l,c]=oe.useState(),[u,p]=oe.useState(),[m,d]=oe.useState(),[h,g]=oe.useState(new pe),[C,f]=oe.useState(new pe("ag-hidden")),[y,E]=oe.useState(new pe("ag-hidden")),[R,S]=oe.useState(new pe("ag-invisible"));oe.useImperativeHandle(e,()=>({refresh(){return!1}})),oe.useEffect(()=>G(l,n,t.current),[l]),ue(()=>{var e={setInnerRenderer:(e,t)=>{c(e),d(t)},setChildCount:e=>p(e),addOrRemoveCssClass:(t,r)=>g(e=>e.setClass(t,r)),setContractedDisplayed:t=>E(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>f(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>S(e=>e.setClass("ag-invisible",!t))};const t=n.createBean(new ie.GroupCellRendererCtrl);return t.init(e,s.current,a.current,o.current,i.current,T,r),()=>{n.destroyBean(t)}});var e=oe.useMemo(()=>"ag-cell-wrapper "+h.toString(),[h]),v=oe.useMemo(()=>"ag-group-expanded "+C.toString(),[C]),w=oe.useMemo(()=>"ag-group-contracted "+y.toString(),[y]),O=oe.useMemo(()=>"ag-group-checkbox "+R.toString(),[R]),b=l&&l.componentFromFramework,M=b?l.componentClass:void 0,I=null==l&&null!=m;return le.createElement("span",Object.assign({className:e,ref:s},r.colDef?{}:{role:"gridcell"}),le.createElement("span",{className:v,ref:o}),le.createElement("span",{className:w,ref:i}),le.createElement("span",{className:O,ref:a}),le.createElement("span",{className:"ag-group-value",ref:t},I&&le.createElement(le.Fragment,null,m),b&&le.createElement(M,Object.assign({},l.params))),le.createElement("span",{className:"ag-group-child-count"},u))});var v=oe.memo(e=>{const t=oe.useContext(ce)["context"],[r,n]=oe.useState(),[s,a]=oe.useState(),[o,i]=oe.useState(),[l,c]=oe.useState(),[u,p]=oe.useState(),[m,d]=oe.useState(),h=oe.useRef(null),g=oe.useRef(null),C=oe.useRef(),f=e["ctrl"],y=oe.useMemo(()=>new ie.CssClassManager(()=>h.current),[]);ue(()=>{var e={setWidth:e=>n(e),addOrRemoveCssClass:(e,t)=>y.addOrRemoveCssClass(e,t),setColId:e=>i(e),setTitle:e=>a(e),setAriaDescription:e=>p(e),setAriaSort:e=>c(e),setUserCompDetails:e=>d(e),getUserCompInstance:()=>C.current||void 0},e=(f.setComp(e,h.current,g.current),f.getSelectAllGui());g.current.insertAdjacentElement("afterend",e)}),oe.useEffect(()=>G(m,t,h.current,C),[m]),oe.useEffect(()=>{let t=void 0;h.current.childNodes.forEach(e=>{null!=e&&e!==g.current&&(t=e)}),f.setDragSource(t)},[m]);var e=oe.useMemo(()=>({width:r}),[r]),E=oe.useMemo(()=>{var e;return!!((null==(e=m)?void 0:e.componentFromFramework)&&me(m.componentClass))},[m]),R=m&&m.componentFromFramework,S=m&&m.componentClass;return le.createElement("div",{ref:h,className:"ag-header-cell",style:e,title:s,"col-id":o,"aria-sort":l,role:"columnheader",tabIndex:-1,"aria-description":u},le.createElement("div",{ref:g,className:"ag-header-cell-resize",role:"presentation"}),R&&E&&le.createElement(S,Object.assign({},m.params)),R&&!E&&le.createElement(S,Object.assign({},m.params,{ref:C})))}),w=oe.memo(e=>{const t=oe.useContext(ce)["context"],[r,n]=oe.useState(new pe),[s,a]=oe.useState(new pe),[o,i]=oe.useState(),[l,c]=oe.useState(),[u,p]=oe.useState(),[m,d]=oe.useState(),[h,g]=oe.useState(),C=oe.useRef(null),f=oe.useRef(null),y=e["ctrl"];ue(()=>{var e={setWidth:e=>i(e),addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setColId:e=>p(e),setTitle:e=>c(e),setUserCompDetails:e=>g(e),addOrRemoveResizableCssClass:(t,r)=>a(e=>e.setClass(t,r)),setAriaExpanded:e=>d(e)};y.setComp(e,C.current,f.current)}),oe.useEffect(()=>G(h,t,C.current),[h]),oe.useEffect(()=>{let t=void 0;C.current.childNodes.forEach(e=>{null!=e&&e!==f.current&&(t=e)}),t&&y.setDragSource(t)},[h]);var e=oe.useMemo(()=>({width:o}),[o]),E=oe.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),R=oe.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),S=h&&h.componentFromFramework,v=h&&h.componentClass;return le.createElement("div",{ref:C,className:E,style:e,title:l,"col-id":u,role:"columnheader",tabIndex:-1,"aria-expanded":m},S&&le.createElement(v,Object.assign({},h.params)),le.createElement("div",{ref:f,className:R}))}),O=oe.memo(e=>{const t=oe.useContext(ce)["context"],[r,n]=oe.useState(new pe),[s,a]=oe.useState(new pe),[o,i]=oe.useState(new pe),[l,c]=oe.useState(),[u,p]=oe.useState(),m=oe.useRef(null),d=oe.useRef(null);var h=oe.useRef(null);const g=oe.useRef(null),C=oe.useRef(!1),f=oe.useRef(),y=oe.useRef(),E=(ue(()=>{y.current=new ie.AgPromise(e=>{f.current=e})}),e=>{C.current||null!=e&&(f.current&&f.current(e),C.current=!0)}),R=e["ctrl"];ue(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>a(e=>e.setClass(t,r)),addOrRemoveButtonWrapperCssClass:(t,r)=>i(e=>e.setClass(t,r)),setWidth:e=>c(e),setCompDetails:e=>p(e),getFloatingFilterComp:()=>y.current||null,setMenuIcon:e=>g.current.appendChild(e)};R.setComp(e,m.current,g.current,d.current)}),oe.useEffect(()=>G(u,t,d.current,E),[u]);var e=oe.useMemo(()=>({width:l}),[l]),S=oe.useMemo(()=>"ag-header-cell ag-floating-filter "+r.toString(),[r]),v=oe.useMemo(()=>s.toString(),[s]),w=oe.useMemo(()=>"ag-floating-filter-button "+o.toString(),[s]),O=oe.useMemo(()=>{return!!(u&&u.componentFromFramework&&me(u.componentClass))},[u]),b=u&&u.componentFromFramework,M=u&&u.componentClass;return le.createElement("div",{ref:m,className:S,style:e,role:"gridcell",tabIndex:-1},le.createElement("div",{ref:d,className:v,role:"presentation"},b&&O&&le.createElement(M,Object.assign({},u.params)),b&&!O&&le.createElement(M,Object.assign({},u.params,{ref:E}))),le.createElement("div",{ref:h,className:w,role:"presentation"},le.createElement("button",{ref:g,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}),b=oe.memo(e=>{const s=oe.useContext(ce)["gridOptionsWrapper"],[t,r]=oe.useState(),[n,a]=oe.useState(),[o,i]=oe.useState(),[l,c]=oe.useState(),[u,p]=oe.useState(),[m,d]=oe.useState([]);var h=oe.useRef(null);const g=e["ctrl"],C=g.getType()===ie.HeaderRowType.COLUMN,f=g.getType()===ie.HeaderRowType.COLUMN_GROUP,y=g.getType()===ie.HeaderRowType.FLOATING_FILTER,E=oe.useCallback((e,t)=>{if(s.isEnsureDomOrder())return t;const r=ie._.mapById(e,e=>e.getInstanceId()),n=ie._.mapById(t,e=>e.getInstanceId());e=e.filter(e=>n.has(e.getInstanceId())),t=t.filter(e=>!r.has(e.getInstanceId()));return[...e,...t]},[]);ue(()=>{var e={setTransform:e=>r(e),setHeight:e=>a(e),setTop:e=>i(e),setHeaderCtrls:t=>d(e=>E(e,t)),setWidth:e=>c(e),setAriaRowIndex:e=>p(e)};g.setComp(e)});var e=oe.useMemo(()=>({transform:t,height:n,top:o,width:l}),[t,n,o,l]),R=oe.useMemo(()=>{const e=["ag-header-row"];return C&&e.push("ag-header-row-column"),f&&e.push("ag-header-row-column-group"),y&&e.push("ag-header-row-column-filter"),e.join(" ")},[]),S=oe.useCallback(e=>{switch(g.getType()){case ie.HeaderRowType.COLUMN_GROUP:return le.createElement(w,{ctrl:e,key:e.getInstanceId()});case ie.HeaderRowType.FLOATING_FILTER:return le.createElement(O,{ctrl:e,key:e.getInstanceId()});default:return le.createElement(v,{ctrl:e,key:e.getInstanceId()})}},[]);return le.createElement("div",{ref:h,className:R,role:"row",style:e,"aria-rowindex":u},m.map(S))}),C=oe.memo(r=>{const[e,n]=oe.useState(new pe),[t,s]=oe.useState(),[a,o]=oe.useState(),[i,l]=oe.useState(),[c,u]=oe.useState([]),p=oe.useContext(ce)["context"],m=oe.useRef(null);var d=r.pinned===ie.Constants.PINNED_LEFT,h=r.pinned===ie.Constants.PINNED_RIGHT,g=!d&&!h,C=(ue(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setCtrls:e=>u(e),setCenterWidth:e=>s(e),setContainerTransform:e=>o(e),setPinnedContainerWidth:e=>l(e)};const t=p.createBean(new ie.HeaderRowContainerCtrl(r.pinned));return t.setComp(e,m.current),()=>{p.destroyBean(t)}}),oe.useMemo(()=>e.toString(),[e])),f=()=>c.map(e=>le.createElement(b,{ctrl:e,key:e.getInstanceId()})),y=oe.useMemo(()=>({width:t,transform:a}),[t,a]),E=oe.useMemo(()=>({width:i,minWidth:i,maxWidth:i}),[i]);return le.createElement(le.Fragment,null,d&&le.createElement("div",{ref:m,className:"ag-pinned-left-header "+C,role:"presentation",style:E},f()),h&&le.createElement("div",{ref:m,className:"ag-pinned-right-header "+C,role:"presentation",style:E},f()),g&&le.createElement("div",{ref:m,className:"ag-header-viewport "+C,role:"presentation"},le.createElement("div",{className:"ag-header-container",role:"rowgroup",style:y},f())))}),L=oe.memo(()=>{const[e,n]=oe.useState(new pe),[t,r]=oe.useState(),s=oe.useContext(ce)["context"],a=oe.useRef(null);ue(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)};const t=s.createBean(new ie.GridHeaderCtrl);return t.setComp(e,a.current,a.current),()=>{s.destroyBean(t)}});var o=oe.useMemo(()=>{return"ag-header "+e.toString()},[e]),i=oe.useMemo(()=>({height:t,minHeight:t}),[t]);return le.createElement("div",{ref:a,className:o,style:i,role:"presentation"},le.createElement(C,{pinned:ie.Constants.PINNED_LEFT}),le.createElement(C,{pinned:null}),le.createElement(C,{pinned:ie.Constants.PINNED_RIGHT}))});const j=(n,s)=>{ue(()=>{var e=s.current;const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}})};var de=oe.memo(c=>{const[e,u]=oe.useState(),{context:p,popupService:m,gridOptionsWrapper:d}=oe.useContext(ce);return ue(()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=d.isStopEditingWhenCellsLoseFocus();const a=p.createBean(new ie.PopupEditorWrapper(n.params)),o=a.getGui();c.jsChildComp&&(n=c.jsChildComp.getGui())&&o.appendChild(n);n={column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:o,keepWithinBounds:!0},n=("under"===e.popupPosition?m.positionPopupUnderComponent:m.positionPopupOverComponent).bind(m,n);const i=d.getLocaleTextFunc();s=m.addPopup({modal:s,eChild:o,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:n,ariaLabel:i("ariaLabelCellEditor","Cell Editor")});const l=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=l&&l(),p.destroyBean(a)}}),le.createElement(le.Fragment,null,e&&c.wrappedContent&&r.createPortal(c.wrappedContent,e.getGui()))});var x=oe.memo(e=>{const s=oe.useContext(ce)["context"],{cellCtrl:i,printLayout:r,editingRow:n}=e,[a,o]=oe.useState(),[l,c]=oe.useState(),[t,u]=oe.useState(1),[p,m]=oe.useState(new pe),[d,h]=oe.useState(),[g,x]=oe.useState(),[_,B]=oe.useState(),[U,j]=oe.useState(),[L,H]=oe.useState(),[W,V]=oe.useState(),[C,q]=oe.useState(!1),[f,$]=oe.useState(!1),[y,z]=oe.useState(!1),[K,E]=oe.useState();e=oe.useMemo(()=>i.isForceWrapper(),[]);const R=oe.useRef(null),S=oe.useRef(null),v=oe.useRef(),w=oe.useRef(),O=oe.useRef(),[Y,X]=oe.useState(0);var Z=oe.useCallback(e=>{O.current=e,X(e=>e+1)},[]);const b=oe.useRef(),[J,Q]=oe.useState(0),ee=oe.useCallback(e=>{b.current=e,Q(e=>e+1)},[]);var M=null!=a&&(C||y||f);const I=e||M,T=oe.useCallback((e,t)=>{if(w.current=t){{var r=t;var n=i;const s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;ie._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;ie._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>i.stopEditing(),0)}},[]),te=oe.useCallback(e=>T(!0,e),[]),re=oe.useCallback(e=>T(!1,e),[]);{var P=a,D=I,N=b.current,k=(e=J,v),ne=R;const F=oe.useContext(ce)["context"],G=oe.useCallback(()=>{const e=k.current;if(e){const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),F.destroyBean(e),k.current=void 0}},[]);oe.useEffect(()=>{var e=P&&P.compDetails&&!P.compDetails.componentFromFramework;if(null!=P&&e&&!(D&&null==N)){const t=P.compDetails;if(k.current){const n=k.current;e=null!=n.refresh&&0==P.force&&n.refresh(t.params);if(!0===e||void 0===e)return;G()}const r=t.newAgStackInstance();if(r){const n=r.resolveNow(null,e=>e);if(n){e=n.getGui();if(e){const s=D?N:ne.current;s.appendChild(e),k.current=n}}}}else G()},[P,D,e]),ue(()=>G)}const A=oe.useRef(),se=(oe.useEffect(()=>{var e=A.current,t=a;A.current=a,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass&&null!=S.current&&null!=S.current.refresh&&1!=S.current.refresh(t.params)&&u(e=>e+1))},[a]),oe.useEffect(()=>{if(l&&!l.compDetails.componentFromFramework){var e=l.compDetails;const t=!0===l.popup,r=(e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return T(t,r),t||(R.current.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),E(r),()=>{s.destroyBean(r),T(t,void 0),E(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[l]),oe.useEffect(()=>{if(i&&s&&(B(O.current?"cell-"+i.getInstanceId():void 0),O.current&&I)){const r=[];var e=e=>{if(e){const t=e.getGui();O.current.insertAdjacentElement("afterbegin",t),r.push(()=>{s.destroyBean(e),ie._.removeFromParent(t)})}return e};return C&&e(i.createSelectionCheckbox()),y&&e(i.createDndSource()),f&&e(i.createRowDragComp()),()=>{r.forEach(e=>{e()})}}},[I,y,f,C,Y]),ue(()=>{var e,t;i&&(e={addOrRemoveCssClass:(t,r)=>m(e=>e.setClass(t,r)),setUserStyles:e=>h(e),getFocusableElement:()=>R.current,setTabIndex:e=>x(e),setRole:e=>j(e),setColId:e=>H(e),setTitle:e=>V(e),setIncludeSelection:e=>q(e),setIncludeRowDrag:e=>$(e),setIncludeDndSource:e=>z(e),getCellEditor:()=>w.current||null,getCellRenderer:()=>S.current||v.current,getParentOfValue:()=>b.current||O.current||R.current,setRenderDetails:(e,t,r)=>{o({value:t,compDetails:e,force:r})},setEditDetails:(e,t,r)=>{e?(c({compDetails:e,popup:t,popupPosition:r}),t||o(void 0)):c(void 0)}},t=O.current||void 0,i.setComp(e,R.current,t,r,n))}),oe.useMemo(()=>{return!!(a&&a.compDetails&&a.compDetails.componentFromFramework&&me(a.compDetails.componentClass))},[a]));e=oe.useMemo(()=>{let e=p.toString();return I||(e+=" ag-cell-value"),e},[p,M]);const ae=oe.useMemo(()=>i.getInstanceId(),[]);M=()=>le.createElement(le.Fragment,null,null!=a&&((e,t,r,n,s,a,o)=>{const{compDetails:i,value:l}=e,c=!i,u=i&&i.componentFromFramework,p=i&&i.componentClass,m=l&&l.toString?l.toString():l;e=()=>le.createElement(le.Fragment,null,c&&le.createElement(le.Fragment,null,m),u&&!a&&le.createElement(p,Object.assign({},i.params,{key:t,ref:n})),u&&a&&le.createElement(p,Object.assign({},i.params,{key:t})));return le.createElement(le.Fragment,null,s?le.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(a,t,ae,S,I,se,ee),null!=l&&((e,t,r,n,s,a)=>{var o=e.compDetails,i=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup;return le.createElement(le.Fragment,null,l&&le.createElement(i,Object.assign({},e.compDetails.params,{ref:t})),c&&le.createElement(de,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:le.createElement(i,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&le.createElement(de,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))})(l,re,te,R.current,i,K));return le.createElement("div",{ref:R,className:e,style:d,tabIndex:g,role:U,"col-id":L,title:W,"aria-describedby":_},I?le.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Z},M()):M())});var M=oe.memo(e=>{const t=oe.useContext(ce)["context"],{rowCtrl:r,containerType:n}=e,[s,a]=oe.useState(),[o,i]=oe.useState(),[l,c]=oe.useState(),[u,p]=oe.useState(),[m,d]=oe.useState(),[h,g]=oe.useState(),[C,f]=oe.useState({list:[],instanceIdMap:new Map}),[y,E]=oe.useState(),[R,S]=oe.useState(!1),[v,w]=oe.useState(r.getInitialRowTop()),[O,b]=oe.useState(r.getInitialTransform()),M=oe.useRef(null),I=oe.useRef(),T=oe.useRef(!1),[P,D]=oe.useState(0),N=(oe.useEffect(()=>{var e;T.current||!y||10<P||((e=null==(e=M.current)?void 0:e.firstChild)?(r.setupDetailRowAutoHeight(e),T.current=!0):D(e=>e+1))},[y,P]),oe.useMemo(()=>new ie.CssClassManager(()=>M.current),[]));ue(()=>{var e;r.isAlive()&&(e={setTop:e=>w(e),setTransform:e=>b(e),addOrRemoveCssClass:(e,t)=>N.addOrRemoveCssClass(e,t),setDomOrder:e=>S(e),setRowIndex:e=>a(e),setRowId:e=>i(e),setRowBusinessKey:e=>p(e),setTabIndex:e=>d(e),setUserStyles:e=>g(e),setRole:e=>c(e),setCellCtrls:l=>f(e=>{{var r=e,t;if(e=l,R){const i={list:e,instanceIdMap:new Map};return e.forEach(e=>i.instanceIdMap.set(e.getInstanceId(),e)),i}const n=[],s=[],a=new Map,o=new Map,i=(e.forEach(e=>o.set(e.getInstanceId(),e)),r.list.forEach(e=>{var t=e.getInstanceId();o.has(t)&&(n.push(e),a.set(t,e))}),e.forEach(e=>{var t=e.getInstanceId();r.instanceIdMap.has(t)||(s.push(e),a.set(t,e))}),{list:[...n,...s],instanceIdMap:a});return i}}),showFullWidth:e=>E(e),getFullWidthCellRenderer:()=>I.current},r.setComp(e,M.current,n))}),oe.useEffect(()=>G(y,t,M.current,I),[y]);var e=oe.useMemo(()=>{var e={top:v,transform:O};return Object.assign(e,h),e},[v,O,h]),k=y&&y.componentFromFramework,A=null!=C;const F=oe.useMemo(()=>{var e;return!!((null==(e=y)?void 0:e.componentFromFramework)&&me(y.componentClass))},[y]);return le.createElement("div",{ref:M,role:l,style:e,"row-index":s,"row-id":o,"row-business-key":u,tabIndex:m},A&&C.list.map(e=>le.createElement(x,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()})),k&&(e=y.componentClass,le.createElement(le.Fragment,null,F&&le.createElement(e,Object.assign({},y.params)),!F&&le.createElement(e,Object.assign({},y.params,{ref:I})))))}),H=oe.memo(e=>{const n=oe.useContext(ce)["context"],[t,s]=oe.useState(""),[r,a]=oe.useState([]),[o,i]=oe.useState([]),[l,c]=oe.useState(!1),[u,p]=oe.useState(""),m=e["name"],d=oe.useMemo(()=>ie.getRowContainerTypeForName(m),[m]),h=oe.useRef(null),g=oe.useRef(null),C=oe.useRef(null),f=oe.useMemo(()=>ie.RowContainerCtrl.getRowContainerCssClasses(m),[m]);var e=oe.useMemo(()=>U(f.wrapper),[]),y=oe.useMemo(()=>U(f.viewport),[]);const E=oe.useMemo(()=>U(f.container),[]);var R=m===ie.RowContainerName.CENTER,S=m===ie.RowContainerName.TOP_CENTER||m===ie.RowContainerName.BOTTOM_CENTER,v=!R&&!S,w=R?h:S?g:C,w=(j(" AG Row Container "+m+" ",w),oe.useEffect(()=>{a(e=>{if(l)return o;const t=e.filter(e=>0<=o.indexOf(e));e=o.filter(e=>t.indexOf(e)<0);return[...t,...e]})},[l,o]),ue(()=>{const e=[];var t={setViewportHeight:s,setRowCtrls:e=>i(e),setDomOrder:e=>c(e),setContainerWidth:e=>p(e)};const r=n.createBean(new ie.RowContainerCtrl(m));return e.push(r),r.setComp(t,C.current,g.current,h.current),()=>{n.destroyBeans(e)}}),oe.useMemo(()=>({height:t}),[t]));const O=oe.useMemo(()=>({width:u}),[u]);var b=()=>le.createElement("div",{className:E,ref:C,role:o.length?"rowgroup":"presentation",style:O},r.map(e=>le.createElement(M,{rowCtrl:e,containerType:d,key:e.getInstanceId()})));return le.createElement(le.Fragment,null,R&&le.createElement("div",{className:e,ref:h,role:"presentation"},le.createElement("div",{className:y,ref:g,role:"presentation",style:w},b())),S&&le.createElement("div",{className:y,ref:g,role:"presentation",style:w},b()),v&&b())}),I=oe.memo(()=>{const{context:s,agStackComponentsRegistry:a,resizeObserverService:o}=oe.useContext(ce),[e,i]=oe.useState(""),[t,l]=oe.useState(0),[r,c]=oe.useState(0),[n,u]=oe.useState(0),[p,m]=oe.useState(0),[d,h]=oe.useState(""),[g,C]=oe.useState(""),[f,y]=oe.useState(null),[E,R]=oe.useState(null),[S,v]=oe.useState(""),[w,O]=oe.useState(null),[b,M]=oe.useState("ag-layout-normal"),I=oe.useRef(null),T=oe.useRef(null),P=oe.useRef(null),D=oe.useRef(null);j(" AG Grid Body ",I),j(" AG Pinned Top ",T),j(" AG Middle ",P),j(" AG Pinned Bottom ",D),ue(()=>{const r=[],n=[];if(s){var e=e=>{const t=a.getComponentClass(e);e=s.createBean(new t);return r.push(e),e},e=(I.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),I.current.appendChild(e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),I.current.appendChild(document.createComment(" AG Overlay Wrapper ")),I.current.appendChild(e("AG-OVERLAY-WRAPPER").getGui()),{setRowAnimationCssOnBodyViewport:i,setColumnCount:l,setRowCount:c,setTopHeight:u,setBottomHeight:m,setTopDisplay:h,setBottomDisplay:C,setColumnMovingCss:y,updateLayoutClasses:M,setAlwaysVerticalScrollClass:R,setPinnedTopBottomOverflowY:v,setCellSelectableCss:O,registerBodyViewportResizeListener:e=>{const t=o.observeResize(P.current,e);n.push(()=>t())}});const t=s.createBean(new ie.GridBodyCtrl);return r.push(t),t.setComp(e,I.current,P.current,T.current,D.current),()=>{s.destroyBeans(r),n.forEach(e=>e())}}});var N=oe.useMemo(()=>U("ag-root","ag-unselectable",f,b),[f,b]),k=oe.useMemo(()=>U("ag-body-viewport",e,b,E,w),[e,b,E,w]),A=oe.useMemo(()=>U("ag-floating-top",w),[w]),F=oe.useMemo(()=>U("ag-floating-bottom",w),[w]),x=oe.useMemo(()=>({height:n,minHeight:n,display:d,overflowY:S}),[n,d,S]),_=oe.useMemo(()=>({height:p,minHeight:p,display:g,overflowY:S}),[p,g,S]);const B=e=>le.createElement(H,{name:e,key:e+"-container"});var G=({section:e,children:t,className:r,style:n})=>le.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(B));return le.createElement("div",{ref:I,className:N,role:"grid","aria-colcount":t,"aria-rowcount":r},le.createElement(L,null),G({section:T,className:A,style:x,children:[ie.RowContainerName.TOP_LEFT,ie.RowContainerName.TOP_CENTER,ie.RowContainerName.TOP_RIGHT,ie.RowContainerName.TOP_FULL_WIDTH]}),G({section:P,className:k,children:[ie.RowContainerName.LEFT,ie.RowContainerName.CENTER,ie.RowContainerName.RIGHT,ie.RowContainerName.FULL_WIDTH]}),G({section:D,className:F,style:_,children:[ie.RowContainerName.BOTTOM_LEFT,ie.RowContainerName.BOTTOM_CENTER,ie.RowContainerName.BOTTOM_RIGHT,ie.RowContainerName.BOTTOM_FULL_WIDTH]}))}),f=oe.forwardRef((e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:a,gridCtrl:o}=e,i=oe.useContext(ce)["context"],l=oe.useRef(null),c=oe.useRef(null),u=oe.useRef(),[n,p]=oe.useState();oe.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){u.current.forceFocusOutOfContainer()}})),ue(()=>{var e=l.current,t=c.current,r={setTabIndex:e=>null==e?p(void 0):p(parseInt(e,10))};const n=u.current=i.createBean(new ie.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:s,onTabKeyDown:a,focusInnerElement:e=>o.focusInnerElement(e)}));return()=>{i.destroyBean(n)}});e=e=>le.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+e,role:"presentation",tabIndex:n,ref:"top"===e?l:c});return le.createElement(le.Fragment,null,e("top"),r,e("bottom"))}),P=oe.memo(f),D=oe.memo(({context:y})=>{const[e,r]=oe.useState(""),[t,n]=oe.useState(""),[s,a]=oe.useState(""),[o,i]=oe.useState(null),[l,c]=oe.useState(null),[u,p]=oe.useState(!1),[E,m]=oe.useState(),R=oe.useRef(null),S=oe.useRef(null),d=oe.useRef(),v=oe.useRef(null),h=oe.useRef(()=>{});var g=oe.useCallback(()=>{},[]);const w=oe.useMemo(()=>y.getBean("beans"),[]);j(" AG Grid ",S),ue(()=>{const e=R.current=y.createBean(new ie.GridCtrl);return()=>{y.destroyBean(e),R.current=null}}),ue(()=>{const e=R.current;h.current=e.focusInnerElement.bind(e);var t={destroyGridUi:()=>{},setRtlClass:r,addOrRemoveKeyboardFocusClass:e=>n(e?ie.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{d.current.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{const e=[];var t=S.current.querySelector(".ag-root"),r=S.current.querySelector(".ag-side-bar");return t&&e.push(t),r&&e.push(r),e},setCursor:i,setUserSelect:c};e.setComp(t,S.current,S.current),p(!0)}),oe.useEffect(()=>{if(E){const t=R.current,r=[],n=w["agStackComponentsRegistry"],s=n.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),a=n.getComponentClass("AG-SIDE-BAR"),o=n.getComponentClass("AG-STATUS-BAR"),i=n.getComponentClass("AG-WATERMARK"),l=n.getComponentClass("AG-PAGINATION"),c=[],u=S.current,p=v.current;if(t.showDropZones()&&s){const m=y.createBean(new s);var e=m.getGui();u.insertAdjacentElement("afterbegin",e),c.push(e),r.push(m)}if(t.showSideBar()&&a){const d=y.createBean(new a);e=d.getGui();const h=p.querySelector(".ag-tab-guard-bottom");h&&(h.insertAdjacentElement("beforebegin",e),c.push(e)),r.push(d)}if(t.showStatusBar()&&o){const g=y.createBean(new o);e=g.getGui();u.insertAdjacentElement("beforeend",e),c.push(e),r.push(g)}if(l){const C=y.createBean(new l);e=C.getGui();u.insertAdjacentElement("beforeend",e),c.push(e),r.push(C)}if(t.showWatermark()&&i){const f=y.createBean(new i);e=f.getGui();u.insertAdjacentElement("beforeend",e),c.push(e),r.push(f)}return()=>{y.destroyBeans(r),c.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[E]);var C=oe.useMemo(()=>U("ag-root-wrapper",e,t,s),[e,t,s]),f=oe.useMemo(()=>U("ag-root-wrapper-body","ag-focus-managed",s),[s]),O=oe.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=o?o:""}),[l,o]),b=v.current,M=oe.useCallback(e=>{d.current=e,m(!0)},[]);return le.createElement("div",{ref:S,className:C,style:O},le.createElement("div",{className:f,ref:v},u&&b&&le.createElement(ce.Provider,{value:w},le.createElement(P,{ref:M,eFocusableElement:b,onTabKeyDown:g,gridCtrl:R.current},le.createElement(I,null)))))});class R extends oe.Component{constructor(e){super(e),this.props=e,this.destroyFuncs=[],this.changeDetectionService=new m,this.eGui=le.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.renderedAfterMount=!1,this.mounted=!1,this.state={context:void 0},this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs),this.destroyFuncs.push(()=>this.portalManager.destroy())}render(){return this.state.context,this.state.context&&(this.renderedAfterMount=!0),le.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&le.createElement(D,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){if(!this.mounted){this.mounted=!0;var e=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new N(this.portalManager)},modules:e,frameworkOverrides:new y(!0)},t=(this.gridOptions=this.props.gridOptions||{},this.props)["children"];l.hasChildColumns(t)&&(this.gridOptions.columnDefs=l.mapChildColumnDefs(t)),this.gridOptions=ie.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props);const r=new ie.GridCoreCreator;r.create(this.eGui.current,this.gridOptions,e=>{this.setState({context:e});const t=e.getBean(ie.CtrlsService.NAME);t.whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},e=>{const t=e.getBean(ie.CtrlsService.NAME);t.whenReady(()=>{this.whenReadyFuncs.forEach(e=>e()),this.whenReadyFuncs.length=0,this.ready=!0})},e)}}componentWillUnmount(){this.renderedAfterMount&&(this.destroyFuncs.forEach(e=>e()),this.destroyFuncs.length=0)}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processChanges(r)}extractDeclarativeColDefChanges(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs;if(l.hasChildColumns(e.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n));e=l.mapChildColumnDefs(e.children);a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})}else s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]})}}extractGridPropertyChanges(r,n,s){const a=!!n.debug;Object.keys(n).forEach(e=>{if(ie._.includes(ie.ComponentUtil.ALL_PROPERTIES,e)){const t=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e));t.areEqual(r[e],n[e])||(a&&console.log(`agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}}),ie.ComponentUtil.getEventCallbacks().forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}processChanges(e){this.processWhenReady(()=>ie.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi))}processWhenReady(e){this.ready?e():this.whenReadyFuncs.push(e)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||null!=this.props.getRowId||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||null!=this.props.gridOptions.getRowId)}}class N extends ie.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new d(e,this.parent,t)}}var k=oe.forwardRef((n,e)=>{const{ctrlsFactory:s,context:a,gridOptionsWrapper:o,resizeObserverService:i,clientSideRowModel:l,serverSideRowModel:c}=oe.useContext(ce),[t,u]=oe.useState(new pe),[r,p]=oe.useState(new pe),[m,d]=oe.useState(),[h,g]=oe.useState(),C=oe.useRef(),f=oe.useRef(null);var y=oe.useMemo(()=>t.toString()+" ag-details-row",[t]),E=oe.useMemo(()=>r.toString()+" ag-details-grid",[r]),e=(e&&oe.useImperativeHandle(e,()=>({refresh(){return C.current.refresh()}})),ue(()=>{n.template&&"string"==typeof n.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),ue(()=>{var t={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>p(e=>e.setClass(t,r)),setDetailGrid:e=>d(e),setRowData:e=>g(e),getGui:()=>f.current};const r=s.getInstance("detailCellRenderer");if(r){a.createBean(r),r.init(t,n),C.current=r;let e;return o.isDetailRowAutoHeight()&&(t=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{n.node.setRowHeight(e),l?l.onRowHeightChanged():c&&c.onRowHeightChanged()},0)}},e=i.observeResize(f.current,t),t()),()=>{a.destroyBean(r),e()}}}),oe.useCallback((e,t)=>{C.current.registerDetailWithMaster(e,t)},[]));return le.createElement("div",{className:y,ref:f},m&&le.createElement(R,Object.assign({className:E},m,{rowData:h,setGridApi:e})))});class y extends ie.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:T,agGroupRowRenderer:T,agDetailCellRenderer:k},this.reactUi=e}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;e=e.prototype;return!(e&&"getGui"in e)}}class E extends oe.Component{constructor(e){super(e),this.props=e,this.changeDetectionService=new m,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new h(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return le.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new A(this,this.portalManager)},modules:e,frameworkOverrides:new y(!1)};const t=this.props.gridOptions||{};var r=this.props["children"];l.hasChildColumns(r)&&(t.columnDefs=l.mapChildColumnDefs(r)),this.gridOptions=ie.ComponentUtil.copyAttributesToGridOptions(t,this.props),new ie.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}getStrategyTypeForProp(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return t.ChangeDetectionStrategyType.IdentityCheck}return t.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||null!=this.props.getRowId||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||null!=this.props.gridOptions.getRowId)}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractDeclarativeColDefChanges(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",s=this.gridOptions.columnDefs;if(l.hasChildColumns(e.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n));e=l.mapChildColumnDefs(e.children);a.areEqual(s,e)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:s,currentValue:e})}else s&&0<s.length&&(t[n]={previousValue:s,currentValue:[]})}}extractGridPropertyChanges(r,n,s){const a=!!n.debug;Object.keys(n).forEach(e=>{if(ie._.includes(ie.ComponentUtil.ALL_PROPERTIES,e)){const t=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(e));t.areEqual(r[e],n[e])||(a&&console.log(`agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}}),ie.ComponentUtil.getEventCallbacks().forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&ie.ComponentUtil.processOnChange(r,this.gridOptions,this.api,this.columnApi)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&ie.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi)})}}function S(e,t){e.forEach(e=>{E[e]=t})}E.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,E.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:E.MAX_COMPONENT_CREATION_TIME_IN_MS},E.propTypes={gridOptions:e.object},S(ie.ComponentUtil.getEventCallbacks(),e.func),S(ie.ComponentUtil.BOOLEAN_PROPERTIES,e.bool),S(ie.ComponentUtil.STRING_PROPERTIES,e.string),S(ie.ComponentUtil.OBJECT_PROPERTIES,e.object),S(ie.ComponentUtil.ARRAY_PROPERTIES,e.array),S(ie.ComponentUtil.NUMBER_PROPERTIES,e.number),S(ie.ComponentUtil.FUNCTION_PROPERTIES,e.func);class A extends ie.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new i(e,this.agGridReact,this.portalManager,t):new d(e,this.portalManager,t)}}class F extends oe.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){var e=this.props.suppressReactUi?E:R;return le.createElement(e,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}t.AgGridReact=F,t.AgGridReactLegacy=E,t.AgGridReactFire=R,t.AgGridColumn=l,Object.defineProperty(t,"__esModule",{value:!0})});
