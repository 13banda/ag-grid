!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react-dom/server"),require("react-dom"),require("react"),require("@ag-grid-community/core")):"function"==typeof define&&define.amd?define(["exports","prop-types","react-dom/server","react-dom","react","@ag-grid-community/core"],t):t(e.AgGridReact={},e.PropTypes,e.ReactDOMServer,e.ReactDOM,e.React,e.agGrid)}(this,function(e,t,s,r,ae,oe){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var ie="default"in ae?ae.default:ae;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function o(){return"agPortalKey_"+ ++a}class i extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new oe.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=ae.createElement(this.reactComponent,e),e=r.createPortal(e,this.eParentElement,o());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=i.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=ae.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}i.SLOW_RENDERING_THRESHOLD=3;class l extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=o(),this.portalKey=o()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new oe.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=ae.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=r.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(ae.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class c{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||c.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}c.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const le=ie.createContext({}),D=(e,s,a,o)=>{var i=!e||e.componentFromFramework;if(!i){i=e.newAgStackInstance();if(i){let t,r,n=!1;return i.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),u(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o)&&u(o,void 0)}}}},u=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},ce=e=>{const t=ae.useRef(e),r=ae.useRef(),n=ae.useRef(!1),s=ae.useRef(!1),[,a]=ae.useState(0);n.current&&(s.current=!0),ae.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},ue=e=>{const t=ae.useRef(e),r=ae.useRef(),n=ae.useRef(!1),s=ae.useRef(!1),[,a]=ae.useState(0);n.current&&(s.current=!0),ae.useLayoutEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},ee=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class P{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new P).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const pe=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},N=ae.forwardRef((r,e)=>{const n=ae.useContext(le).context,s=ae.useRef(null),t=ae.useRef(null),a=ae.useRef(null),o=ae.useRef(null),i=ae.useRef(null),[l,c]=ae.useState(),[u,p]=ae.useState(),[d,m]=ae.useState(),[h,C]=ae.useState(new P),[g,f]=ae.useState(new P("ag-hidden")),[R,E]=ae.useState(new P("ag-hidden")),[S,y]=ae.useState(new P("ag-invisible"));ae.useImperativeHandle(e,()=>({refresh(){return!1}})),ae.useEffect(()=>D(l,n,t.current),[l]),ce(()=>{var e={setInnerRenderer:(e,t)=>{c(e),m(t)},setChildCount:e=>p(e),addOrRemoveCssClass:(t,r)=>C(e=>e.setClass(t,r)),setContractedDisplayed:t=>E(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>f(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>y(e=>e.setClass("ag-invisible",!t))};const t=n.createBean(new oe.GroupCellRendererCtrl);return t.init(e,s.current,a.current,o.current,i.current,N,r),()=>{n.destroyBean(t)}});var e=ae.useMemo(()=>"ag-cell-wrapper "+h.toString(),[h]),w=ae.useMemo(()=>"ag-group-expanded "+g.toString(),[g]),v=ae.useMemo(()=>"ag-group-contracted "+R.toString(),[R]),M=ae.useMemo(()=>"ag-group-checkbox "+S.toString(),[S]),O=l&&l.componentFromFramework,b=O?l.componentClass:void 0,T=null==l&&null!=d,I=oe._.escapeString(d,!0);return ie.createElement("span",Object.assign({className:e,ref:s},r.colDef?{}:{role:"gridcell"}),ie.createElement("span",{className:w,ref:o}),ie.createElement("span",{className:v,ref:i}),ie.createElement("span",{className:M,ref:a}),ie.createElement("span",{className:"ag-group-value",ref:t},T&&ie.createElement(ie.Fragment,null,I),O&&ie.createElement(b,Object.assign({},l.params))),ie.createElement("span",{className:"ag-group-child-count"},u))});var w=ae.memo(e=>{const t=ae.useContext(le)["context"],[r,n]=ae.useState(),[s,a]=ae.useState(),[o,i]=ae.useState(),[l,c]=ae.useState(),[u,p]=ae.useState(),[d,m]=ae.useState(),h=ae.useRef(null),C=ae.useRef(null),g=ae.useRef(null),f=ae.useRef(),R=e["ctrl"],E=ae.useMemo(()=>new oe.CssClassManager(()=>h.current),[]);ue(()=>{var e={setWidth:e=>n(e),addOrRemoveCssClass:(e,t)=>E.addOrRemoveCssClass(e,t),setColId:e=>i(e),setTitle:e=>a(e),setAriaDescription:e=>p(e),setAriaSort:e=>c(e),setUserCompDetails:e=>m(e),getUserCompInstance:()=>f.current||void 0},e=(R.setComp(e,h.current,C.current,g.current),R.getSelectAllGui());C.current.insertAdjacentElement("afterend",e)}),ae.useEffect(()=>D(d,t,g.current,f),[d]),ae.useEffect(()=>{R.setDragSource(h.current)},[d]);var e=ae.useMemo(()=>({width:r}),[r]),S=ae.useMemo(()=>{return!!((null===d||void 0===d?void 0:d.componentFromFramework)&&pe(d.componentClass))},[d]),y=d&&d.componentFromFramework,w=d&&d.componentClass;return ie.createElement("div",{ref:h,className:"ag-header-cell",style:e,title:s,"col-id":o,"aria-sort":l,role:"columnheader",tabIndex:-1,"aria-description":u},ie.createElement("div",{ref:C,className:"ag-header-cell-resize",role:"presentation"}),ie.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&S&&ie.createElement(w,Object.assign({},d.params)),y&&!S&&ie.createElement(w,Object.assign({},d.params,{ref:f}))))}),v=ae.memo(e=>{const t=ae.useContext(le)["context"],[r,n]=ae.useState(new P),[s,a]=ae.useState(new P),[o,i]=ae.useState("false"),[l,c]=ae.useState(),[u,p]=ae.useState(),[d,m]=ae.useState(),[h,C]=ae.useState(),[g,f]=ae.useState(),R=ae.useRef(null),E=ae.useRef(null),S=e["ctrl"];ce(()=>{var e={setWidth:e=>c(e),addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setColId:e=>m(e),setTitle:e=>p(e),setUserCompDetails:e=>f(e),setResizableDisplayed:t=>{a(e=>e.setClass("ag-hidden",!t)),i(t?"false":"true")},setAriaExpanded:e=>C(e)};S.setComp(e,R.current,E.current)}),ae.useEffect(()=>D(g,t,R.current),[g]),ae.useEffect(()=>{let t=void 0;R.current.childNodes.forEach(e=>{null!=e&&e!==E.current&&(t=e)}),t&&S.setDragSource(t)},[g]);var e=ae.useMemo(()=>({width:l}),[l]),y=ae.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),w=ae.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),v=g&&g.componentFromFramework,M=g&&g.componentClass;return ie.createElement("div",{ref:R,className:y,style:e,title:u,"col-id":d,role:"columnheader",tabIndex:-1,"aria-expanded":h},v&&ie.createElement(M,Object.assign({},g.params)),ie.createElement("div",{ref:E,"aria-hidden":o,className:w}))}),M=ae.memo(e=>{const t=ae.useContext(le)["context"],[r,n]=ae.useState(new P("ag-header-cell","ag-floating-filter")),[s,a]=ae.useState(new P),[o,i]=ae.useState(new P("ag-floating-filter-button","ag-hidden")),[l,c]=ae.useState("false"),[u,p]=ae.useState(),[d,m]=ae.useState(),h=ae.useRef(null),C=ae.useRef(null);var g=ae.useRef(null);const f=ae.useRef(null),R=ae.useRef(!1),E=ae.useRef(),S=ae.useRef(),y=(ce(()=>{S.current=new oe.AgPromise(e=>{E.current=e})}),e=>{R.current||null!=e&&(E.current&&E.current(e),R.current=!0)}),w=e["ctrl"];ce(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>a(e=>e.setClass(t,r)),setButtonWrapperDisplayed:t=>{i(e=>e.setClass("ag-hidden",!t)),c(t?"false":"true")},setWidth:e=>p(e),setCompDetails:e=>m(e),getFloatingFilterComp:()=>S.current||null,setMenuIcon:e=>f.current.appendChild(e)};w.setComp(e,h.current,f.current,C.current)}),ae.useEffect(()=>D(d,t,C.current,y),[d]);var e=ae.useMemo(()=>({width:u}),[u]),v=ae.useMemo(()=>r.toString(),[r]),M=ae.useMemo(()=>s.toString(),[s]),O=ae.useMemo(()=>o.toString(),[o]),b=ae.useMemo(()=>{return!!(d&&d.componentFromFramework&&pe(d.componentClass))},[d]),T=d&&d.componentFromFramework,I=d&&d.componentClass;return ie.createElement("div",{ref:h,className:v,style:e,role:"gridcell",tabIndex:-1},ie.createElement("div",{ref:C,className:M,role:"presentation"},T&&b&&ie.createElement(I,Object.assign({},d.params)),T&&!b&&ie.createElement(I,Object.assign({},d.params,{ref:y}))),ie.createElement("div",{ref:g,"aria-hidden":l,className:O,role:"presentation"},ie.createElement("button",{ref:f,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}),O=ae.memo(e=>{const o=ae.useContext(le)["gridOptionsService"],[t,r]=ae.useState(),[n,s]=ae.useState(),[a,i]=ae.useState(),[l,c]=ae.useState(),[u,p]=ae.useState(),[d,m]=ae.useState([]);var h=ae.useRef(null);const C=e["ctrl"],g=C.getType()===oe.HeaderRowType.COLUMN,f=C.getType()===oe.HeaderRowType.COLUMN_GROUP,R=C.getType()===oe.HeaderRowType.FLOATING_FILTER,E=ae.useCallback((e,t)=>{var r=o.is("ensureDomOrder"),n=o.isDomLayout("print");if(r||n)return t;const s=oe._.mapById(e,e=>e.getInstanceId()),a=oe._.mapById(t,e=>e.getInstanceId());r=e.filter(e=>a.has(e.getInstanceId())),n=t.filter(e=>!s.has(e.getInstanceId()));return[...r,...n]},[]);ce(()=>{var e={setTransform:e=>r(e),setHeight:e=>s(e),setTop:e=>i(e),setHeaderCtrls:t=>m(e=>E(e,t)),setWidth:e=>c(e),setAriaRowIndex:e=>p(e)};C.setComp(e)});var e=ae.useMemo(()=>({transform:t,height:n,top:a,width:l}),[t,n,a,l]),S=ae.useMemo(()=>{var e=["ag-header-row"];return g&&e.push("ag-header-row-column"),f&&e.push("ag-header-row-column-group"),R&&e.push("ag-header-row-column-filter"),e.join(" ")},[]),y=ae.useCallback(e=>{switch(C.getType()){case oe.HeaderRowType.COLUMN_GROUP:return ie.createElement(v,{ctrl:e,key:e.getInstanceId()});case oe.HeaderRowType.FLOATING_FILTER:return ie.createElement(M,{ctrl:e,key:e.getInstanceId()});default:return ie.createElement(w,{ctrl:e,key:e.getInstanceId()})}},[]);return ie.createElement("div",{ref:h,className:S,role:"row",style:e,"aria-rowindex":u},d.map(y))}),p=ae.memo(r=>{const[e,n]=ae.useState(new P),[t,s]=ae.useState(!1),[a,o]=ae.useState(),[i,l]=ae.useState(),[c,u]=ae.useState(),[p,d]=ae.useState([]),m=ae.useContext(le)["context"],h=ae.useRef(null);var C="left"===r.pinned,g="right"===r.pinned,f=!C&&!g,R=(ce(()=>{var e={setDisplayed:t=>{n(e=>e.setClass("ag-hidden",!t)),s(!t)},setCtrls:e=>d(e),setCenterWidth:e=>o(e),setContainerTransform:e=>l(e),setPinnedContainerWidth:e=>u(e)};const t=m.createBean(new oe.HeaderRowContainerCtrl(r.pinned));return t.setComp(e,h.current),()=>{m.destroyBean(t)}}),ae.useMemo(()=>e.toString(),[e])),E=()=>p.map(e=>ie.createElement(O,{ctrl:e,key:e.getInstanceId()})),S=ae.useMemo(()=>({width:a,transform:i}),[a,i]),y=ae.useMemo(()=>({width:c,minWidth:c,maxWidth:c}),[c]);return ie.createElement(ie.Fragment,null,C&&ie.createElement("div",{ref:h,className:"ag-pinned-left-header "+R,"aria-hidden":t,role:"presentation",style:y},E()),g&&ie.createElement("div",{ref:h,className:"ag-pinned-right-header "+R,"aria-hidden":t,role:"presentation",style:y},E()),f&&ie.createElement("div",{ref:h,className:"ag-header-viewport "+R,role:"presentation"},ie.createElement("div",{className:"ag-header-container",role:"rowgroup",style:S},E())))}),te=ae.memo(()=>{const[e,n]=ae.useState(new P),[t,r]=ae.useState(),s=ae.useContext(le)["context"],a=ae.useRef(null);ce(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)};const t=s.createBean(new oe.GridHeaderCtrl);return t.setComp(e,a.current,a.current),()=>{s.destroyBean(t)}});var o=ae.useMemo(()=>{return"ag-header "+e.toString()},[e]),i=ae.useMemo(()=>({height:t,minHeight:t}),[t]);return ie.createElement("div",{ref:a,className:o,style:i,role:"presentation"},ie.createElement(p,{pinned:"left"}),ie.createElement(p,{pinned:null}),ie.createElement(p,{pinned:"right"}))});const re=(n,s)=>{ce(()=>{var e=s.current;const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}})};var de=ae.memo(c=>{const[e,u]=ae.useState(),{context:p,popupService:d,localeService:m,gridOptionsService:h}=ae.useContext(le);return ce(()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=h.is("stopEditingWhenCellsLoseFocus");const a=p.createBean(new oe.PopupEditorWrapper(n.params));var n=a.getGui(),o=(c.jsChildComp&&(o=c.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,position:e.popupPosition,keepWithinBounds:!0}),o=d.positionPopupByComponent.bind(d,o),i=m.getLocaleTextFunc(),s=d.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:i("ariaLabelCellEditor","Cell Editor")});const l=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=l&&l(),p.destroyBean(a)}}),ie.createElement(ie.Fragment,null,e&&c.wrappedContent&&r.createPortal(c.wrappedContent,e.getGui()))});var x=ae.memo(e=>{const s=ae.useContext(le)["context"],{cellCtrl:u,printLayout:r,editingRow:n}=e,[p,a]=ae.useState(),[d,o]=ae.useState(),[m,i]=ae.useState(1),[t,l]=ae.useState(),[c,x]=ae.useState(),[_,B]=ae.useState(),[U,L]=ae.useState(),[j,H]=ae.useState(),[W,V]=ae.useState(),[h,K]=ae.useState(!1),[C,Y]=ae.useState(!1),[g,$]=ae.useState(!1),[q,f]=ae.useState(),R=ae.useMemo(()=>u.isForceWrapper(),[]),E=ae.useRef(null),S=ae.useRef(null),y=ae.useRef(),w=ae.useRef(),v=ae.useRef(),[z,X]=ae.useState(0);e=ae.useCallback(e=>{v.current=e,X(e=>e+1)},[]);const M=ae.useRef(),[Z,J]=ae.useState(0),Q=ae.useCallback(e=>{M.current=e,J(e=>e+1)},[]);var O=null!=p&&(h||g||C);const b=R||O,T=ae.useCallback((e,t)=>{if(w.current=t){var r=t,n=u,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;oe._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;oe._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{u.stopEditing(!0),u.focusCell(!0)})}},[]),ee=ae.useCallback(e=>T(!0,e),[]),te=ae.useCallback(e=>T(!1,e),[]),I=ae.useMemo(()=>new oe.CssClassManager(()=>E.current),[]);{var P=p,N=b,k=M.current,A=(O=Z,y),re=E;const F=ae.useContext(le)["context"],D=ae.useCallback(()=>{var e,t=A.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),F.destroyBean(t),A.current=void 0)},[]);ae.useEffect(()=>{var e=P&&P.compDetails&&!P.compDetails.componentFromFramework;if(null!=P&&e&&!(N&&null==k)){e=P.compDetails;if(A.current){const r=A.current;var t=null!=r.refresh&&0==P.force&&r.refresh(e.params);if(!0===t||void 0===t)return;D()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);r&&(e=r.getGui())&&((N?k:re.current).appendChild(e),A.current=r)}}else D()},[P,N,O]),ce(()=>D)}const G=ae.useRef(),ne=(ae.useEffect(()=>{var e=G.current,t=p;G.current=p,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=S.current&&null!=S.current.refresh&&1!=S.current.refresh(t.params)&&i(e=>e+1)},[p]),ae.useEffect(()=>{if(d&&!d.compDetails.componentFromFramework){var e=d.compDetails;const t=!0===d.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return T(t,r),t||(null!=(e=(R?v:E).current)&&e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),f(r),()=>{s.destroyBean(r),T(t,void 0),f(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[d]),ae.useEffect(()=>{if(u&&s){var e="cell-"+u.getInstanceId(),t=[];if(t.push(e),v.current&&b){const n=[];var r,e=e=>{if(e){const t=e.getGui();v.current.insertAdjacentElement("afterbegin",t),n.push(()=>{s.destroyBean(e),oe._.removeFromParent(t)})}return e};return h&&(r=u.createSelectionCheckbox(),t.push(r.getCheckboxId()),e(r)),g&&e(u.createDndSource()),C&&e(u.createRowDragComp()),B(t.join(" ")),()=>n.forEach(e=>e())}}},[b,g,C,h,z]),ue(()=>{var e,t;u&&(e={addOrRemoveCssClass:(e,t)=>I.addOrRemoveCssClass(e,t),setUserStyles:e=>l(e),getFocusableElement:()=>E.current,setTabIndex:e=>x(e),setRole:e=>L(e),setColId:e=>H(e),setTitle:e=>V(e),setIncludeSelection:e=>K(e),setIncludeRowDrag:e=>Y(e),setIncludeDndSource:e=>$(e),getCellEditor:()=>w.current||null,getCellRenderer:()=>S.current||y.current,getParentOfValue:()=>M.current||v.current||E.current,setRenderDetails:(e,t,r)=>{a({value:t,compDetails:e,force:r})},setEditDetails:(e,t,r)=>{e?(o({compDetails:e,popup:t,popupPosition:r}),t||a(void 0)):o(void 0)}},t=v.current||void 0,u.setComp(e,E.current,t,r,n))}),ae.useMemo(()=>{return!!(p&&p.compDetails&&p.compDetails.componentFromFramework&&pe(p.compDetails.componentClass))},[p])),se=(ae.useEffect(()=>{var e;E.current&&(I.addOrRemoveCssClass("ag-cell-value",!b),I.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),I.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),I.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),null!=(e=u.getRowCtrl()))&&e.setInlineEditingCss(!!d)}),ae.useMemo(()=>u.getInstanceId(),[]));O=()=>{return ie.createElement(ie.Fragment,null,null!=p&&((e,t,r,n,s,a,o)=>{const{compDetails:i,value:l}=e,c=!i,u=i&&i.componentFromFramework,p=i&&i.componentClass,d=null!=l&&l.toString?l.toString():l;e=()=>ie.createElement(ie.Fragment,null,c&&ie.createElement(ie.Fragment,null,d),u&&!a&&ie.createElement(p,Object.assign({},i.params,{key:t,ref:n})),u&&a&&ie.createElement(p,Object.assign({},i.params,{key:t})));return ie.createElement(ie.Fragment,null,s?ie.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(p,m,se,S,b,ne,Q),null!=d&&(e=d,t=te,r=ee,n=E.current,s=u,a=q,o=e.compDetails,i=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,ie.createElement(ie.Fragment,null,l&&ie.createElement(i,Object.assign({},e.compDetails.params,{ref:t})),c&&ie.createElement(de,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:ie.createElement(i,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&ie.createElement(de,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,i,l,c};return ie.createElement("div",{ref:E,style:t,tabIndex:c,role:U,"col-id":j,title:W,"aria-describedby":_},b?ie.createElement("div",{className:"ag-cell-wrapper",role:"presentation","aria-hidden":"true",ref:e},O()):O())});var b=ae.memo(e=>{const t=ae.useContext(le)["context"],{rowCtrl:r,containerType:n}=e,[s,a]=ae.useState(),[o,i]=ae.useState(),[l,c]=ae.useState(),[u,p]=ae.useState(),[d,m]=ae.useState(),[h,C]=ae.useState(),[g,f]=ae.useState({list:[],instanceIdMap:new Map}),[R,E]=ae.useState(),[S,y]=ae.useState(!1),[w,v]=ae.useState(r.getInitialRowTop(n)),[M,O]=ae.useState(r.getInitialTransform(n)),b=ae.useRef(null),T=ae.useRef(),I=ae.useRef(!1),[P,N]=ae.useState(0),k=(ae.useEffect(()=>{var e;I.current||!R||10<P||((e=null==(e=b.current)?void 0:e.firstChild)?(r.setupDetailRowAutoHeight(e),I.current=!0):N(e=>e+1))},[R,P]),ae.useMemo(()=>new oe.CssClassManager(()=>b.current),[]));ue(()=>{var e;if(r.isAlive())return e={setTop:e=>v(e),setTransform:e=>O(e),addOrRemoveCssClass:(e,t)=>k.addOrRemoveCssClass(e,t),setDomOrder:e=>y(e),setRowIndex:e=>a(e),setRowId:e=>i(e),setRowBusinessKey:e=>p(e),setTabIndex:e=>m(e),setUserStyles:e=>C(e),setRole:e=>c(e),setCellCtrls:l=>f(e=>{{var r=e,t;if(e=l,S){const i={list:e,instanceIdMap:new Map};return e.forEach(e=>i.instanceIdMap.set(e.getInstanceId(),e)),i}const n=[],s=[],a=new Map,o=new Map,i=(e.forEach(e=>o.set(e.getInstanceId(),e)),r.list.forEach(e=>{var t=e.getInstanceId();o.has(t)&&(n.push(e),a.set(t,e))}),e.forEach(e=>{var t=e.getInstanceId();r.instanceIdMap.has(t)||(s.push(e),a.set(t,e))}),{list:[...n,...s],instanceIdMap:a});return i}}),showFullWidth:e=>E(e),getFullWidthCellRenderer:()=>T.current},r.setComp(e,b.current,n),()=>{r.unsetComp(n)}}),ae.useEffect(()=>D(R,t,b.current,T),[R]);var e=ae.useMemo(()=>{var e={top:w,transform:M};return Object.assign(e,h),e},[w,M,h]),A=R&&R.componentFromFramework,G=null!=g;const F=ae.useMemo(()=>{return!!((null===R||void 0===R?void 0:R.componentFromFramework)&&pe(R.componentClass))},[R]);return ie.createElement("div",{ref:b,role:l,style:e,"row-index":s,"row-id":o,"row-business-key":u,tabIndex:d},G&&g.list.map(e=>ie.createElement(x,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()})),A&&(e=R.componentClass,ie.createElement(ie.Fragment,null,F&&ie.createElement(e,Object.assign({},R.params)),!F&&ie.createElement(e,Object.assign({},R.params,{ref:T})))))}),ne=ae.memo(e=>{const n=ae.useContext(le)["context"],[t,s]=ae.useState(""),[r,a]=ae.useState([]),[o,i]=ae.useState([]),[l,c]=ae.useState(!1),[u,p]=ae.useState(""),d=e["name"],m=ae.useMemo(()=>oe.getRowContainerTypeForName(d),[d]),h=ae.useRef(null),C=ae.useRef(null),g=ae.useRef(null),f=ae.useMemo(()=>oe.RowContainerCtrl.getRowContainerCssClasses(d),[d]);var e=ae.useMemo(()=>ee(f.wrapper),[]),R=ae.useMemo(()=>ee(f.viewport),[]);const E=ae.useMemo(()=>ee(f.container),[]);var S=d===oe.RowContainerName.CENTER,y=d===oe.RowContainerName.TOP_CENTER||d===oe.RowContainerName.BOTTOM_CENTER||d===oe.RowContainerName.STICKY_TOP_CENTER,w=!S&&!y,v=S?h:y?C:g,v=(re(" AG Row Container "+d+" ",v),ae.useEffect(()=>{a(e=>{if(l)return o;const t=e.filter(e=>0<=o.indexOf(e));e=o.filter(e=>t.indexOf(e)<0);return[...t,...e]})},[l,o]),ce(()=>{const e=[];var t={setViewportHeight:s,setRowCtrls:e=>i(e),setDomOrder:e=>c(e),setContainerWidth:e=>p(e)},r=n.createBean(new oe.RowContainerCtrl(d));return e.push(r),r.setComp(t,g.current,C.current,h.current),()=>{n.destroyBeans(e)}}),ae.useMemo(()=>({height:t}),[t]));const M=ae.useMemo(()=>({width:u}),[u]);var O=()=>ie.createElement("div",{className:E,ref:g,role:o.length?"rowgroup":"presentation",style:M},r.map(e=>ie.createElement(b,{rowCtrl:e,containerType:m,key:e.getInstanceId()})));return ie.createElement(ie.Fragment,null,S&&ie.createElement("div",{className:e,ref:h,role:"presentation"},ie.createElement("div",{className:R,ref:C,role:"presentation",style:v},O())),y&&ie.createElement("div",{className:R,ref:C,role:"presentation",style:v},O()),w&&O())}),T=ae.memo(()=>{const{context:s,agStackComponentsRegistry:a,resizeObserverService:o}=ae.useContext(le),[e,i]=ae.useState(""),[t,l]=ae.useState(0),[r,c]=ae.useState(0),[n,u]=ae.useState(0),[p,d]=ae.useState(0),[m,h]=ae.useState("0px"),[C,g]=ae.useState("0px"),[f,R]=ae.useState("100%"),[E,S]=ae.useState(""),[y,w]=ae.useState(""),[v,x]=ae.useState(""),[M,_]=ae.useState(null),[O,B]=ae.useState(null),[b,U]=ae.useState(""),[T,L]=ae.useState(null),[I,j]=ae.useState("ag-layout-normal"),P=ae.useRef(null),N=ae.useRef(null),k=ae.useRef(null),A=ae.useRef(null),G=ae.useRef(null),F=ae.useRef(null);re(" AG Grid Body ",P),re(" AG Pinned Top ",N),re(" AG Sticky Top ",k),re(" AG Middle ",G),re(" AG Pinned Bottom ",F),ce(()=>{const t=[],r=[];var e,n;if(s)return e=e=>{e=a.getComponentClass(e),e=s.createBean(new e);return t.push(e),e},P.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),P.current.appendChild(e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),P.current.appendChild(document.createComment(" AG Overlay Wrapper ")),P.current.appendChild(e("AG-OVERLAY-WRAPPER").getGui()),A.current.appendChild(document.createComment(" AG Fake Vertical Scroll ")),A.current.appendChild(e("AG-FAKE-VERTICAL-SCROLL").getGui()),e={setRowAnimationCssOnBodyViewport:i,setColumnCount:l,setRowCount:c,setTopHeight:u,setBottomHeight:d,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:R,setTopDisplay:S,setBottomDisplay:w,setColumnMovingCss:_,updateLayoutClasses:j,setAlwaysVerticalScrollClass:B,setPinnedTopBottomOverflowY:U,setCellSelectableCss:L,setBodyViewportWidth:x,registerBodyViewportResizeListener:e=>{const t=o.observeResize(G.current,e);r.push(()=>t())}},n=s.createBean(new oe.GridBodyCtrl),t.push(n),n.setComp(e,P.current,G.current,N.current,F.current,k.current),()=>{s.destroyBeans(t),r.forEach(e=>e())}});var H=ae.useMemo(()=>ee("ag-root","ag-unselectable",M,I),[M,I]),W=ae.useMemo(()=>ee("ag-body-viewport",e,I,O,T),[e,I,O,T]),V=ae.useMemo(()=>ee("ag-body",I),[I]),K=ae.useMemo(()=>ee("ag-body-clipper",I),[I]),Y=ae.useMemo(()=>ee("ag-floating-top",T),[T]),$=ae.useMemo(()=>ee("ag-sticky-top",T),[T]),q=ae.useMemo(()=>ee("ag-floating-bottom",T),[T]),z=ae.useMemo(()=>({height:n,minHeight:n,display:E,overflowY:b}),[n,E,b]),X=ae.useMemo(()=>({height:m,top:C,width:f}),[m,C,f]),Z=ae.useMemo(()=>({height:p,minHeight:p,display:y,overflowY:b}),[p,y,b]),J=ae.useMemo(()=>({width:v}),[v]);const Q=e=>ie.createElement(ne,{name:e,key:e+"-container"});var D=({section:e,children:t,className:r,style:n})=>ie.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(Q));return ie.createElement("div",{ref:P,className:H,role:"treegrid","aria-colcount":t,"aria-rowcount":r},ie.createElement(te,null),D({section:N,className:Y,style:z,children:[oe.RowContainerName.TOP_LEFT,oe.RowContainerName.TOP_CENTER,oe.RowContainerName.TOP_RIGHT,oe.RowContainerName.TOP_FULL_WIDTH]}),ie.createElement("div",{className:V,ref:A,role:"presentation"},ie.createElement("div",{className:K,role:"presentation"},D({section:G,className:W,style:J,children:[oe.RowContainerName.LEFT,oe.RowContainerName.CENTER,oe.RowContainerName.RIGHT,oe.RowContainerName.FULL_WIDTH]}))),D({section:k,className:$,style:X,children:[oe.RowContainerName.STICKY_TOP_LEFT,oe.RowContainerName.STICKY_TOP_CENTER,oe.RowContainerName.STICKY_TOP_RIGHT,oe.RowContainerName.STICKY_TOP_FULL_WIDTH]}),D({section:F,className:q,style:Z,children:[oe.RowContainerName.BOTTOM_LEFT,oe.RowContainerName.BOTTOM_CENTER,oe.RowContainerName.BOTTOM_RIGHT,oe.RowContainerName.BOTTOM_FULL_WIDTH]}))}),C=ae.forwardRef((e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:a,gridCtrl:o}=e,i=ae.useContext(le)["context"],l=ae.useRef(null),c=ae.useRef(null),u=ae.useRef(),[n,p]=ae.useState();ae.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){u.current.forceFocusOutOfContainer()}})),ce(()=>{var e=l.current,t=c.current,r={setTabIndex:e=>null==e?p(void 0):p(parseInt(e,10))};const n=u.current=i.createBean(new oe.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:s,onTabKeyDown:a,focusInnerElement:e=>o.focusInnerElement(e)}));return()=>{i.destroyBean(n)}});e=e=>ie.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+e,role:"presentation",tabIndex:n,ref:"top"===e?l:c});return ie.createElement(ie.Fragment,null,e("top"),r,e("bottom"))}),I=ae.memo(C),g=ae.memo(({context:p})=>{const[e,r]=ae.useState(""),[t,n]=ae.useState(""),[s,a]=ae.useState(""),[o,i]=ae.useState(null),[l,c]=ae.useState(null),[u,d]=ae.useState(!1),[m,h]=ae.useState(),C=ae.useRef(null),g=ae.useRef(null),f=ae.useRef(),R=ae.useRef(null),E=ae.useRef(()=>{});var S=ae.useCallback(()=>{},[]);const y=ae.useMemo(()=>p.getBean("beans"),[]);re(" AG Grid ",g),ce(()=>{const e=C.current=p.createBean(new oe.GridCtrl);return()=>{p.destroyBean(e),C.current=null}}),ce(()=>{var e=C.current,t=(E.current=e.focusInnerElement.bind(e),{destroyGridUi:()=>{},setRtlClass:r,addOrRemoveKeyboardFocusClass:e=>n(e?oe.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{f.current.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{var e=[],t=g.current.querySelector(".ag-root"),r=g.current.querySelector(".ag-side-bar");return t&&e.push(t),r&&e.push(r),e},setCursor:i,setUserSelect:c});e.setComp(t,g.current,g.current),d(!0)}),ae.useEffect(()=>{if(m){var e=C.current;const c=[];var t=y["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const u=[];var o,i=g.current,l=R.current;return e.showDropZones()&&r&&(o=(r=p.createBean(new r)).getGui(),i.insertAdjacentElement("afterbegin",o),u.push(o),c.push(r)),e.showSideBar()&&n&&(r=(o=p.createBean(new n)).getGui(),(n=l.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),c.push(o)),e.showStatusBar()&&s&&(n=(l=p.createBean(new s)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(l)),t&&(o=(r=p.createBean(new t)).getGui(),i.insertAdjacentElement("beforeend",o),u.push(o),c.push(r)),e.showWatermark()&&a&&(n=(s=p.createBean(new a)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(s)),()=>{p.destroyBeans(c),u.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[m]);var w=ae.useMemo(()=>ee("ag-root-wrapper",e,t,s),[e,t,s]),v=ae.useMemo(()=>ee("ag-root-wrapper-body","ag-focus-managed",s),[s]),M=ae.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=o?o:""}),[l,o]),O=R.current,b=ae.useCallback(e=>{f.current=e,h(!0)},[]);return ie.createElement("div",{ref:g,className:w,style:M,role:"presentation"},ie.createElement("div",{className:v,ref:R,role:"presentation"},u&&O&&ie.createElement(le.Provider,{value:y},ie.createElement(I,{ref:b,eFocusableElement:O,onTabKeyDown:S,gridCtrl:C.current},ie.createElement(T,null)))))});class S extends ae.Component{constructor(e){super(e),this.props=e,this.destroyFuncs=[],this.eGui=ie.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.renderedAfterMount=!1,this.mounted=!1,this.state={context:void 0},this.portalManager=new c(this,e.componentWrappingElement,e.maxComponentCreationTimeMs),this.destroyFuncs.push(()=>this.portalManager.destroy())}render(){return this.state.context,this.state.context&&(this.renderedAfterMount=!0),ie.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&ie.createElement(g,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e;this.mounted||(this.mounted=!0,e=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new f(this.portalManager)},modules:e,frameworkOverrides:new d(!0)},this.gridOptions=this.props.gridOptions||{},this.gridOptions=oe.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props),this.checkForDeprecations(this.props),(new oe.GridCoreCreator).create(this.eGui.current,this.gridOptions,e=>{this.setState({context:e}),e.getBean(oe.CtrlsService.NAME).whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},e=>{e.getBean(oe.CtrlsService.NAME).whenReady(()=>{this.whenReadyFuncs.forEach(e=>e()),this.whenReadyFuncs.length=0,this.ready=!0})},e))}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&oe._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}componentWillUnmount(){this.renderedAfterMount&&(this.destroyFuncs.forEach(e=>e()),this.destroyFuncs.length=0)}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{oe.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),oe.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}processChanges(e){this.processWhenReady(()=>oe.ComponentUtil.processOnChange(e,this.api))}processWhenReady(e){this.ready?e():this.whenReadyFuncs.push(e)}}class f extends oe.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new l(e,this.parent,t)}}var R=ae.forwardRef((n,e)=>{const{ctrlsFactory:s,context:a,gridOptionsService:o,resizeObserverService:i,clientSideRowModel:l,serverSideRowModel:c}=ae.useContext(le),[t,u]=ae.useState(new P),[r,p]=ae.useState(new P),[d,m]=ae.useState(),[h,C]=ae.useState(),g=ae.useRef(),f=ae.useRef(null);var R=ae.useMemo(()=>t.toString()+" ag-details-row",[t]),E=ae.useMemo(()=>r.toString()+" ag-details-grid",[r]),e=(e&&ae.useImperativeHandle(e,()=>({refresh(){return g.current.refresh()}})),ce(()=>{n.template&&"string"==typeof n.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),ce(()=>{var t={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>p(e=>e.setClass(t,r)),setDetailGrid:e=>m(e),setRowData:e=>C(e),getGui:()=>f.current};const r=s.getInstance("detailCellRenderer");if(r){a.createBean(r),r.init(t,n),g.current=r;let e;return o.is("detailRowAutoHeight")&&(t=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{n.node.setRowHeight(e),l?l.onRowHeightChanged():c&&c.onRowHeightChanged()},0)}},e=i.observeResize(f.current,t),t()),()=>{a.destroyBean(r),e&&e()}}}),ae.useCallback((e,t)=>{g.current.registerDetailWithMaster(e,t)},[]));return ie.createElement("div",{className:R,ref:f},d&&ie.createElement(S,Object.assign({className:E},d,{rowData:h,setGridApi:e})))});class d extends oe.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:N,agGroupRowRenderer:N,agDetailCellRenderer:R},this.reactUi=e}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){return!(!e||(e=e.prototype)&&"getGui"in e)}}class m extends ae.Component{constructor(e){super(e),this.props=e,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new c(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return ie.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new E(this,this.portalManager)},modules:e,frameworkOverrides:new d(!1)},t=this.props.gridOptions||{};this.gridOptions=oe.ComponentUtil.copyAttributesToGridOptions(t,this.props),this.checkForDeprecations(this.props),new oe.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&oe._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{oe.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),oe.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&oe.ComponentUtil.processOnChange(r,this.api)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&oe.ComponentUtil.processOnChange(e,this.api)})}}function h(e,t){e.forEach(e=>{m[e]=t})}m.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,m.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:m.MAX_COMPONENT_CREATION_TIME_IN_MS},m.propTypes={gridOptions:t.object},h(oe.ComponentUtil.EVENT_CALLBACKS,t.func),h(oe.ComponentUtil.BOOLEAN_PROPERTIES,t.bool),h(oe.ComponentUtil.STRING_PROPERTIES,t.string),h(oe.ComponentUtil.OBJECT_PROPERTIES,t.object),h(oe.ComponentUtil.ARRAY_PROPERTIES,t.array),h(oe.ComponentUtil.NUMBER_PROPERTIES,t.number),h(oe.ComponentUtil.FUNCTION_PROPERTIES,t.func);class E extends oe.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new i(e,this.agGridReact,this.portalManager,t):new l(e,this.portalManager,t)}}class y extends ae.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){return this.props.suppressReactUi?ie.createElement(m,Object.assign({},this.props,{setGridApi:this.setGridApi})):ie.createElement(S,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}e.AgGridReact=y,e.AgGridReactLegacy=m,e.AgGridReactFire=S,Object.defineProperty(e,"__esModule",{value:!0})});
