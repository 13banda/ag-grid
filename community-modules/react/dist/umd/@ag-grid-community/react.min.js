(function(_e,Me){var Ve=typeof exports=="object";if(typeof define=="function"&&define.amd)define(["@ag-grid-community/core","react","react-dom"],Me);else if(typeof module=="object"&&module.exports)module.exports=Me(require("@ag-grid-community/core"),require("react"),require("react-dom"));else{var Pe=Ve?Me(require("@ag-grid-community/core"),require("react"),require("react-dom")):Me(_e["@ag-grid-community/core"],_e.react,_e["react-dom"]),ye=Ve?exports:_e;for(var Te in Pe)ye[Te]=Pe[Te]}})(typeof self<"u"?self:this,(_e,Me,Ve)=>{var Pe={},ye={exports:Pe},Te=Object.create,Ne=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,Pt=Object.getOwnPropertyNames,St=Object.getPrototypeOf,bt=Object.prototype.hasOwnProperty,_t=(e,t)=>{for(var r in t)Ne(e,r,{get:t[r],enumerable:!0})},et=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Pt(t))!bt.call(e,n)&&n!==r&&Ne(e,n,{get:()=>t[n],enumerable:!(s=Et(t,n))||s.enumerable});return e},se=(e,t,r)=>(r=e!=null?Te(St(e)):{},et(t||!e||!e.__esModule?Ne(r,"default",{value:e,enumerable:!0}):r,e)),Mt=e=>et(Ne({},"__esModule",{value:!0}),e),tt={};_t(tt,{AgGridReact:()=>Jr,ChangeDetectionStrategyType:()=>Rt,getInstance:()=>fr,useGridCellEditor:()=>Yr,useGridDate:()=>Zr,useGridFilter:()=>Xr,useGridFloatingFilter:()=>Qr,useGridMenuItem:()=>es,warnReactiveCustomComponents:()=>Ue}),ye.exports=Mt(tt);var rt=se(require("react"),1),he=require("@ag-grid-community/core"),k=se(require("react"),1),je=require("@ag-grid-community/core"),Fe=se(require("react"),1),Ft=require("react"),st=require("react"),Oe=require("@ag-grid-community/core"),Ot=require("react-dom"),It=require("react-dom/server"),Gt=require("@ag-grid-community/core"),kt=se(require("react"),1),Ke=se(require("react-dom"),1),nt=require("@ag-grid-community/core"),x=se(require("react"),1),At=require("@ag-grid-community/core"),j=se(require("react"),1),te=require("@ag-grid-community/core"),F=se(require("react"),1),ue=se(require("react"),1),Tt=require("@ag-grid-community/core"),le=se(require("react"),1),Nt=require("@ag-grid-community/core"),ot=require("@ag-grid-community/core"),de=se(require("react"),1),oe=se(require("react"),1),ze=require("@ag-grid-community/core"),Q=se(require("react"),1),B=se(require("react"),1),xt=require("@ag-grid-community/core"),at=require("@ag-grid-community/core"),Dt=require("react"),we=require("@ag-grid-community/core"),Z=se(require("react"),1),W=se(require("react"),1),Bt=require("@ag-grid-community/core"),xe=require("@ag-grid-community/core"),f=se(require("react"),1),Wt=require("@ag-grid-community/core"),Ie=se(require("react"),1),Ht=require("react-dom"),Se=require("react"),De=require("react"),Ut=require("@ag-grid-community/core"),pe=se(require("react"),1),Be=require("@ag-grid-community/core"),Lt=require("react"),qt=Object.defineProperty,Vt=Object.defineProperties,jt=Object.getOwnPropertyDescriptors,lt=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,ct=(e,t,r)=>t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))Kt.call(t,r)&&ct(e,r,t[r]);if(lt)for(var r of lt(t))zt.call(t,r)&&ct(e,r,t[r]);return e},ce=(e,t)=>Vt(e,jt(t)),We=(0,Ft.createContext)({setMethods:()=>{}}),$t=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[o,c]=(0,Fe.useState)(t);return(0,Fe.useEffect)(()=>{r(a=>c(a))},[]),Fe.default.createElement(We.Provider,{value:{setMethods:n}},Fe.default.createElement(s,z({},o)))},Jt=(0,Fe.memo)($t),Yt=0;function it(){return`agPortalKey_${++Yt}`}var ut=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=it(),this.portalKey=it(),this.instanceCreated=this.isStatelessComponent()?Oe.AgPromise.resolve(!1):new Oe.AgPromise(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Oe._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Oe._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new Oe.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0}),this.reactElement=this.createElement(this.reactComponent,ce(z({},e),{key:this.key})),this.portal=(0,Ot.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,st.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,t=>{e(t)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;const t=console.error;try{return console.error=()=>{},(0,It.renderToStaticMarkup)((0,st.createElement)(this.reactComponent,e))===""}catch{}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function $e(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var Re=class extends ut{constructor(){super(...arguments),this.awaitUpdateCallback=new je.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Jt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new je.AgPromise(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,$e(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return ce(z({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new je.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Zt=class extends Re{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Xt=class extends Re{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function dt(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Gt.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Qt=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return ce(z({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){$e(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),dt(this.floatingFilterParams,e)}},er=class extends Re{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),dt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},tr=class extends Re{refresh(e){this.sourceParams=e,this.refreshProps()}},rr=class extends Re{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},sr=class extends Re{refresh(e){this.sourceParams=e,this.refreshProps()}},nr=class extends Re{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},or=class extends Re{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},pt=class yt{constructor(t,r,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=r||"div",this.refresher=t,this.maxComponentCreationTimeMs=s||yt.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(r=>r!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,r,s){this.portals=[...this.portals,t],this.waitForInstance(r,s),this.batchUpdate()}updateReactPortal(t,r){this.portals[this.portals.indexOf(t)]=r,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,r,s=Date.now()){if(this.destroyed){r(null);return}if(t.rendered())r(t);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){r(t);return}console.error(`AG Grid: React Component '${t.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(t,r,s)})}}};pt.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var ar=pt,ie=kt.default.createContext({}),ge=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),me=class wt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new wt;return n.classesMap=z({},this.classesMap),n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},be=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},lr=Ke.default.createRoot!=null&&Ke.default.flushSync!=null,He=!1;function cr(e){return He||setTimeout(()=>He=!1,0),He=!0,e()}var Je=(e,t)=>{lr&&e&&!He?Ke.default.flushSync(t):t()};function Ye(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],o=new Map,c=new Map;for(let a=0;a<t.length;a++){const l=t[a];c.set(l.getInstanceId(),l)}for(let a=0;a<e.length;a++){const l=e[a];o.set(l.getInstanceId(),l),c.has(l.getInstanceId())&&s.push(l)}for(let a=0;a<t.length;a++){const l=t[a],d=l.getInstanceId();o.has(d)||n.push(l)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:[...s,...n]}var Ge=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();if(!o)return;let c,a,l=!1;return o.then(d=>{if(l){t.destroyBean(d);return}c=d,a=c.getGui(),r.appendChild(a),mt(s,c)}),()=>{l=!0,c&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(c),s&&mt(s,void 0))}},mt=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},ir=e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,r=>r)},ft=(0,x.forwardRef)((e,t)=>{var r;const s=(0,x.useContext)(ie).context,n=(0,x.useRef)(null),o=(0,x.useRef)(null),c=(0,x.useRef)(null),a=(0,x.useRef)(null),l=(0,x.useRef)(null),d=(0,x.useRef)(),[u,p]=(0,x.useState)(),[y,w]=(0,x.useState)(),[g,h]=(0,x.useState)(),[i,m]=(0,x.useState)(()=>new me),[C,v]=(0,x.useState)(()=>new me("ag-hidden")),[b,D]=(0,x.useState)(()=>new me("ag-hidden")),[I,S]=(0,x.useState)(()=>new me("ag-invisible"));(0,x.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,x.useLayoutEffect)(()=>Ge(u,s,o.current),[u]);const O=(0,x.useCallback)(V=>{if(n.current=V,!n.current){s.destroyBean(d.current),d.current=null;return}const re={setInnerRenderer:(E,N)=>{p(E),h(N)},setChildCount:E=>w(E),addOrRemoveCssClass:(E,N)=>m(ne=>ne.setClass(E,N)),setContractedDisplayed:E=>D(N=>N.setClass("ag-hidden",!E)),setExpandedDisplayed:E=>v(N=>N.setClass("ag-hidden",!E)),setCheckboxVisible:E=>S(N=>N.setClass("ag-invisible",!E))};d.current=s.createBean(new nt.GroupCellRendererCtrl),d.current.init(re,n.current,c.current,a.current,l.current,ft,e)},[]),R=(0,x.useMemo)(()=>`ag-cell-wrapper ${i.toString()}`,[i]),_=(0,x.useMemo)(()=>`ag-group-expanded ${C.toString()}`,[C]),A=(0,x.useMemo)(()=>`ag-group-contracted ${b.toString()}`,[b]),P=(0,x.useMemo)(()=>`ag-group-checkbox ${I.toString()}`,[I]),T=u&&u.componentFromFramework,q=T?u.componentClass:void 0,J=u==null&&g!=null,U=nt._.escapeString(g,!0);return x.default.createElement("span",z({className:R,ref:O},e.colDef?{}:{role:(r=d.current)==null?void 0:r.getCellAriaRole()}),x.default.createElement("span",{className:_,ref:a}),x.default.createElement("span",{className:A,ref:l}),x.default.createElement("span",{className:P,ref:c}),x.default.createElement("span",{className:"ag-group-value",ref:o},J&&x.default.createElement(x.default.Fragment,null,U),T&&x.default.createElement(q,z({},u.params))),x.default.createElement("span",{className:"ag-group-child-count"},y))}),Ct=ft,ur=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=(0,oe.useContext)(ie),n=r?t.getColId():void 0,[o,c]=(0,oe.useState)(),a=(0,oe.useRef)(null),l=(0,oe.useRef)(null),d=(0,oe.useRef)(null),u=(0,oe.useRef)();let p=(0,oe.useRef)();r&&!p.current&&(p.current=new ze.CssClassManager(()=>a.current));const y=(0,oe.useCallback)(i=>{var m;if(a.current=i,!a.current||!r)return;const C={setWidth:b=>{a.current&&(a.current.style.width=b)},addOrRemoveCssClass:(b,D)=>p.current.addOrRemoveCssClass(b,D),setAriaSort:b=>{a.current&&(b?ze._.setAriaSort(a.current,b):ze._.removeAriaSort(a.current))},setUserCompDetails:b=>c(b),getUserCompInstance:()=>u.current||void 0};t.setComp(C,a.current,l.current,d.current);const v=t.getSelectAllGui();(m=l.current)==null||m.insertAdjacentElement("afterend",v)},[]);(0,oe.useLayoutEffect)(()=>Ge(o,s,d.current,u),[o]),(0,oe.useEffect)(()=>{t.setDragSource(a.current)},[o]);const w=(0,oe.useMemo)(()=>!!(o?.componentFromFramework&&be(o.componentClass)),[o]),g=o&&o.componentFromFramework,h=o&&o.componentClass;return oe.default.createElement("div",{ref:y,className:"ag-header-cell","col-id":n,role:"columnheader"},oe.default.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),oe.default.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},g&&w&&oe.default.createElement(h,z({},o.params)),g&&!w&&oe.default.createElement(h,ce(z({},o.params),{ref:u}))))},dr=(0,oe.memo)(ur),pr=e=>{const{context:t}=(0,Q.useContext)(ie),{ctrl:r}=e,[s,n]=(0,Q.useState)(()=>new me),[o,c]=(0,Q.useState)(()=>new me),[a,l]=(0,Q.useState)("false"),[d,u]=(0,Q.useState)(),[p,y]=(0,Q.useState)(),w=(0,Q.useMemo)(()=>r.getColId(),[]),g=(0,Q.useRef)(null),h=(0,Q.useRef)(null),i=(0,Q.useRef)(),m=(0,Q.useCallback)(S=>{if(g.current=S,!g.current)return;const O={setWidth:R=>{g.current&&(g.current.style.width=R)},addOrRemoveCssClass:(R,_)=>n(A=>A.setClass(R,_)),setUserCompDetails:R=>y(R),setResizableDisplayed:R=>{c(_=>_.setClass("ag-hidden",!R)),l(R?"false":"true")},setAriaExpanded:R=>u(R),getUserCompInstance:()=>i.current||void 0};r.setComp(O,g.current,h.current)},[]);(0,Q.useLayoutEffect)(()=>Ge(p,t,g.current),[p]),(0,Q.useEffect)(()=>{g.current&&r.setDragSource(g.current)},[p]);const C=(0,Q.useMemo)(()=>!!(p?.componentFromFramework&&be(p.componentClass)),[p]),v=(0,Q.useMemo)(()=>"ag-header-group-cell "+s.toString(),[s]),b=(0,Q.useMemo)(()=>"ag-header-cell-resize "+o.toString(),[o]),D=p&&p.componentFromFramework,I=p&&p.componentClass;return Q.default.createElement("div",{ref:m,className:v,"col-id":w,role:"columnheader","aria-expanded":d},D&&C&&Q.default.createElement(I,z({},p.params)),D&&!C&&Q.default.createElement(I,ce(z({},p.params),{ref:i})),Q.default.createElement("div",{ref:h,"aria-hidden":a,className:b}))},mr=(0,Q.memo)(pr);function fr(e,t){var r,s;((s=(r=e?.getInstance)==null?void 0:r.call(e))!=null?s:at.AgPromise.resolve(void 0)).then(o=>t(o))}function Ue(){at._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var Cr=e=>{const{context:t,gridOptionsService:r}=(0,B.useContext)(ie),[s,n]=(0,B.useState)(()=>new me("ag-header-cell","ag-floating-filter")),[o,c]=(0,B.useState)(()=>new me),[a,l]=(0,B.useState)(()=>new me("ag-floating-filter-button","ag-hidden")),[d,u]=(0,B.useState)("false"),[p,y]=(0,B.useState)(),[w,g]=(0,B.useState)(1),h=(0,B.useRef)(null),i=(0,B.useRef)(null),m=(0,B.useRef)(null),C=(0,B.useRef)(null),v=(0,B.useRef)(),b=(0,B.useRef)(),D=V=>{V!=null&&v.current&&v.current(V)},{ctrl:I}=e,S=(0,B.useCallback)(V=>{if(h.current=V,!h.current)return;b.current=new xt.AgPromise(E=>{v.current=E});const re={addOrRemoveCssClass:(E,N)=>n(ne=>ne.setClass(E,N)),addOrRemoveBodyCssClass:(E,N)=>c(ne=>ne.setClass(E,N)),setButtonWrapperDisplayed:E=>{l(N=>N.setClass("ag-hidden",!E)),u(E?"false":"true")},setWidth:E=>{h.current&&(h.current.style.width=E)},setCompDetails:E=>y(E),getFloatingFilterComp:()=>b.current?b.current:null,setMenuIcon:E=>{var N;return(N=C.current)==null?void 0:N.appendChild(E)}};I.setComp(re,h.current,C.current,i.current)},[]);(0,B.useLayoutEffect)(()=>Ge(p,t,i.current,D),[p]);const O=(0,B.useMemo)(()=>s.toString(),[s]),R=(0,B.useMemo)(()=>o.toString(),[o]),_=(0,B.useMemo)(()=>a.toString(),[a]),A=(0,B.useMemo)(()=>!!(p&&p.componentFromFramework&&be(p.componentClass)),[p]),P=(0,B.useMemo)(()=>r.get("reactiveCustomComponents"),[]),T=(0,B.useMemo)(()=>{if(p)if(P){const V=new Qt(p.params,()=>g(re=>re+1));return D(V),V}else p.componentFromFramework&&Ue()},[p]),q=T?.getProps(),J=p&&p.componentFromFramework,U=p&&p.componentClass;return B.default.createElement("div",{ref:S,className:O,role:"gridcell"},B.default.createElement("div",{ref:i,className:R,role:"presentation"},J&&!P&&B.default.createElement(U,ce(z({},p.params),{ref:A?()=>{}:D})),J&&P&&B.default.createElement(We.Provider,{value:{setMethods:V=>T.setMethods(V)}},B.default.createElement(U,z({},q)))),B.default.createElement("div",{ref:m,"aria-hidden":d,className:_,role:"presentation"},B.default.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},hr=(0,B.memo)(Cr),gr=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=(0,de.useMemo)(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),o=t.getHeaderRowClass(),[c,a]=(0,de.useState)(()=>s+"px"),[l,d]=(0,de.useState)(()=>r+"px"),[u,p]=(0,de.useState)(()=>t.getHeaderCtrls()),y=(0,de.useRef)(null),w=(0,de.useCallback)(i=>{if(y.current=i,!i)return;const m={setHeight:C=>a(C),setTop:C=>d(C),setHeaderCtrls:(C,v,b)=>{Je(b,()=>{p(D=>Ye(D,C,v))})},setWidth:C=>{y.current&&(y.current.style.width=C)}};t.setComp(m,!1)},[]),g=(0,de.useMemo)(()=>({height:c,top:l}),[c,l]),h=(0,de.useCallback)(i=>{switch(t.getType()){case ot.HeaderRowType.COLUMN_GROUP:return de.default.createElement(mr,{ctrl:i,key:i.getInstanceId()});case ot.HeaderRowType.FLOATING_FILTER:return de.default.createElement(hr,{ctrl:i,key:i.getInstanceId()});default:return de.default.createElement(dr,{ctrl:i,key:i.getInstanceId()})}},[]);return de.default.createElement("div",{ref:w,className:o,role:"row",style:g,"aria-rowindex":n},u.map(h))},vr=(0,de.memo)(gr),Rr=e=>{const[t,r]=(0,le.useState)(!0),[s,n]=(0,le.useState)([]),{context:o}=(0,le.useContext)(ie),c=(0,le.useRef)(null),a=(0,le.useRef)(null),l=(0,le.useRef)(null),d=e.pinned==="left",u=e.pinned==="right",p=!d&&!u,y=(0,le.useCallback)(h=>{if(c.current=h,!c.current){o.destroyBean(l.current),l.current=null;return}const i={setDisplayed:r,setCtrls:m=>n(m),setCenterWidth:m=>{a.current&&(a.current.style.width=m)},setViewportScrollLeft:m=>{c.current&&(c.current.scrollLeft=m)},setPinnedContainerWidth:m=>{c.current&&(c.current.style.width=m,c.current.style.minWidth=m,c.current.style.maxWidth=m)}};l.current=o.createBean(new Nt.HeaderRowContainerCtrl(e.pinned)),l.current.setComp(i,c.current)},[]),w=t?"":"ag-hidden",g=()=>s.map(h=>le.default.createElement(vr,{ctrl:h,key:h.getInstanceId()}));return le.default.createElement(le.default.Fragment,null,d&&le.default.createElement("div",{ref:y,className:"ag-pinned-left-header "+w,"aria-hidden":!t,role:"rowgroup"},g()),u&&le.default.createElement("div",{ref:y,className:"ag-pinned-right-header "+w,"aria-hidden":!t,role:"rowgroup"},g()),p&&le.default.createElement("div",{ref:y,className:"ag-header-viewport "+w,role:"presentation"},le.default.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},g())))},Ze=(0,le.memo)(Rr),yr=()=>{const[e,t]=(0,ue.useState)(()=>new me),[r,s]=(0,ue.useState)(),{context:n}=(0,ue.useContext)(ie),o=(0,ue.useRef)(null),c=(0,ue.useRef)(null),a=(0,ue.useCallback)(u=>{if(o.current=u,!u){n.destroyBean(c.current),c.current=null;return}const p={addOrRemoveCssClass:(y,w)=>t(g=>g.setClass(y,w)),setHeightAndMinHeight:y=>s(y)};c.current=n.createBean(new Tt.GridHeaderCtrl),c.current.setComp(p,o.current,o.current)},[]),l=(0,ue.useMemo)(()=>"ag-header "+e.toString(),[e]),d=(0,ue.useMemo)(()=>({height:r,minHeight:r}),[r]);return ue.default.createElement("div",{ref:a,className:l,style:d,role:"presentation"},ue.default.createElement(Ze,{pinned:"left"}),ue.default.createElement(Ze,{pinned:null}),ue.default.createElement(Ze,{pinned:"right"}))},wr=(0,ue.memo)(yr),Er=(e,t)=>{(0,Dt.useEffect)(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},Ee=Er,Pr=e=>{const t=(0,Se.useRef)(e),r=(0,Se.useRef)(),s=(0,Se.useRef)(!1),n=(0,Se.useRef)(!1),[,o]=(0,Se.useState)(0);s.current&&(n.current=!0),(0,Se.useEffect)(()=>(s.current||(r.current=t.current(),s.current=!0),o(c=>c+1),()=>{n.current&&r.current&&r.current()}),[])},Sr=e=>{const[t,r]=(0,Ie.useState)(),{context:s,popupService:n,localeService:o,gridOptionsService:c}=(0,Ie.useContext)(ie);return Pr(()=>{const{editDetails:a,cellCtrl:l,eParentCell:d}=e,{compDetails:u}=a,p=c.get("stopEditingWhenCellsLoseFocus"),y=s.createBean(new Wt.PopupEditorWrapper(u.params)),w=y.getGui();if(e.jsChildComp){const v=e.jsChildComp.getGui();v&&w.appendChild(v)}const g={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:w,position:a.popupPosition,keepWithinBounds:!0},h=n.positionPopupByComponent.bind(n,g),i=o.getLocaleTextFunc(),m=n.addPopup({modal:p,eChild:w,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:d,positionCallback:h,ariaLabel:i("ariaLabelCellEditor","Cell Editor")}),C=m?m.hideFunc:void 0;return r(y),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{C?.(),s.destroyBean(y)}}),Ie.default.createElement(Ie.default.Fragment,null,t&&e.wrappedContent&&(0,Ht.createPortal)(e.wrappedContent,t.getGui()))},ht=(0,Ie.memo)(Sr),br=(e,t,r,s,n,o)=>{const{context:c}=(0,De.useContext)(ie),a=(0,De.useCallback)(()=>{const l=n.current;if(!l)return;const d=l.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),c.destroyBean(l),n.current=void 0},[]);(0,De.useEffect)(()=>{const l=e!=null,d=e&&e.compDetails&&!e.compDetails.componentFromFramework,u=t&&r==null;if(!(l&&d&&!u)){a();return}const y=e.compDetails;if(n.current){const m=n.current,v=m.refresh!=null&&e.force==!1?m.refresh(y.params):!1;if(v===!0||v===void 0)return;a()}const w=y.newAgStackInstance();if(!w)return;const g=w.resolveNow(null,m=>m);if(!g)return;const h=g.getGui();if(!h)return;(t?r:o.current).appendChild(h),n.current=g},[e,t,s]),(0,De.useEffect)(()=>a,[])},_r=br,Mr=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ut.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return ce(z({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){$e(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Fr=(e,t,r)=>{const s=r.getColumn();if(!e&&t.isPopup&&t.isPopup()){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;xe._.doOnce(()=>console.warn(n),"jsEditorComp-isPopup-"+r.getColumn().getColId())}if(e&&t.getPopupPosition&&t.getPopupPosition()!=null){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;xe._.doOnce(()=>console.warn(n),"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())}},Or=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),o=be(t);return f.default.createElement(We.Provider,{value:{setMethods:c=>s.setMethods(c)}},o&&f.default.createElement(t,z({},n)),!o&&f.default.createElement(t,ce(z({},n),{ref:c=>s.setRef(c)})))},gt=(e,t,r)=>{const s=e.compProxy;return f.default.createElement(f.default.Fragment,null,!s&&f.default.createElement(t,ce(z({},e.compDetails.params),{ref:r})),s&&Or(e,t,r))},Ir=(e,t,r,s,n,o)=>{const c=e.compDetails,a=c.componentClass,l=c.componentFromFramework&&!e.popup,d=c.componentFromFramework&&e.popup,u=!c.componentFromFramework&&e.popup;return f.default.createElement(f.default.Fragment,null,l&&gt(e,a,t),d&&f.default.createElement(ht,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:gt(e,a,r)}),u&&o&&f.default.createElement(ht,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:o}))},Gr=(e,t,r,s,n,o,c)=>{const{compDetails:a,value:l}=e,d=!a,u=a&&a.componentFromFramework,p=a&&a.componentClass,y=l?.toString?l.toString():l,w=()=>f.default.createElement(f.default.Fragment,null,d&&f.default.createElement(f.default.Fragment,null,y),u&&!o&&f.default.createElement(p,ce(z({},a.params),{key:t,ref:s})),u&&o&&f.default.createElement(p,ce(z({},a.params),{key:t})));return f.default.createElement(f.default.Fragment,null,n?f.default.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},w()):w())},kr=e=>{const{context:t}=(0,f.useContext)(ie),{cellCtrl:r,printLayout:s,editingRow:n}=e,o=r.getTabIndex(),c=r.getColumnIdSanitised(),a=r.getInstanceId(),[l,d]=(0,f.useState)(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[u,p]=(0,f.useState)(),[y,w]=(0,f.useState)(1),[g,h]=(0,f.useState)(),[i,m]=(0,f.useState)(!1),[C,v]=(0,f.useState)(!1),[b,D]=(0,f.useState)(!1),[I,S]=(0,f.useState)(),O=(0,f.useMemo)(()=>r.isForceWrapper(),[r]),R=(0,f.useMemo)(()=>r.getCellAriaRole(),[r]),_=(0,f.useRef)(null),A=(0,f.useRef)(null),P=(0,f.useRef)(),T=(0,f.useRef)(),q=(0,f.useRef)(),J=(0,f.useRef)([]),U=(0,f.useRef)(),[V,re]=(0,f.useState)(0),E=(0,f.useCallback)($=>{U.current=$,re(K=>K+1)},[]),N=l!=null&&(i||b||C),ne=O||N,H=(0,f.useCallback)(($,K)=>{T.current=K,K&&(Fr($,K,r),K.isCancelBeforeStart&&K.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)}))},[r]),G=(0,f.useCallback)($=>H(!0,$),[H]),Ce=(0,f.useCallback)($=>H(!1,$),[H]);let X=(0,f.useRef)();X.current||(X.current=new xe.CssClassManager(()=>_.current)),_r(l,ne,U.current,V,P,_);const ve=(0,f.useRef)();(0,f.useLayoutEffect)(()=>{const $=ve.current,K=l;if(ve.current=l,$==null||$.compDetails==null||K==null||K.compDetails==null)return;const Y=$.compDetails,M=K.compDetails;if(Y.componentClass!=M.componentClass||A.current==null||A.current.refresh==null)return;A.current.refresh(M.params)!=!0&&w(fe=>fe+1)},[l]),(0,f.useLayoutEffect)(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const K=u.compDetails,Y=u.popup===!0,M=ir(K);if(!M)return;const ee=M.getGui();if(H(Y,M),!Y){const fe=(O?q:_).current;fe?.appendChild(ee),M.afterGuiAttached&&M.afterGuiAttached()}return S(M),()=>{t.destroyBean(M),H(Y,void 0),S(void 0),ee&&ee.parentElement&&ee.parentElement.removeChild(ee)}},[u]);const Ae=(0,f.useCallback)($=>{if(q.current=$,!q.current){J.current.forEach(Y=>Y()),J.current=[];return}const K=Y=>{var M;if(Y){const ee=Y.getGui();(M=q.current)==null||M.insertAdjacentElement("afterbegin",ee),J.current.push(()=>{t.destroyBean(Y),xe._.removeFromParent(ee)})}return Y};if(i){const Y=r.createSelectionCheckbox();K(Y)}b&&K(r.createDndSource()),C&&K(r.createRowDragComp())},[r,t,b,C,i]),Xe=(0,f.useCallback)($=>{if(_.current=$,!_.current||!r)return;const K={addOrRemoveCssClass:(M,ee)=>X.current.addOrRemoveCssClass(M,ee),setUserStyles:M=>h(M),getFocusableElement:()=>_.current,setIncludeSelection:M=>m(M),setIncludeRowDrag:M=>v(M),setIncludeDndSource:M=>D(M),getCellEditor:()=>T.current||null,getCellRenderer:()=>A.current?A.current:P.current,getParentOfValue:()=>U.current?U.current:q.current?q.current:_.current,setRenderDetails:(M,ee,fe)=>{d(L=>L?.compDetails!==M||L?.value!==ee||L?.force!==fe?{value:ee,compDetails:M,force:fe}:L)},setEditDetails:(M,ee,fe,L)=>{if(M){let ae;L?ae=new Mr(M.params,()=>w(qe=>qe+1)):M.componentFromFramework&&Ue(),p({compDetails:M,popup:ee,popupPosition:fe,compProxy:ae}),ee||d(void 0)}else p(ae=>{ae?.compProxy&&(T.current=void 0)})}},Y=q.current||void 0;r.setComp(K,_.current,Y,s,n)},[]),Qe=(0,f.useMemo)(()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&be(l.compDetails.componentClass)),[l]);(0,f.useLayoutEffect)(()=>{var $;_.current&&(X.current.addOrRemoveCssClass("ag-cell-value",!ne),X.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),X.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),X.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),($=r.getRowCtrl())==null||$.setInlineEditingCss(!!u),r.shouldRestoreFocus()&&!r.isEditing()&&_.current.focus({preventScroll:!0}))});const Le=()=>f.default.createElement(f.default.Fragment,null,l!=null&&Gr(l,y,a,A,ne,Qe,E),u!=null&&Ir(u,Ce,G,_.current,r,I));return f.default.createElement("div",{ref:Xe,style:g,tabIndex:o,role:R,"col-id":c},ne?f.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Ae},Le()):Le())},Ar=(0,f.memo)(kr),Tr=e=>{const{context:t,gridOptionsService:r}=(0,W.useContext)(ie),{rowCtrl:s,containerType:n}=e,o=s.getTabIndex(),c=(0,W.useRef)(s.getDomOrder()),a=s.isFullWidth(),l=s.getRowNode().displayed,[d,u]=(0,W.useState)(()=>l?s.getRowIndex():null),[p,y]=(0,W.useState)(()=>s.getRowId()),[w,g]=(0,W.useState)(()=>s.getBusinessKey()),[h,i]=(0,W.useState)(()=>s.getRowStyles()),[m,C]=(0,W.useState)(()=>null),[v,b]=(0,W.useState)(),[D,I]=(0,W.useState)(()=>l?s.getInitialRowTop(n):void 0),[S,O]=(0,W.useState)(()=>l?s.getInitialTransform(n):void 0),R=(0,W.useRef)(null),_=(0,W.useRef)(),A=(0,W.useRef)(!1),[P,T]=(0,W.useState)(0);(0,W.useEffect)(()=>{var G;if(A.current||!v||P>10)return;const Ce=(G=R.current)==null?void 0:G.firstChild;Ce?(s.setupDetailRowAutoHeight(Ce),A.current=!0):T(X=>X+1)},[v,P]);let q=(0,W.useRef)();q.current||(q.current=new Bt.CssClassManager(()=>R.current));const J=(0,W.useCallback)(G=>{if(R.current=G,!R.current){s.unsetComp(n);return}if(!s.isAlive())return;const Ce={setTop:I,setTransform:O,addOrRemoveCssClass:(X,ve)=>q.current.addOrRemoveCssClass(X,ve),setDomOrder:X=>c.current=X,setRowIndex:u,setRowId:y,setRowBusinessKey:g,setUserStyles:i,setCellCtrls:(X,ve)=>{Je(ve,()=>{C(Ae=>Ye(Ae,X,c.current))})},showFullWidth:X=>b(X),getFullWidthCellRenderer:()=>_.current,refreshFullWidth:X=>N.current?(b(ve=>ce(z({},ve),{params:X()})),!0):!_.current||!_.current.refresh?!1:_.current.refresh(X())};s.setComp(Ce,R.current,n)},[]);(0,W.useLayoutEffect)(()=>Ge(v,t,R.current,_),[v]);const U=(0,W.useMemo)(()=>{const G={top:D,transform:S};return Object.assign(G,h),G},[D,S,h]),V=a&&v&&v.componentFromFramework,re=!a&&m!=null,E=(0,W.useMemo)(()=>!!(v?.componentFromFramework&&be(v.componentClass)),[v]),N=(0,W.useRef)(!1);(0,W.useEffect)(()=>{N.current=E&&!!v&&!!r.get("reactiveCustomComponents")},[E,v]);const ne=()=>m?.map(G=>W.default.createElement(Ar,{cellCtrl:G,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:G.getInstanceId()})),H=()=>{const G=v.componentClass;return W.default.createElement(W.default.Fragment,null,E&&W.default.createElement(G,z({},v.params)),!E&&W.default.createElement(G,ce(z({},v.params),{ref:_})))};return W.default.createElement("div",{ref:J,role:"row",style:U,"row-index":d,"row-id":p,"row-business-key":w,tabIndex:o},re&&ne(),V&&H())},Nr=(0,W.memo)(Tr),xr=e=>{const{context:t}=(0,Z.useContext)(ie),{name:r}=e,s=(0,Z.useMemo)(()=>(0,we.getRowContainerTypeForName)(r),[r]),n=(0,Z.useRef)(null),o=(0,Z.useRef)(null),c=(0,Z.useRef)([]),[a,l]=(0,Z.useState)(()=>[]),d=(0,Z.useRef)(!1),u=(0,Z.useRef)(),p=(0,Z.useMemo)(()=>we.RowContainerCtrl.getRowContainerCssClasses(r),[r]),y=(0,Z.useMemo)(()=>ge(p.viewport),[p]),w=(0,Z.useMemo)(()=>ge(p.container),[p]),g=r===we.RowContainerName.CENTER||r===we.RowContainerName.TOP_CENTER||r===we.RowContainerName.BOTTOM_CENTER||r===we.RowContainerName.STICKY_TOP_CENTER,h=g?n:o;Ee(" AG Row Container "+r+" ",h);const i=(0,Z.useCallback)(()=>g?n.current!=null&&o.current!=null:o.current!=null,[]),m=(0,Z.useCallback)(()=>g?n.current==null&&o.current==null:o.current==null,[]),C=(0,Z.useCallback)(()=>{if(m()&&(t.destroyBean(u.current),u.current=null),i()){const I=O=>{Je(O,()=>{l(R=>Ye(R,c.current,d.current))})},S={setViewportHeight:O=>{n.current&&(n.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:R})=>{const _=!!R&&c.current.length>0&&O.length>0;c.current=O,I(_)},setDomOrder:O=>{d.current!=O&&(d.current=O,I(!1))},setContainerWidth:O=>{o.current&&(o.current.style.width=O)}};u.current=t.createBean(new we.RowContainerCtrl(r)),u.current.setComp(S,o.current,n.current)}},[i,m]),v=(0,Z.useCallback)(I=>{o.current=I,C()},[C]),b=(0,Z.useCallback)(I=>{n.current=I,C()},[C]),D=()=>Z.default.createElement("div",{className:w,ref:v,role:"rowgroup"},a.map(I=>Z.default.createElement(Nr,{rowCtrl:I,containerType:s,key:I.getInstanceId()})));return Z.default.createElement(Z.default.Fragment,null,g?Z.default.createElement("div",{className:y,ref:b,role:"presentation"},D()):D())},Dr=(0,Z.memo)(xr),Br=()=>{const{context:e,agStackComponentsRegistry:t,resizeObserverService:r}=(0,F.useContext)(ie),[s,n]=(0,F.useState)(""),[o,c]=(0,F.useState)(0),[a,l]=(0,F.useState)(0),[d,u]=(0,F.useState)("0px"),[p,y]=(0,F.useState)("0px"),[w,g]=(0,F.useState)("100%"),[h,i]=(0,F.useState)(""),[m,C]=(0,F.useState)(""),[v,b]=(0,F.useState)(null),[D,I]=(0,F.useState)(""),[S,O]=(0,F.useState)(null),[R,_]=(0,F.useState)("ag-layout-normal");let A=(0,F.useRef)();A.current||(A.current=new te.CssClassManager(()=>P.current));const P=(0,F.useRef)(null),T=(0,F.useRef)(null),q=(0,F.useRef)(null),J=(0,F.useRef)(null),U=(0,F.useRef)(null),V=(0,F.useRef)(null),re=(0,F.useRef)([]),E=(0,F.useRef)([]);Ee(" AG Grid Body ",P),Ee(" AG Pinned Top ",T),Ee(" AG Sticky Top ",q),Ee(" AG Middle ",U),Ee(" AG Pinned Bottom ",V);const N=(0,F.useCallback)(K=>{if(P.current=K,!P.current){e.destroyBeans(re.current),E.current.forEach(L=>L()),re.current=[],E.current=[];return}if(!e)return;const Y=L=>{const ae=t.getComponentClass(L),qe=e.createBean(new ae);return re.current.push(qe),qe},M=(L,ae)=>{L.appendChild(ae),E.current.push(()=>L.removeChild(ae))};M(P.current,document.createComment(" AG Fake Horizontal Scroll ")),M(P.current,Y("AG-FAKE-HORIZONTAL-SCROLL").getGui()),M(P.current,document.createComment(" AG Overlay Wrapper ")),M(P.current,Y("AG-OVERLAY-WRAPPER").getGui()),J.current&&(M(J.current,document.createComment(" AG Fake Vertical Scroll ")),M(J.current,Y("AG-FAKE-VERTICAL-SCROLL").getGui()));const ee={setRowAnimationCssOnBodyViewport:n,setColumnCount:L=>{P.current&&te._.setAriaColCount(P.current,L)},setRowCount:L=>{P.current&&te._.setAriaRowCount(P.current,L)},setTopHeight:c,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:y,setStickyTopWidth:g,setTopDisplay:i,setBottomDisplay:C,setColumnMovingCss:(L,ae)=>A.current.addOrRemoveCssClass(L,ae),updateLayoutClasses:_,setAlwaysVerticalScrollClass:b,setPinnedTopBottomOverflowY:I,setCellSelectableCss:(L,ae)=>O(ae?L:null),setBodyViewportWidth:L=>{U.current&&(U.current.style.width=L)},registerBodyViewportResizeListener:L=>{if(U.current){const ae=r.observeResize(U.current,L);E.current.push(()=>ae())}}},fe=e.createBean(new te.GridBodyCtrl);re.current.push(fe),fe.setComp(ee,P.current,U.current,T.current,V.current,q.current)},[]),ne=(0,F.useMemo)(()=>ge("ag-root","ag-unselectable",R),[R]),H=(0,F.useMemo)(()=>ge("ag-body-viewport",s,R,v,S),[s,R,v,S]),G=(0,F.useMemo)(()=>ge("ag-body",R),[R]),Ce=(0,F.useMemo)(()=>ge("ag-floating-top",S),[S]),X=(0,F.useMemo)(()=>ge("ag-sticky-top",S),[S]),ve=(0,F.useMemo)(()=>ge("ag-floating-bottom",S),[S]),Ae=(0,F.useMemo)(()=>({height:o,minHeight:o,display:h,overflowY:D}),[o,h,D]),Xe=(0,F.useMemo)(()=>({height:d,top:p,width:w}),[d,p,w]),Qe=(0,F.useMemo)(()=>({height:a,minHeight:a,display:m,overflowY:D}),[a,m,D]),Le=K=>F.default.createElement(Dr,{name:K,key:`${K}-container`}),$=({section:K,children:Y,className:M,style:ee})=>F.default.createElement("div",{ref:K,className:M,role:"presentation",style:ee},Y.map(Le));return F.default.createElement("div",{ref:N,className:ne,role:"treegrid"},F.default.createElement(wr,null),$({section:T,className:Ce,style:Ae,children:[te.RowContainerName.TOP_LEFT,te.RowContainerName.TOP_CENTER,te.RowContainerName.TOP_RIGHT,te.RowContainerName.TOP_FULL_WIDTH]}),F.default.createElement("div",{className:G,ref:J,role:"presentation"},$({section:U,className:H,children:[te.RowContainerName.LEFT,te.RowContainerName.CENTER,te.RowContainerName.RIGHT,te.RowContainerName.FULL_WIDTH]})),$({section:q,className:X,style:Xe,children:[te.RowContainerName.STICKY_TOP_LEFT,te.RowContainerName.STICKY_TOP_CENTER,te.RowContainerName.STICKY_TOP_RIGHT,te.RowContainerName.STICKY_TOP_FULL_WIDTH]}),$({section:V,className:ve,style:Qe,children:[te.RowContainerName.BOTTOM_LEFT,te.RowContainerName.BOTTOM_CENTER,te.RowContainerName.BOTTOM_RIGHT,te.RowContainerName.BOTTOM_FULL_WIDTH]}))},Wr=(0,F.memo)(Br),Hr=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:a}=(0,pe.useContext)(ie),l=(0,pe.useRef)(null),d=(0,pe.useRef)(null),u=(0,pe.useRef)(),p=i=>{const m=i==null?void 0:parseInt(i,10).toString();[l,d].forEach(C=>{var v,b;m===void 0?(v=C.current)==null||v.removeAttribute("tabindex"):(b=C.current)==null||b.setAttribute("tabindex",m)})};(0,pe.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(i){var m;(m=u.current)==null||m.forceFocusOutOfContainer(i)}}));const y=(0,pe.useCallback)(()=>{if(!l.current&&!d.current){a.destroyBean(u.current),u.current=null;return}if(l.current&&d.current){const i={setTabIndex:p};u.current=a.createBean(new Be.TabGuardCtrl({comp:i,eTopGuard:l.current,eBottomGuard:d.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:m=>o.focusInnerElement(m)}))}},[]),w=(0,pe.useCallback)(i=>{l.current=i,y()},[y]),g=(0,pe.useCallback)(i=>{d.current=i,y()},[y]),h=i=>{const m=i==="top"?Be.TabGuardClassNames.TAB_GUARD_TOP:Be.TabGuardClassNames.TAB_GUARD_BOTTOM;return pe.default.createElement("div",{className:`${Be.TabGuardClassNames.TAB_GUARD} ${m}`,role:"presentation",ref:i==="top"?w:g})};return pe.default.createElement(pe.default.Fragment,null,h("top"),r,h("bottom"))},Ur=(0,pe.forwardRef)(Hr),Lr=(0,pe.memo)(Ur),qr=({context:e})=>{const[t,r]=(0,j.useState)(""),[s,n]=(0,j.useState)(""),[o,c]=(0,j.useState)(""),[a,l]=(0,j.useState)(null),[d,u]=(0,j.useState)(null),[p,y]=(0,j.useState)(!1),[w,g]=(0,j.useState)(),h=(0,j.useRef)(null),i=(0,j.useRef)(null),m=(0,j.useRef)(),[C,v]=(0,j.useState)(null),b=(0,j.useRef)(()=>{}),D=(0,j.useCallback)(()=>{},[]),I=(0,j.useMemo)(()=>e.isDestroyed()?null:e.getBean("beans"),[e]);Ee(" AG Grid ",i);const S=(0,j.useCallback)(P=>{if(i.current=P,!i.current){e.destroyBean(h.current),h.current=null;return}if(e.isDestroyed())return;h.current=e.createBean(new At.GridCtrl);const T=h.current;b.current=T.focusInnerElement.bind(T);const q={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:J=>{var U;(U=m.current)==null||U.forceFocusOutOfContainer(J)},updateLayoutClasses:c,getFocusableContainers:()=>{var J,U;const V=[],re=(J=i.current)==null?void 0:J.querySelector(".ag-root"),E=(U=i.current)==null?void 0:U.querySelector(".ag-side-bar:not(.ag-hidden)");return re&&V.push(re),E&&V.push(E),V},setCursor:l,setUserSelect:u};T.setComp(q,i.current,i.current),y(!0)},[]);(0,j.useEffect)(()=>{if(!w||!I||!h.current||!C||!i.current)return;const P=h.current,T=[],{agStackComponentsRegistry:q}=I,J=q.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),U=q.getComponentClass("AG-SIDE-BAR"),V=q.getComponentClass("AG-STATUS-BAR"),re=q.getComponentClass("AG-WATERMARK"),E=q.getComponentClass("AG-PAGINATION"),N=[],ne=i.current;if(P.showDropZones()&&J){const H=e.createBean(new J),G=H.getGui();ne.insertAdjacentElement("afterbegin",G),N.push(G),T.push(H)}if(P.showSideBar()&&U){const H=e.createBean(new U),G=H.getGui(),Ce=C.querySelector(".ag-tab-guard-bottom");Ce&&(Ce.insertAdjacentElement("beforebegin",G),N.push(G)),T.push(H)}if(P.showStatusBar()&&V){const H=e.createBean(new V),G=H.getGui();ne.insertAdjacentElement("beforeend",G),N.push(G),T.push(H)}if(E){const H=e.createBean(new E),G=H.getGui();ne.insertAdjacentElement("beforeend",G),N.push(G),T.push(H)}if(P.showWatermark()&&re){const H=e.createBean(new re),G=H.getGui();ne.insertAdjacentElement("beforeend",G),N.push(G),T.push(H)}return()=>{e.destroyBeans(T),N.forEach(H=>{H.parentElement&&H.parentElement.removeChild(H)})}},[w,C,I]);const O=(0,j.useMemo)(()=>ge("ag-root-wrapper",t,s,o),[t,s,o]),R=(0,j.useMemo)(()=>ge("ag-root-wrapper-body","ag-focus-managed",o),[o]),_=(0,j.useMemo)(()=>({userSelect:d??"",WebkitUserSelect:d??"",cursor:a??""}),[d,a]),A=(0,j.useCallback)(P=>{m.current=P,g(P!==null)},[]);return j.default.createElement("div",{ref:S,className:O,style:_,role:"presentation"},j.default.createElement("div",{className:R,ref:v,role:"presentation"},p&&C&&I&&j.default.createElement(ie.Provider,{value:I},j.default.createElement(Lr,{ref:A,eFocusableElement:C,onTabKeyDown:D,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},j.default.createElement(Wr,null)))))},Vr=(0,j.memo)(qr),vt=e=>{var t,r;const s=(0,k.useRef)(),n=(0,k.useRef)(null),o=(0,k.useRef)(null),c=(0,k.useRef)([]),a=(0,k.useRef)([]),l=(0,k.useRef)(e),d=(0,k.useRef)(!1),[u,p]=(0,k.useState)(void 0),[,y]=(0,k.useState)(0),w=(0,k.useCallback)(i=>{if(n.current=i,!n.current){c.current.forEach(S=>S()),c.current.length=0;return}const m=e.modules||[];o.current||(o.current=new ar(()=>y(S=>S+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),c.current.push(()=>{var S;(S=o.current)==null||S.destroy(),o.current=null}));const C=he.ComponentUtil.combineAttributesAndGridOptions(e.gridOptions,e),v={providedBeanInstances:{frameworkComponentWrapper:new Kr(o.current,!!C.reactiveCustomComponents)},modules:m,frameworkOverrides:new $r},b=S=>{p(S),c.current.push(()=>{S.destroy()}),S.getBean(he.CtrlsService.NAME).whenReady(()=>{if(S.isDestroyed())return;const R=s.current;R&&e.setGridApi&&e.setGridApi(R,new he.ColumnApi(R))})},D=S=>{S.getBean(he.CtrlsService.NAME).whenReady(()=>{a.current.forEach(R=>R()),a.current.length=0,d.current=!0})},I=new he.GridCoreCreator;s.current=I.create(n.current,C,b,D,v)},[]),g=(0,k.useMemo)(()=>z({height:"100%"},e.containerStyle||{}),[e.containerStyle]),h=(0,k.useCallback)(i=>{d.current?i():a.current.push(i)},[]);return(0,k.useEffect)(()=>{const i=jr(l.current,e);l.current=e,h(()=>{s.current&&he.ComponentUtil.processOnChange(i,s.current)})},[e]),k.default.createElement("div",{style:g,className:e.className,ref:w},u&&!u.isDestroyed()?k.default.createElement(Vr,{context:u}):null,(r=(t=o.current)==null?void 0:t.getPortals())!=null?r:null)};function jr(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var Kr=class extends he.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(o=>{switch(o){case"filter":return Xt;case"floatingFilterComponent":return er;case"dateComponent":return Zt;case"loadingOverlayComponent":return tr;case"noRowsOverlayComponent":return sr;case"statusPanel":return nr;case"toolPanel":return or;case"menuItem":return rr}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":Ue();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new ut(e,this.parent,t,r)}},zr=(0,k.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s,gridOptionsService:n,resizeObserverService:o,clientSideRowModel:c,serverSideRowModel:a}=(0,k.useContext)(ie),[l,d]=(0,k.useState)(()=>new me),[u,p]=(0,k.useState)(()=>new me),[y,w]=(0,k.useState)(),[g,h]=(0,k.useState)(),i=(0,k.useRef)(),m=(0,k.useRef)(null),C=(0,k.useRef)(),v=(0,k.useMemo)(()=>he.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),b=(0,k.useMemo)(()=>l.toString()+" ag-details-row",[l]),D=(0,k.useMemo)(()=>u.toString()+" ag-details-grid",[u]);t&&(0,k.useImperativeHandle)(t,()=>({refresh(){var O,R;return(R=(O=i.current)==null?void 0:O.refresh())!=null?R:!1}})),e.template&&he._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const I=(0,k.useCallback)(O=>{if(m.current=O,!m.current){s.destroyBean(i.current),C.current&&C.current();return}const R={addOrRemoveCssClass:(A,P)=>d(T=>T.setClass(A,P)),addOrRemoveDetailGridCssClass:(A,P)=>p(T=>T.setClass(A,P)),setDetailGrid:A=>w(A),setRowData:A=>h(A),getGui:()=>m.current},_=r.getInstance("detailCellRenderer");if(_&&(s.createBean(_),_.init(R,e),i.current=_,n.get("detailRowAutoHeight"))){const A=()=>{if(m.current==null)return;const P=m.current.clientHeight;P!=null&&P>0&&setTimeout(()=>{e.node.setRowHeight(P),c?c.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};C.current=o.observeResize(m.current,A),A()}},[]),S=(0,k.useCallback)((O,R)=>{var _;(_=i.current)==null||_.registerDetailWithMaster(O,R)},[]);return k.default.createElement("div",{className:b,ref:I},y&&k.default.createElement(vt,ce(z({className:D},y),{modules:v,rowData:g,setGridApi:S})))}),$r=class extends he.VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Ct,agGroupRowRenderer:Ct,agDetailCellRenderer:zr},this.wrapIncoming=(e,t)=>t==="ensureVisible"?cr(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}},Jr=class extends rt.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t,this.apiListeners.forEach(r=>r(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return rt.default.createElement(vt,ce(z({},this.props),{setGridApi:this.setGridApi}))}},Rt=(e=>(e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck",e))(Rt||{});function ke(e){const{setMethods:t}=(0,Lt.useContext)(We);t(e)}function Yr(e){ke(e)}function Zr(e){return ke(e)}function Xr(e){return ke(e)}function Qr(e){ke(e)}function es(e){ke(e)}if(typeof ye.exports=="object"&&typeof Pe=="object"){var ts=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,n)&&n!==r&&Object.defineProperty(e,n,{get:()=>t[n],enumerable:!(s=Object.getOwnPropertyDescriptor(t,n))||s.enumerable});return e};ye.exports=ts(ye.exports,Pe)}return ye.exports});
