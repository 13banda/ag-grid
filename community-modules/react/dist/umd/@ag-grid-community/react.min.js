(function(Ie,Oe){var $e=typeof exports=="object";if(typeof define=="function"&&define.amd)define(["@ag-grid-community/core","react","react-dom"],Oe);else if(typeof module=="object"&&module.exports)module.exports=Oe(require("@ag-grid-community/core"),require("react"),require("react-dom"));else{var Ee=$e?Oe(require("@ag-grid-community/core"),require("react"),require("react-dom")):Oe(Ie["@ag-grid-community/core"],Ie.react,Ie["react-dom"]),ye=$e?exports:Ie;for(var Ne in Ee)ye[Ne]=Ee[Ne]}})(typeof self<"u"?self:this,(Ie,Oe,$e)=>{var Ee={},ye={exports:Ee},Ne=Object.create,He=Object.defineProperty,St=Object.getOwnPropertyDescriptor,bt=Object.getOwnPropertyNames,Et=Object.getPrototypeOf,Pt=Object.prototype.hasOwnProperty,Mt=(e,t)=>{for(var r in t)He(e,r,{get:t[r],enumerable:!0})},rt=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of bt(t))!Pt.call(e,n)&&n!==r&&He(e,n,{get:()=>t[n],enumerable:!(s=St(t,n))||s.enumerable});return e},X=(e,t,r)=>(r=e!=null?Ne(Et(e)):{},rt(t||!e||!e.__esModule?He(r,"default",{value:e,enumerable:!0}):r,e)),kt=e=>rt(He({},"__esModule",{value:!0}),e),st={};Mt(st,{AgGridReact:()=>zr,CustomComponentContext:()=>Be,getInstance:()=>or,useGridCellEditor:()=>$r,useGridDate:()=>Jr,useGridFilter:()=>Kr,useGridFloatingFilter:()=>Qr,useGridMenuItem:()=>Yr,warnReactiveCustomComponents:()=>Ve}),ye.exports=kt(st);var nt=X(require("react"),1),ve=require("@ag-grid-community/core"),I=X(require("react"),1),Ft=require("@ag-grid-community/core"),x=X(require("react"),1),Gt=X(require("react"),1),Je=X(require("react-dom"),1),Ke=require("@ag-grid-community/core"),xe=X(require("react"),1),It=require("react"),_e=require("@ag-grid-community/core"),Ot=require("react"),xt=require("react-dom"),_t=require("@ag-grid-community/core"),ot=require("@ag-grid-community/core"),At=require("@ag-grid-community/core"),T=X(require("react"),1),we=require("@ag-grid-community/core"),w=X(require("react"),1),Dt=require("@ag-grid-community/core"),ie=X(require("react"),1),Bt=require("@ag-grid-community/core"),ne=X(require("react"),1),at=require("@ag-grid-community/core"),oe=X(require("react"),1),Qe=require("@ag-grid-community/core"),re=X(require("react"),1),Tt=require("@ag-grid-community/core"),D=X(require("react"),1),J=X(require("react"),1),Wt=require("react"),ct=require("@ag-grid-community/core"),z=X(require("react"),1),Nt=require("@ag-grid-community/core"),_=X(require("react"),1),lt=require("@ag-grid-community/core"),f=X(require("react"),1),Ht=require("@ag-grid-community/core"),Ae=X(require("react"),1),Ut=require("react-dom"),Pe=require("react"),Ue=require("react"),qe=require("@ag-grid-community/core"),de=X(require("react"),1),qt=require("@ag-grid-community/core"),Lt=require("react"),ae=Gt.default.createContext({}),De=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const a=e.newAgStackInstance();if(a==null)return;let l,o,c=!1;return a.then(p=>{if(c){t.destroyBean(p);return}l=p,o=l.getGui(),r.appendChild(o),ut(s,l)}),()=>{c=!0,l&&(o&&o.parentElement&&o.parentElement.removeChild(o),t.destroyBean(l),s&&ut(s,void 0))}},ut=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},fe=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),me=class wt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new wt;return n.classesMap={...this.classesMap},n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Me=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},it=Je.default.createRoot!=null&&Je.default.flushSync!=null;function Vt(){return!it}var Le=!1;function jt(e){return Le||setTimeout(()=>Le=!1,0),Le=!0,e()}var Ye=(e,t)=>{it&&e&&!Le?Je.default.flushSync(t):t()};function Ze(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],a=new Map,l=new Map;for(let o=0;o<t.length;o++){const c=t[o];l.set(c.getInstanceId(),c)}for(let o=0;o<e.length;o++){const c=e[o];a.set(c.getInstanceId(),c),l.has(c.getInstanceId())&&s.push(c)}for(let o=0;o<t.length;o++){const c=t[o],p=c.getInstanceId();a.has(p)||n.push(c)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var dt=(0,x.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s}=(0,x.useContext)(ae),n=(0,x.useRef)(null),a=(0,x.useRef)(null),l=(0,x.useRef)(null),o=(0,x.useRef)(null),c=(0,x.useRef)(null),p=(0,x.useRef)(),[u,i]=(0,x.useState)(),[S,g]=(0,x.useState)(),[d,h]=(0,x.useState)(),[m,C]=(0,x.useState)(()=>new me),[R,E]=(0,x.useState)(()=>new me("ag-hidden")),[b,k]=(0,x.useState)(()=>new me("ag-hidden")),[F,W]=(0,x.useState)(()=>new me("ag-invisible"));(0,x.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,x.useLayoutEffect)(()=>De(u,s,a.current),[u]);const O=(0,x.useCallback)(H=>{if(n.current=H,!n.current){s.destroyBean(p.current),p.current=null;return}const U={setInnerRenderer:(V,q)=>{i(V),h(q)},setChildCount:V=>g(V),addOrRemoveCssClass:(V,q)=>C(G=>G.setClass(V,q)),setContractedDisplayed:V=>k(q=>q.setClass("ag-hidden",!V)),setExpandedDisplayed:V=>E(q=>q.setClass("ag-hidden",!V)),setCheckboxVisible:V=>W(q=>q.setClass("ag-invisible",!V))},K=r.getInstance("groupCellRendererCtrl");K&&(p.current=s.createBean(K),p.current.init(U,n.current,l.current,o.current,c.current,dt,e))},[]),y=(0,x.useMemo)(()=>`ag-cell-wrapper ${m.toString()}`,[m]),v=(0,x.useMemo)(()=>`ag-group-expanded ${R.toString()}`,[R]),P=(0,x.useMemo)(()=>`ag-group-contracted ${b.toString()}`,[b]),M=(0,x.useMemo)(()=>`ag-group-checkbox ${F.toString()}`,[F]),$=u&&u.componentFromFramework,N=$?u.componentClass:void 0,j=u==null&&d!=null,A=(0,Ft._escapeString)(d,!0);return x.default.createElement("span",{className:y,ref:O,...e.colDef?{}:{role:p.current?.getCellAriaRole()}},x.default.createElement("span",{className:v,ref:o}),x.default.createElement("span",{className:P,ref:c}),x.default.createElement("span",{className:M,ref:l}),x.default.createElement("span",{className:"ag-group-value",ref:a},j&&x.default.createElement(x.default.Fragment,null,A),$&&x.default.createElement(N,{...u.params})),x.default.createElement("span",{className:"ag-group-child-count"},S))}),pt=dt,Be=(0,It.createContext)({setMethods:()=>{}}),zt=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[a,l]=(0,xe.useState)(t);return(0,xe.useEffect)(()=>{r(o=>l(o))},[]),xe.default.createElement(Be.Provider,{value:{setMethods:n}},xe.default.createElement(s,{...a}))},$t=(0,xe.memo)(zt),Jt=0;function mt(){return`agPortalKey_${++Jt}`}var ft=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=mt(),this.portalKey=mt(),this.instanceCreated=this.isStatelessComponent()?_e.AgPromise.resolve(!1):new _e.AgPromise(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,_e._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&((0,_e._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new _e.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,xt.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,Ot.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Xe(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var he=class extends ft{constructor(){super(...arguments),this.awaitUpdateCallback=new Ke.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=$t}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new Ke.AgPromise(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Xe(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ke.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Kt=class extends he{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Qt=class extends he{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Yt=class extends he{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function ht(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||_t.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Zt=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Xe(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ht(this.floatingFilterParams,e)}},Xt=class extends he{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ht(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},er=class extends he{refresh(e){this.sourceParams=e,this.refreshProps()}},tr=class extends he{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},rr=class extends he{refresh(e){this.sourceParams=e,this.refreshProps()}},sr=class extends he{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},nr=class extends he{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function or(e,t){(e?.getInstance?.()??ot.AgPromise.resolve(void 0)).then(s=>t(s))}function Ve(){(0,ot._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var ar=1e3,cr=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||ar}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},lr=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=(0,re.useContext)(ae),n=r?t.getColId():void 0,[a,l]=(0,re.useState)(),o=(0,re.useRef)(null),c=(0,re.useRef)(null),p=(0,re.useRef)(null),u=(0,re.useRef)(),i=(0,re.useRef)();r&&!i.current&&(i.current=new Qe.CssClassManager(()=>o.current));const S=(0,re.useCallback)(m=>{if(o.current=m,!o.current||!r)return;const C={setWidth:E=>{o.current&&(o.current.style.width=E)},addOrRemoveCssClass:(E,b)=>i.current.addOrRemoveCssClass(E,b),setAriaSort:E=>{o.current&&(E?(0,Qe._setAriaSort)(o.current,E):(0,Qe._removeAriaSort)(o.current))},setUserCompDetails:E=>l(E),getUserCompInstance:()=>u.current||void 0};t.setComp(C,o.current,c.current,p.current);const R=t.getSelectAllGui();c.current?.insertAdjacentElement("afterend",R)},[]);(0,re.useLayoutEffect)(()=>De(a,s,p.current,u),[a]),(0,re.useEffect)(()=>{t.setDragSource(o.current)},[a]);const g=(0,re.useMemo)(()=>!!(a?.componentFromFramework&&Me(a.componentClass)),[a]),d=a&&a.componentFromFramework,h=a&&a.componentClass;return re.default.createElement("div",{ref:S,className:"ag-header-cell","col-id":n,role:"columnheader"},re.default.createElement("div",{ref:c,className:"ag-header-cell-resize",role:"presentation"}),re.default.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},d&&g&&re.default.createElement(h,{...a.params}),d&&!g&&re.default.createElement(h,{...a.params,ref:u})))},ur=(0,re.memo)(lr),ir=e=>{const{context:t,gos:r}=(0,D.useContext)(ae),[s,n]=(0,D.useState)(()=>new me("ag-header-cell","ag-floating-filter")),[a,l]=(0,D.useState)(()=>new me),[o,c]=(0,D.useState)(()=>new me("ag-floating-filter-button","ag-hidden")),[p,u]=(0,D.useState)("false"),[i,S]=(0,D.useState)(),[,g]=(0,D.useState)(1),d=(0,D.useRef)(null),h=(0,D.useRef)(null),m=(0,D.useRef)(null),C=(0,D.useRef)(null),R=(0,D.useRef)(),E=(0,D.useRef)(),b=A=>{A!=null&&R.current&&R.current(A)},{ctrl:k}=e,F=(0,D.useCallback)(A=>{if(d.current=A,!d.current)return;E.current=new Tt.AgPromise(U=>{R.current=U});const H={addOrRemoveCssClass:(U,K)=>n(V=>V.setClass(U,K)),addOrRemoveBodyCssClass:(U,K)=>l(V=>V.setClass(U,K)),setButtonWrapperDisplayed:U=>{c(K=>K.setClass("ag-hidden",!U)),u(U?"false":"true")},setWidth:U=>{d.current&&(d.current.style.width=U)},setCompDetails:U=>S(U),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:U=>C.current?.appendChild(U)};k.setComp(H,d.current,C.current,h.current)},[]);(0,D.useLayoutEffect)(()=>De(i,t,h.current,b),[i]);const W=(0,D.useMemo)(()=>s.toString(),[s]),O=(0,D.useMemo)(()=>a.toString(),[a]),y=(0,D.useMemo)(()=>o.toString(),[o]),v=(0,D.useMemo)(()=>!!(i&&i.componentFromFramework&&Me(i.componentClass)),[i]),P=(0,D.useMemo)(()=>r.get("reactiveCustomComponents"),[]),M=(0,D.useMemo)(()=>{if(i)if(P){const A=new Zt(i.params,()=>g(H=>H+1));return b(A),A}else i.componentFromFramework&&Ve()},[i]),$=M?.getProps(),N=i&&i.componentFromFramework,j=i&&i.componentClass;return D.default.createElement("div",{ref:F,className:W,role:"gridcell"},D.default.createElement("div",{ref:h,className:O,role:"presentation"},N&&!P&&D.default.createElement(j,{...i.params,ref:v?()=>{}:b}),N&&P&&D.default.createElement(Be.Provider,{value:{setMethods:A=>M.setMethods(A)}},D.default.createElement(j,{...$}))),D.default.createElement("div",{ref:m,"aria-hidden":p,className:y,role:"presentation"},D.default.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},dr=(0,D.memo)(ir),pr=e=>{const{context:t}=(0,J.useContext)(ae),{ctrl:r}=e,[s,n]=(0,J.useState)(()=>new me),[a,l]=(0,J.useState)(()=>new me),[o,c]=(0,J.useState)("false"),[p,u]=(0,J.useState)(),[i,S]=(0,J.useState)(),g=(0,J.useMemo)(()=>r.getColId(),[]),d=(0,J.useRef)(null),h=(0,J.useRef)(null),m=(0,J.useRef)(),C=(0,J.useCallback)(W=>{if(d.current=W,!d.current)return;const O={setWidth:y=>{d.current&&(d.current.style.width=y)},addOrRemoveCssClass:(y,v)=>n(P=>P.setClass(y,v)),setUserCompDetails:y=>S(y),setResizableDisplayed:y=>{l(v=>v.setClass("ag-hidden",!y)),c(y?"false":"true")},setAriaExpanded:y=>u(y),getUserCompInstance:()=>m.current||void 0};r.setComp(O,d.current,h.current)},[]);(0,J.useLayoutEffect)(()=>De(i,t,d.current),[i]),(0,J.useEffect)(()=>{d.current&&r.setDragSource(d.current)},[i]);const R=(0,J.useMemo)(()=>!!(i?.componentFromFramework&&Me(i.componentClass)),[i]),E=(0,J.useMemo)(()=>"ag-header-group-cell "+s.toString(),[s]),b=(0,J.useMemo)(()=>"ag-header-cell-resize "+a.toString(),[a]),k=i&&i.componentFromFramework,F=i&&i.componentClass;return J.default.createElement("div",{ref:C,className:E,"col-id":g,role:"columnheader","aria-expanded":p},k&&R&&J.default.createElement(F,{...i.params}),k&&!R&&J.default.createElement(F,{...i.params,ref:m}),J.default.createElement("div",{ref:h,"aria-hidden":o,className:b}))},mr=(0,J.memo)(pr),fr=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=(0,oe.useMemo)(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),a=t.getHeaderRowClass(),[l,o]=(0,oe.useState)(()=>s+"px"),[c,p]=(0,oe.useState)(()=>r+"px"),u=(0,oe.useRef)(null),i=(0,oe.useRef)(null),[S,g]=(0,oe.useState)(()=>t.getHeaderCtrls()),d=(0,oe.useRef)(null),h=(0,oe.useCallback)(R=>{if(d.current=R,!R)return;const E={setHeight:b=>o(b),setTop:b=>p(b),setHeaderCtrls:(b,k,F)=>{i.current=u.current,u.current=b;const W=Ze(i.current,b,k);W!==i.current&&Ye(F,()=>g(W))},setWidth:b=>{d.current&&(d.current.style.width=b)}};t.setComp(E,!1)},[]),m=(0,oe.useMemo)(()=>({height:l,top:c}),[l,c]),C=(0,oe.useCallback)(R=>{switch(t.getType()){case at.HeaderRowType.COLUMN_GROUP:return oe.default.createElement(mr,{ctrl:R,key:R.getInstanceId()});case at.HeaderRowType.FLOATING_FILTER:return oe.default.createElement(dr,{ctrl:R,key:R.getInstanceId()});default:return oe.default.createElement(ur,{ctrl:R,key:R.getInstanceId()})}},[]);return oe.default.createElement("div",{ref:h,className:a,role:"row",style:m,"aria-rowindex":n},S.map(C))},hr=(0,oe.memo)(fr),Cr=e=>{const[t,r]=(0,ne.useState)(!0),[s,n]=(0,ne.useState)([]),{context:a}=(0,ne.useContext)(ae),l=(0,ne.useRef)(null),o=(0,ne.useRef)(null),c=(0,ne.useRef)(null),p=e.pinned==="left",u=e.pinned==="right",i=!p&&!u,S=(0,ne.useCallback)(h=>{if(l.current=h,!l.current){a.destroyBean(c.current),c.current=null;return}const m={setDisplayed:r,setCtrls:C=>n(C),setCenterWidth:C=>{o.current&&(o.current.style.width=C)},setViewportScrollLeft:C=>{l.current&&(l.current.scrollLeft=C)},setPinnedContainerWidth:C=>{l.current&&(l.current.style.width=C,l.current.style.minWidth=C,l.current.style.maxWidth=C)}};c.current=a.createBean(new Bt.HeaderRowContainerCtrl(e.pinned)),c.current.setComp(m,l.current)},[]),g=t?"":"ag-hidden",d=()=>s.map(h=>ne.default.createElement(hr,{ctrl:h,key:h.getInstanceId()}));return ne.default.createElement(ne.default.Fragment,null,p&&ne.default.createElement("div",{ref:S,className:"ag-pinned-left-header "+g,"aria-hidden":!t,role:"rowgroup"},d()),u&&ne.default.createElement("div",{ref:S,className:"ag-pinned-right-header "+g,"aria-hidden":!t,role:"rowgroup"},d()),i&&ne.default.createElement("div",{ref:S,className:"ag-header-viewport "+g,role:"presentation"},ne.default.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},d())))},et=(0,ne.memo)(Cr),gr=()=>{const[e,t]=(0,ie.useState)(()=>new me),[r,s]=(0,ie.useState)(),{context:n}=(0,ie.useContext)(ae),a=(0,ie.useRef)(null),l=(0,ie.useRef)(null),o=(0,ie.useCallback)(u=>{if(a.current=u,!u){n.destroyBean(l.current),l.current=null;return}const i={addOrRemoveCssClass:(S,g)=>t(d=>d.setClass(S,g)),setHeightAndMinHeight:S=>s(S)};l.current=n.createBean(new Dt.GridHeaderCtrl),l.current.setComp(i,a.current,a.current)},[]),c=(0,ie.useMemo)(()=>"ag-header "+e.toString(),[e]),p=(0,ie.useMemo)(()=>({height:r,minHeight:r}),[r]);return ie.default.createElement("div",{ref:o,className:c,style:p,role:"presentation"},ie.default.createElement(et,{pinned:"left"}),ie.default.createElement(et,{pinned:null}),ie.default.createElement(et,{pinned:"right"}))},Rr=(0,ie.memo)(gr),yr=(e,t)=>{(0,Wt.useEffect)(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},Se=yr,vr=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ht.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Xe(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},wr=e=>{const t=(0,Pe.useRef)(e),r=(0,Pe.useRef)(),s=(0,Pe.useRef)(!1),n=(0,Pe.useRef)(!1),[,a]=(0,Pe.useState)(0);s.current&&(n.current=!0),(0,Pe.useEffect)(()=>(s.current||(r.current=t.current(),s.current=!0),a(l=>l+1),()=>{n.current&&r.current&&r.current()}),[])},Sr=e=>{const[t,r]=(0,Ae.useState)(),{context:s,popupService:n,localeService:a,gos:l,editService:o}=(0,Ae.useContext)(ae);return wr(()=>{const{editDetails:c,cellCtrl:p,eParentCell:u}=e,{compDetails:i}=c,S=l.get("stopEditingWhenCellsLoseFocus"),g=s.createBean(o.createPopupEditorWrapper(i.params)),d=g.getGui();if(e.jsChildComp){const b=e.jsChildComp.getGui();b&&d.appendChild(b)}const h={column:p.getColumn(),rowNode:p.getRowNode(),type:"popupCellEditor",eventSource:u,ePopup:d,position:c.popupPosition,keepWithinBounds:!0},m=n.positionPopupByComponent.bind(n,h),C=a.getLocaleTextFunc(),R=n.addPopup({modal:S,eChild:d,closeOnEsc:!0,closedCallback:()=>{p.onPopupEditorClosed()},anchorToElement:u,positionCallback:m,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),E=R?R.hideFunc:void 0;return r(g),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{E?.(),s.destroyBean(g)}}),Ae.default.createElement(Ae.default.Fragment,null,t&&e.wrappedContent&&(0,Ut.createPortal)(e.wrappedContent,t.getGui()))},Ct=(0,Ae.memo)(Sr),br=(e,t,r,s,n,a)=>{const{context:l}=(0,Ue.useContext)(ae),o=(0,Ue.useCallback)(()=>{const c=n.current;if(!c)return;const p=c.getGui();p&&p.parentElement&&p.parentElement.removeChild(p),l.destroyBean(c),n.current=void 0},[]);(0,Ue.useEffect)(()=>{const c=e!=null,p=e&&e.compDetails&&!e.compDetails.componentFromFramework,u=t&&r==null;if(!(c&&p&&!u)){o();return}const S=e.compDetails;if(n.current){const d=n.current,m=d.refresh!=null&&e.force==!1?d.refresh(S.params):!1;if(m===!0||m===void 0)return;o()}const g=S.newAgStackInstance();g?.then(d=>{if(!d)return;const h=d.getGui();if(!h)return;(t?r:a.current).appendChild(h),n.current=d})},[e,t,s]),(0,Ue.useEffect)(()=>o,[])},Er=br,Pr=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),a=Me(t);return f.default.createElement(Be.Provider,{value:{setMethods:l=>s.setMethods(l)}},a&&f.default.createElement(t,{...n}),!a&&f.default.createElement(t,{...n,ref:l=>s.setRef(l)}))},gt=(e,t,r)=>{const s=e.compProxy;return f.default.createElement(f.default.Fragment,null,!s&&f.default.createElement(t,{...e.compDetails.params,ref:r}),s&&Pr(e,t,r))},Mr=(e,t,r,s,n,a)=>{const l=e.compDetails,o=l.componentClass,c=l.componentFromFramework&&!e.popup,p=l.componentFromFramework&&e.popup,u=!l.componentFromFramework&&e.popup;return f.default.createElement(f.default.Fragment,null,c&&gt(e,o,t),p&&f.default.createElement(Ct,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:gt(e,o,r)}),u&&a&&f.default.createElement(Ct,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:a}))},kr=(e,t,r,s,n,a,l)=>{const{compDetails:o,value:c}=e,p=!o,u=o&&o.componentFromFramework,i=o&&o.componentClass,S=c?.toString?c.toString():c,g=()=>f.default.createElement(f.default.Fragment,null,p&&f.default.createElement(f.default.Fragment,null,S),u&&!a&&f.default.createElement(i,{...o.params,key:t,ref:s}),u&&a&&f.default.createElement(i,{...o.params,key:t}));return f.default.createElement(f.default.Fragment,null,n?f.default.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:l},g()):g())},Fr=e=>{const{context:t}=(0,f.useContext)(ae),{cellCtrl:r,printLayout:s,editingRow:n}=e,a=r.getTabIndex(),l=r.getColumnIdSanitised(),o=r.getInstanceId(),[c,p]=(0,f.useState)(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[u,i]=(0,f.useState)(),[S,g]=(0,f.useState)(1),[d,h]=(0,f.useState)(),[m,C]=(0,f.useState)(!1),[R,E]=(0,f.useState)(!1),[b,k]=(0,f.useState)(!1),[F,W]=(0,f.useState)(),O=(0,f.useMemo)(()=>r.isForceWrapper(),[r]),y=(0,f.useMemo)(()=>r.getCellAriaRole(),[r]),v=(0,f.useRef)(null),P=(0,f.useRef)(null),M=(0,f.useRef)(),$=(0,f.useRef)(),N=(0,f.useRef)(),j=(0,f.useRef)([]),A=(0,f.useRef)(),[H,U]=(0,f.useState)(0),K=(0,f.useCallback)(te=>{A.current=te,U(Y=>Y+1)},[]),V=c!=null&&(m||b||R),q=O||V,G=(0,f.useCallback)((te,Y)=>{$.current=Y,Y&&Y.isCancelBeforeStart&&Y.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)})},[r]),se=(0,f.useCallback)(te=>G(!0,te),[G]),ue=(0,f.useCallback)(te=>G(!1,te),[G]),L=(0,f.useRef)();L.current||(L.current=new lt.CssClassManager(()=>v.current)),Er(c,q,A.current,H,M,v);const Re=(0,f.useRef)();(0,f.useLayoutEffect)(()=>{const te=Re.current,Y=c;if(Re.current=c,te==null||te.compDetails==null||Y==null||Y.compDetails==null)return;const ee=te.compDetails,B=Y.compDetails;if(ee.componentClass!=B.componentClass||P.current==null||P.current.refresh==null)return;P.current.refresh(B.params)!=!0&&g(le=>le+1)},[c]),(0,f.useLayoutEffect)(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const Y=u.compDetails,ee=u.popup===!0,B=Y.newAgStackInstance();return B.then(Z=>{if(!Z)return;const le=Z.getGui();G(ee,Z),ee||((O?N:v).current?.appendChild(le),Z.afterGuiAttached&&Z.afterGuiAttached()),W(Z)}),()=>{B.then(Z=>{const le=Z.getGui();t.destroyBean(Z),G(ee,void 0),W(void 0),le&&le.parentElement&&le.parentElement.removeChild(le)})}},[u]);const ce=(0,f.useCallback)(te=>{if(N.current=te,!N.current){j.current.forEach(ee=>ee()),j.current=[];return}const Y=ee=>{if(ee){const B=ee.getGui();N.current?.insertAdjacentElement("afterbegin",B),j.current.push(()=>{t.destroyBean(ee),(0,lt._removeFromParent)(B)})}return ee};if(m){const ee=r.createSelectionCheckbox();Y(ee)}b&&Y(r.createDndSource()),R&&Y(r.createRowDragComp())},[r,t,b,R,m]),Ce=(0,f.useCallback)(te=>{if(v.current=te,!v.current||!r)return;const Y={addOrRemoveCssClass:(B,Z)=>L.current.addOrRemoveCssClass(B,Z),setUserStyles:B=>h(B),getFocusableElement:()=>v.current,setIncludeSelection:B=>C(B),setIncludeRowDrag:B=>E(B),setIncludeDndSource:B=>k(B),getCellEditor:()=>$.current||null,getCellRenderer:()=>P.current?P.current:M.current,getParentOfValue:()=>A.current?A.current:N.current?N.current:v.current,setRenderDetails:(B,Z,le)=>{p(ge=>ge?.compDetails!==B||ge?.value!==Z||ge?.force!==le?{value:Z,compDetails:B,force:le}:ge)},setEditDetails:(B,Z,le,ge)=>{if(B){let Fe;ge?Fe=new vr(B.params,()=>g(be=>be+1)):B.componentFromFramework&&Ve(),i({compDetails:B,popup:Z,popupPosition:le,compProxy:Fe}),Z||p(void 0)}else i(Fe=>{Fe?.compProxy&&($.current=void 0)})}},ee=N.current||void 0;r.setComp(Y,v.current,ee,s,n)},[]),ke=(0,f.useMemo)(()=>!!(c&&c.compDetails&&c.compDetails.componentFromFramework&&Me(c.compDetails.componentClass)),[c]);(0,f.useLayoutEffect)(()=>{v.current&&(L.current.addOrRemoveCssClass("ag-cell-value",!q),L.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),L.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),L.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),r.getRowCtrl()?.setInlineEditingCss(!!u),r.shouldRestoreFocus()&&!r.isEditing()&&v.current.focus({preventScroll:!0}))});const je=()=>f.default.createElement(f.default.Fragment,null,c!=null&&kr(c,S,o,P,q,ke,K),u!=null&&Mr(u,ue,se,v.current,r,F));return f.default.createElement("div",{ref:Ce,style:d,tabIndex:a,role:y,"col-id":l},q?f.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ce},je()):je())},Gr=(0,f.memo)(Fr),Ir=e=>{const{context:t,gos:r}=(0,_.useContext)(ae),{rowCtrl:s,containerType:n}=e,a=s.getTabIndex(),l=(0,_.useRef)(s.getDomOrder()),o=s.isFullWidth(),c=s.getRowNode().displayed,[p,u]=(0,_.useState)(()=>c?s.getRowIndex():null),[i,S]=(0,_.useState)(()=>s.getRowId()),[g,d]=(0,_.useState)(()=>s.getBusinessKey()),[h,m]=(0,_.useState)(()=>s.getRowStyles()),C=(0,_.useRef)(null),R=(0,_.useRef)(null),[E,b]=(0,_.useState)(()=>null),[k,F]=(0,_.useState)(),[W,O]=(0,_.useState)(()=>c?s.getInitialRowTop(n):void 0),[y,v]=(0,_.useState)(()=>c?s.getInitialTransform(n):void 0),P=(0,_.useRef)(null),M=(0,_.useRef)(),$=(0,_.useRef)(!1),[N,j]=(0,_.useState)(0);(0,_.useEffect)(()=>{if($.current||!k||N>10)return;const L=P.current?.firstChild;L?(s.setupDetailRowAutoHeight(L),$.current=!0):j(Re=>Re+1)},[k,N]);const A=(0,_.useRef)();A.current||(A.current=new Nt.CssClassManager(()=>P.current));const H=(0,_.useCallback)(L=>{if(P.current=L,!P.current){s.unsetComp(n);return}if(!s.isAlive())return;const Re={setTop:O,setTransform:v,addOrRemoveCssClass:(ce,Ce)=>A.current.addOrRemoveCssClass(ce,Ce),setDomOrder:ce=>l.current=ce,setRowIndex:u,setRowId:S,setRowBusinessKey:d,setUserStyles:m,setCellCtrls:(ce,Ce)=>{R.current=C.current,C.current=ce;const ke=Ze(R.current,ce,l.current);ke!==R.current&&Ye(Ce,()=>b(ke))},showFullWidth:ce=>F(ce),getFullWidthCellRenderer:()=>M.current,refreshFullWidth:ce=>G.current?(F(Ce=>({...Ce,params:ce()})),!0):!M.current||!M.current.refresh?!1:M.current.refresh(ce())};s.setComp(Re,P.current,n)},[]);(0,_.useLayoutEffect)(()=>De(k,t,P.current,M),[k]);const U=(0,_.useMemo)(()=>{const L={top:W,transform:y};return Object.assign(L,h),L},[W,y,h]),K=o&&k&&k.componentFromFramework,V=!o&&E!=null,q=(0,_.useMemo)(()=>!!(k?.componentFromFramework&&Me(k.componentClass)),[k]),G=(0,_.useRef)(!1);(0,_.useEffect)(()=>{G.current=q&&!!k&&!!r.get("reactiveCustomComponents")},[q,k]);const se=()=>E?.map(L=>_.default.createElement(Gr,{cellCtrl:L,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:L.getInstanceId()})),ue=()=>{const L=k.componentClass;return _.default.createElement(_.default.Fragment,null,q&&_.default.createElement(L,{...k.params}),!q&&_.default.createElement(L,{...k.params,ref:M}))};return _.default.createElement("div",{ref:H,role:"row",style:U,"row-index":p,"row-id":i,"row-business-key":g,tabIndex:a},V&&se(),K&&ue())},Or=(0,_.memo)(Ir),xr=e=>{const{context:t}=(0,z.useContext)(ae),{name:r}=e,s=(0,z.useMemo)(()=>(0,ct._getRowContainerOptions)(r),[r]),n=(0,z.useRef)(null),a=(0,z.useRef)(null),l=(0,z.useRef)([]),o=(0,z.useRef)([]),[c,p]=(0,z.useState)(()=>[]),u=(0,z.useRef)(!1),i=(0,z.useRef)(),S=(0,z.useMemo)(()=>fe(s.viewport),[s]),g=(0,z.useMemo)(()=>fe(s.container),[s]),d=s.type==="center",h=d?n:a;Se(" AG Row Container "+r+" ",h);const m=(0,z.useCallback)(()=>d?n.current!=null&&a.current!=null:a.current!=null,[]),C=(0,z.useCallback)(()=>d?n.current==null&&a.current==null:a.current==null,[]),R=(0,z.useCallback)(()=>{if(C()&&(t.destroyBean(i.current),i.current=null),m()){const F=O=>{const y=Ze(o.current,l.current,u.current);y!==o.current&&(o.current=y,Ye(O,()=>p(y)))},W={setViewportHeight:O=>{n.current&&(n.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:y})=>{const v=!!y&&l.current.length>0&&O.length>0;l.current=O,F(v)},setDomOrder:O=>{u.current!=O&&(u.current=O,F(!1))},setContainerWidth:O=>{a.current&&(a.current.style.width=O)},setOffsetTop:O=>{a.current&&(a.current.style.transform=`translateY(${O})`)}};i.current=t.createBean(new ct.RowContainerCtrl(r)),i.current.setComp(W,a.current,n.current)}},[m,C]),E=(0,z.useCallback)(F=>{a.current=F,R()},[R]),b=(0,z.useCallback)(F=>{n.current=F,R()},[R]),k=()=>z.default.createElement("div",{className:g,ref:E,role:"rowgroup"},c.map(F=>z.default.createElement(Or,{rowCtrl:F,containerType:s.type,key:F.getInstanceId()})));return z.default.createElement(z.default.Fragment,null,d?z.default.createElement("div",{className:S,ref:b,role:"presentation"},k()):k())},_r=(0,z.memo)(xr),Ar=()=>{const{context:e,resizeObserverService:t}=(0,w.useContext)(ae),[r,s]=(0,w.useState)(""),[n,a]=(0,w.useState)(0),[l,o]=(0,w.useState)(0),[c,p]=(0,w.useState)("0px"),[u,i]=(0,w.useState)("0px"),[S,g]=(0,w.useState)("100%"),[d,h]=(0,w.useState)("0px"),[m,C]=(0,w.useState)("0px"),[R,E]=(0,w.useState)("100%"),[b,k]=(0,w.useState)(""),[F,W]=(0,w.useState)(""),[O,y]=(0,w.useState)(null),[v,P]=(0,w.useState)(""),[M,$]=(0,w.useState)(null),[N,j]=(0,w.useState)("ag-layout-normal"),A=(0,w.useRef)();A.current||(A.current=new we.CssClassManager(()=>H.current));const H=(0,w.useRef)(null),U=(0,w.useRef)(null),K=(0,w.useRef)(null),V=(0,w.useRef)(null),q=(0,w.useRef)(null),G=(0,w.useRef)(null),se=(0,w.useRef)(null),ue=(0,w.useRef)([]),L=(0,w.useRef)([]);Se(" AG Grid Body ",H),Se(" AG Pinned Top ",U),Se(" AG Sticky Top ",K),Se(" AG Middle ",G),Se(" AG Pinned Bottom ",se);const Re=(0,w.useCallback)(Ge=>{if(H.current=Ge,!H.current){e.destroyBeans(ue.current),L.current.forEach(Q=>Q()),ue.current=[],L.current=[];return}if(!e)return;const ze=(Q,pe)=>{Q.appendChild(pe),L.current.push(()=>Q.removeChild(pe))},tt=Q=>{const pe=e.createBean(new Q);return ue.current.push(pe),pe},We=(Q,pe,es)=>{ze(Q,document.createComment(es)),ze(Q,tt(pe).getGui())};We(H.current,we.FakeHScrollComp," AG Fake Horizontal Scroll "),We(H.current,we.OverlayWrapperComponent," AG Overlay Wrapper "),q.current&&We(q.current,we.FakeVScrollComp," AG Fake Vertical Scroll ");const Xr={setRowAnimationCssOnBodyViewport:s,setColumnCount:Q=>{H.current&&(0,we._setAriaColCount)(H.current,Q)},setRowCount:Q=>{H.current&&(0,we._setAriaRowCount)(H.current,Q)},setTopHeight:a,setBottomHeight:o,setStickyTopHeight:p,setStickyTopTop:i,setStickyTopWidth:g,setTopDisplay:k,setBottomDisplay:W,setColumnMovingCss:(Q,pe)=>A.current.addOrRemoveCssClass(Q,pe),updateLayoutClasses:j,setAlwaysVerticalScrollClass:y,setPinnedTopBottomOverflowY:P,setCellSelectableCss:(Q,pe)=>$(pe?Q:null),setBodyViewportWidth:Q=>{G.current&&(G.current.style.width=Q)},registerBodyViewportResizeListener:Q=>{if(G.current){const pe=t.observeResize(G.current,Q);L.current.push(()=>pe())}},setStickyBottomHeight:h,setStickyBottomBottom:C,setStickyBottomWidth:E},vt=e.createBean(new we.GridBodyCtrl);ue.current.push(vt),vt.setComp(Xr,H.current,G.current,U.current,se.current,K.current,V.current)},[]),ce=(0,w.useMemo)(()=>fe("ag-root","ag-unselectable",N),[N]),Ce=(0,w.useMemo)(()=>fe("ag-body-viewport",r,N,O,M),[r,N,O,M]),ke=(0,w.useMemo)(()=>fe("ag-body",N),[N]),je=(0,w.useMemo)(()=>fe("ag-floating-top",M),[M]),te=(0,w.useMemo)(()=>fe("ag-sticky-top",M),[M]),Y=(0,w.useMemo)(()=>fe("ag-sticky-bottom",M),[M]),ee=(0,w.useMemo)(()=>fe("ag-floating-bottom",M),[M]),B=(0,w.useMemo)(()=>({height:n,minHeight:n,display:b,overflowY:v}),[n,b,v]),Z=(0,w.useMemo)(()=>({height:c,top:u,width:S}),[c,u,S]),le=(0,w.useMemo)(()=>({height:d,bottom:m,width:R}),[d,m,R]),ge=(0,w.useMemo)(()=>({height:l,minHeight:l,display:F,overflowY:v}),[l,F,v]),Fe=Ge=>w.default.createElement(_r,{name:Ge,key:`${Ge}-container`}),be=({section:Ge,children:ze,className:tt,style:We})=>w.default.createElement("div",{ref:Ge,className:tt,role:"presentation",style:We},ze.map(Fe));return w.default.createElement("div",{ref:Re,className:ce,role:"treegrid"},w.default.createElement(Rr,null),be({section:U,className:je,style:B,children:["topLeft","topCenter","topRight","topFullWidth"]}),w.default.createElement("div",{className:ke,ref:q,role:"presentation"},be({section:G,className:Ce,children:["left","center","right","fullWidth"]})),be({section:K,className:te,style:Z,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),be({section:V,className:Y,style:le,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),be({section:se,className:ee,style:ge,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Dr=(0,w.memo)(Ar),Br=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:l}=e,{context:o}=(0,de.useContext)(ae),c=(0,de.useRef)(null),p=(0,de.useRef)(null),u=(0,de.useRef)(),i=m=>{const C=m==null?void 0:parseInt(m,10).toString();[c,p].forEach(R=>{C===void 0?R.current?.removeAttribute("tabindex"):R.current?.setAttribute("tabindex",C)})};(0,de.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(m){u.current?.forceFocusOutOfContainer(m)}}));const S=(0,de.useCallback)(()=>{if(!c.current&&!p.current){o.destroyBean(u.current),u.current=null;return}if(c.current&&p.current){const m={setTabIndex:i};u.current=o.createBean(new qe.TabGuardCtrl({comp:m,eTopGuard:c.current,eBottomGuard:p.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:l,focusInnerElement:C=>a.focusInnerElement(C)}))}},[]),g=(0,de.useCallback)(m=>{c.current=m,S()},[S]),d=(0,de.useCallback)(m=>{p.current=m,S()},[S]),h=m=>{const C=m==="top"?qe.TabGuardClassNames.TAB_GUARD_TOP:qe.TabGuardClassNames.TAB_GUARD_BOTTOM;return de.default.createElement("div",{className:`${qe.TabGuardClassNames.TAB_GUARD} ${C}`,role:"presentation",ref:m==="top"?g:d})};return de.default.createElement(de.default.Fragment,null,h("top"),r,h("bottom"))},Tr=(0,de.forwardRef)(Br),Wr=(0,de.memo)(Tr),Nr=({context:e})=>{const[t,r]=(0,T.useState)(""),[s,n]=(0,T.useState)(""),[a,l]=(0,T.useState)(null),[o,c]=(0,T.useState)(null),[p,u]=(0,T.useState)(!1),[i,S]=(0,T.useState)(),g=(0,T.useRef)(null),d=(0,T.useRef)(null),h=(0,T.useRef)(),[m,C]=(0,T.useState)(null),R=(0,T.useRef)(()=>{}),E=(0,T.useRef)(),b=(0,T.useRef)([]),k=(0,T.useCallback)(()=>{},[]),F=(0,T.useMemo)(()=>e.isDestroyed()?null:e.getBeans(),[e]);Se(" AG Grid ",d);const W=(0,T.useCallback)(M=>{if(d.current=M,!d.current){e.destroyBean(g.current),g.current=null;return}if(e.isDestroyed())return;g.current=e.createBean(new At.GridCtrl);const $=g.current;R.current=$.focusInnerElement.bind($);const N={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:j=>{if(!j&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(j);return}h.current?.forceFocusOutOfContainer(j)},updateLayoutClasses:n,getFocusableContainers:()=>{const j=[],A=d.current?.querySelector(".ag-root");return A&&j.push({getGui:()=>A}),b.current.forEach(H=>{H.isDisplayed()&&j.push(H)}),j},setCursor:l,setUserSelect:c};$.setComp(N,d.current,d.current),u(!0)},[]);(0,T.useEffect)(()=>{if(!i||!F||!g.current||!m||!d.current)return;const M=g.current,$=[],{watermarkSelector:N,paginationSelector:j,sideBarSelector:A,statusBarSelector:H,gridHeaderDropZonesSelector:U}=M.getOptionalSelectors(),K=[],V=d.current;if(U){const G=e.createBean(new U.component),se=G.getGui();V.insertAdjacentElement("afterbegin",se),K.push(se),$.push(G)}if(A){const G=e.createBean(new A.component),se=G.getGui(),ue=m.querySelector(".ag-tab-guard-bottom");ue&&(ue.insertAdjacentElement("beforebegin",se),K.push(se)),$.push(G),b.current.push(G)}const q=G=>{const se=e.createBean(new G),ue=se.getGui();return V.insertAdjacentElement("beforeend",ue),K.push(ue),$.push(se),se};if(H&&q(H.component),j){const G=q(j.component);E.current=G,b.current.push(G)}return N&&q(N.component),()=>{e.destroyBeans($),K.forEach(G=>{G.parentElement&&G.parentElement.removeChild(G)})}},[i,m,F]);const O=(0,T.useMemo)(()=>fe("ag-root-wrapper",t,s),[t,s]),y=(0,T.useMemo)(()=>fe("ag-root-wrapper-body","ag-focus-managed",s),[s]),v=(0,T.useMemo)(()=>({userSelect:o??"",WebkitUserSelect:o??"",cursor:a??""}),[o,a]),P=(0,T.useCallback)(M=>{h.current=M,S(M!==null)},[]);return T.default.createElement("div",{ref:W,className:O,style:v,role:"presentation"},T.default.createElement("div",{className:y,ref:C,role:"presentation"},p&&m&&F&&T.default.createElement(ae.Provider,{value:F},T.default.createElement(Wr,{ref:P,eFocusableElement:m,onTabKeyDown:k,gridCtrl:g.current,forceFocusOutWhenTabGuardsAreEmpty:!0},T.default.createElement(Dr,null)))))},Hr=(0,T.memo)(Nr),Ur=class extends qt.BeanStub{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Rt=e=>{const t=(0,I.useRef)(),r=(0,I.useRef)(null),s=(0,I.useRef)(null),n=(0,I.useRef)([]),a=(0,I.useRef)([]),l=(0,I.useRef)(e),o=(0,I.useRef)(),c=(0,I.useRef)(!1),[p,u]=(0,I.useState)(void 0),[,i]=(0,I.useState)(0),S=(0,I.useCallback)(h=>{if(r.current=h,!r.current){n.current.forEach(y=>y()),n.current.length=0;return}const m=e.modules||[];s.current||(s.current=new cr(()=>i(y=>y+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{s.current?.destroy(),s.current=null}));const C=(0,ve._combineAttributesAndGridOptions)(e.gridOptions,e),R=()=>{if(c.current){const y=()=>o.current?.shouldQueueUpdates()?void 0:a.current.shift();let v=y();for(;v;)v(),v=y()}},E=Vt()?new jr(R):new yt;o.current=E;const b=new Ur,k={providedBeanInstances:{frameworkComponentWrapper:new Lr(s.current,C.reactiveCustomComponents??!0),renderStatusService:b},modules:m,frameworkOverrides:E},F=y=>{u(y),y.createBean(b),n.current.push(()=>{y.destroy()}),y.getBean("ctrlsService").whenReady(()=>{if(y.isDestroyed())return;const P=t.current;P&&e.setGridApi&&e.setGridApi(P)})},W=y=>{y.getBean("ctrlsService").whenReady(()=>{a.current.forEach(P=>P()),a.current.length=0,c.current=!0})},O=new ve.GridCoreCreator;t.current=O.create(r.current,C,F,W,k)},[]),g=(0,I.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),d=(0,I.useCallback)(h=>{c.current&&!o.current?.shouldQueueUpdates()?h():a.current.push(h)},[]);return(0,I.useEffect)(()=>{const h=qr(l.current,e);l.current=e,d(()=>{t.current&&(0,ve._processOnChange)(h,t.current)})},[e]),I.default.createElement("div",{style:g,className:e.className,ref:S},p&&!p.isDestroyed()?I.default.createElement(Hr,{context:p}):null,s.current?.getPortals()??null)};function qr(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var Lr=class extends ve.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(a=>{switch(a){case"filter":return Yt;case"floatingFilterComponent":return Xt;case"dateComponent":return Qt;case"loadingOverlayComponent":return er;case"noRowsOverlayComponent":return rr;case"statusPanel":return sr;case"toolPanel":return nr;case"menuItem":return tr;case"cellRenderer":return Kt}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ve();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new ft(e,this.parent,t,r)}},Vr=(0,I.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s,gos:n,resizeObserverService:a,rowModel:l}=(0,I.useContext)(ae),[o,c]=(0,I.useState)(()=>new me),[p,u]=(0,I.useState)(()=>new me),[i,S]=(0,I.useState)(),[g,d]=(0,I.useState)(),h=(0,I.useRef)(),m=(0,I.useRef)(null),C=(0,I.useRef)(),R=(0,I.useMemo)(()=>ve.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),E=(0,I.useMemo)(()=>o.toString()+" ag-details-row",[o]),b=(0,I.useMemo)(()=>p.toString()+" ag-details-grid",[p]);t&&(0,I.useImperativeHandle)(t,()=>({refresh(){return h.current?.refresh()??!1}})),e.template&&(0,ve._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const k=(0,I.useCallback)(W=>{if(m.current=W,!m.current){s.destroyBean(h.current),C.current&&C.current();return}const O={addOrRemoveCssClass:(v,P)=>c(M=>M.setClass(v,P)),addOrRemoveDetailGridCssClass:(v,P)=>u(M=>M.setClass(v,P)),setDetailGrid:v=>S(v),setRowData:v=>d(v),getGui:()=>m.current},y=r.getInstance("detailCellRenderer");if(y&&(s.createBean(y),y.init(O,e),h.current=y,n.get("detailRowAutoHeight"))){const v=()=>{if(m.current==null)return;const P=m.current.clientHeight;P!=null&&P>0&&setTimeout(()=>{e.node.setRowHeight(P),(l.getType()==="clientSide"||l.getType()==="serverSide")&&l.onRowHeightChanged()},0)};C.current=a.observeResize(m.current,v),v()}},[]),F=(0,I.useCallback)(W=>{h.current?.registerDetailWithMaster(W)},[]);return I.default.createElement("div",{className:E,ref:k},i&&I.default.createElement(Rt,{className:b,...i,modules:R,rowData:g,setGridApi:F}))}),yt=class extends ve.VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:pt,agGroupRowRenderer:pt,agDetailCellRenderer:Vr},this.wrapIncoming=(e,t)=>t==="ensureVisible"?jt(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},jr=class extends yt{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},zr=class extends nt.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return nt.default.createElement(Rt,{...this.props,setGridApi:this.setGridApi})}};function Te(e){const{setMethods:t}=(0,Lt.useContext)(Be);t(e)}function $r(e){Te(e)}function Jr(e){return Te(e)}function Kr(e){return Te(e)}function Qr(e){Te(e)}function Yr(e){Te(e)}if(typeof ye.exports=="object"&&typeof Ee=="object"){var Zr=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,n)&&n!==r&&Object.defineProperty(e,n,{get:()=>t[n],enumerable:!(s=Object.getOwnPropertyDescriptor(t,n))||s.enumerable});return e};ye.exports=Zr(ye.exports,Ee)}return ye.exports});
