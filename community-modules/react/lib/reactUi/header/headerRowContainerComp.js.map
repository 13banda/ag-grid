{"version":3,"sources":["reactUi/header/headerRowContainerComp.tsx"],"names":[],"mappings":"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","file":"headerRowContainerComp.js","sourcesContent":["import React, { memo, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { BeansContext } from '../beansContext';\nimport {\n    IHeaderRowContainerComp, HeaderRowCtrl, HeaderRowContainerCtrl, Constants\n} from '@ag-grid-community/core';\nimport { CssClasses } from '../utils';\nimport HeaderRowComp from './headerRowComp';\n\n\nconst HeaderRowContainerComp = (props: {pinned: string | null}) => {\n\n    const [cssClasses, setCssClasses] = useState<CssClasses>(new CssClasses());\n    const [centerContainerWidth, setCenterContainerWidth] = useState<string>();\n    const [centerContainerTransform, setCenterContainerTransform] = useState<string>();\n    const [pinnedContainerWidth, setPinnedContainerWidth] = useState<string>();\n    const [headerRowCtrls, setHeaderRowCtrls] = useState<HeaderRowCtrl[]>([]);\n\n    const {context} = useContext(BeansContext);\n    const eGui = useRef<HTMLDivElement>(null);\n\n    const pinnedLeft = props.pinned === Constants.PINNED_LEFT;\n    const pinnedRight = props.pinned === Constants.PINNED_RIGHT;\n    const centre = !pinnedLeft && !pinnedRight;\n\n    useEffect(() => {\n\n        const compProxy: IHeaderRowContainerComp = {\n            addOrRemoveCssClass: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n            setCtrls: ctrls => setHeaderRowCtrls(ctrls),\n\n            // centre only\n            setCenterWidth: width => setCenterContainerWidth(width),\n            setContainerTransform: transform => setCenterContainerTransform(transform),\n\n            // pinned only\n            setPinnedContainerWidth: width => setPinnedContainerWidth(width)\n        };\n\n        const ctrl = context.createBean(new HeaderRowContainerCtrl(props.pinned));\n        ctrl.setComp(compProxy, eGui.current!);\n\n        return () => {\n            context.destroyBean(ctrl);\n        };\n\n    }, []);\n\n    const className = useMemo( ()=> cssClasses.toString(), [cssClasses]);\n\n    const insertRowsJsx = ()=> headerRowCtrls.map( ctrl => <HeaderRowComp ctrl={ctrl} key={ctrl.getInstanceId()} /> );\n\n    const eCenterContainerStyle = useMemo( ()=> ({\n        width: centerContainerWidth,\n        transform: centerContainerTransform\n    }), [centerContainerWidth, centerContainerTransform]);\n\n    const ePinnedStyle = useMemo( ()=> ({\n        width: pinnedContainerWidth,\n        minWidth: pinnedContainerWidth,\n        maxWidth: pinnedContainerWidth,\n    }), [pinnedContainerWidth]);\n\n    return (\n        <>\n            { \n                pinnedLeft && \n                <div ref={eGui} className={\"ag-pinned-left-header \" + className} role=\"presentation\" style={ePinnedStyle}>\n                    { insertRowsJsx() }\n                </div>\n            }\n            { \n                pinnedRight && \n                <div ref={eGui} className={\"ag-pinned-right-header \" + className} role=\"presentation\" style={ePinnedStyle}>\n                { insertRowsJsx() }\n            </div>\n            }\n            { \n                centre && \n                <div ref={eGui} className={\"ag-header-viewport \" + className} role=\"presentation\">\n                    <div className={\"ag-header-container\"} role=\"rowgroup\" style={eCenterContainerStyle}>\n                        { insertRowsJsx() }\n                    </div>\n                </div>\n            }\n        </>\n    );\n};\n\nexport default memo(HeaderRowContainerComp);\n"]}