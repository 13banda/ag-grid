{
    "eventHandlers": [],
    "properties": [
        {
            "name": "columnDefs",
            "value": "[\n    {\n        field: 'q1',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'q2',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'q3',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'q4',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'year',\n        rowGroup: true,\n        hide: true\n    },\n    {\n        headerName: 'Total',\n        colId: 'total',\n        cellClass: 'number-cell total-col',\n        aggFunc: 'sum',\n        valueFormatter: formatNumber,\n        valueGetter: totalValueGetter\n    },\n    {\n        headerName: 'Total x 10',\n        cellClass: 'number-cell total-col',\n        aggFunc: 'sum',\n        minWidth: 120,\n        valueFormatter: formatNumber,\n        valueGetter: total10ValueGetter\n    }\n]"
        },
        { "name": "defaultColDef", "value": "{\n    flex: 1,\n    resizable: true\n}" },
        { "name": "autoGroupColumnDef", "value": "{ minWidth: 130 }" },
        {
            "name": "columnTypes",
            "value": "{\n    quarterFigure: {\n        editable: true,\n        cellClass: 'number-cell',\n        aggFunc: 'sum',\n        valueFormatter: formatNumber,\n        valueParser: function numberParser(params) {\n            return Number(params.newValue);\n        }\n    }\n}"
        },
        { "name": "rowData", "value": "getData()" },
        { "name": "suppressAggFuncInHeader", "value": "true" },
        { "name": "enableCellChangeFlash", "value": "true" },
        { "name": "enableRangeSelection", "value": "true" },
        { "name": "groupDefaultExpanded", "value": "1" },
        { "name": "valueCache", "value": "true" },
        { "name": "getRowNodeId", "value": "function (data) {\n    return data.id;\n}" }
    ],
    "components": [],
    "defaultColDef": "{\n    flex: 1,\n    resizable: true\n}",
    "globalComponents": [],
    "parsedColDefs": "[\n    {\n        field: 'q1',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'q2',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'q3',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'q4',\n        type: 'quarterFigure'\n    },\n    {\n        field: 'year',\n        rowGroup: true,\n        hide: true\n    },\n    {\n        headerName: 'Total',\n        colId: 'total',\n        cellClass: 'number-cell total-col',\n        aggFunc: 'sum',\n        valueFormatter: 'AG_LITERAL_formatNumber',\n        valueGetter: 'AG_LITERAL_totalValueGetter'\n    },\n    {\n        headerName: 'Total x 10',\n        cellClass: 'number-cell total-col',\n        aggFunc: 'sum',\n        minWidth: 120,\n        valueFormatter: 'AG_LITERAL_formatNumber',\n        valueGetter: 'AG_LITERAL_total10ValueGetter'\n    }\n]",
    "instanceMethods": [],
    "externalEventHandlers": [
        {
            "name": "onExpireValueCache",
            "params": "",
            "body": "function onExpireValueCache() {\n    console.log('onInvalidateValueCache -> start');\n    this.gridApi.expireValueCache();\n    console.log('onInvalidateValueCache -> end');\n}"
        },
        {
            "name": "onRefreshCells",
            "params": "",
            "body": "function onRefreshCells() {\n    console.log('onRefreshCells -> start');\n    this.gridApi.refreshCells();\n    console.log('onRefreshCells -> end');\n}"
        },
        {
            "name": "onUpdateOneValue",
            "params": "",
            "body": "function onUpdateOneValue() {\n    var randomId = Math.floor(Math.random() * 10) + '';\n    var rowNode = this.gridApi.getRowNode(randomId);\n    if (rowNode) {\n        var randomCol = [\n            'q1',\n            'q2',\n            'q3',\n            'q4'\n        ][Math.floor(Math.random() * 4)];\n        var newValue = Math.floor(Math.random() * 1000);\n        console.log('onUpdateOneValue -> start');\n        rowNode.setDataValue(randomCol, newValue);\n        console.log('onUpdateOneValue -> end');\n    }\n}"
        }
    ],
    "utils": [
        "var callCount = 1;",
        "var totalValueGetter = function (params) {\n    var q1 = params.getValue('q1');\n    var q2 = params.getValue('q2');\n    var q3 = params.getValue('q3');\n    var q4 = params.getValue('q4');\n    var result = q1 + q2 + q3 + q4;\n    console.log(`Total Value Getter (${ callCount }, ${ params.column.getId() }): ${ [\n        q1,\n        q2,\n        q3,\n        q4\n    ].join(', ') } = ${ result }`);\n    callCount++;\n    return result;\n};",
        "var total10ValueGetter = function (params) {\n    var total = params.getValue('total');\n    return total * 10;\n};",
        "function formatNumber(params) {\n    var number = params.value;\n    return Math.floor(number).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n}"
    ],
    "template": "<div class=\"example-wrapper\">\n    <div style=\"margin-bottom: 5px;\">\n        <button onclick=\"onExpireValueCache()\">Invalidate Value Cache</button>\n        <button onclick=\"onRefreshCells()\">Refresh Cells</button>\n        <button onclick=\"onUpdateOneValue()\">Update One Value</button>\n    </div>\n\n    GRID_TEMPLATE_PLACEHOLDER\n</div>",
    "gridSettings": { "width": "100%", "height": "100%", "theme": "ag-theme-alpine-dark", "enterprise": true }
}
