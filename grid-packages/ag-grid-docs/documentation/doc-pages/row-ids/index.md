---
title: "Row IDs"
---

Row IDs are provided by the application to the grid to enable the grid to identify rows.

Once the grid can identify rows, it can then maintain state between changes of Row Data. Maintained State includes both the DOM (i.e. the DOM is not redrawn) and Business State (e.g. Row Selection and Row Group Open / Closed).

The Row ID also allows accessing the grid's rows via the Grid API. For example if you decide to use `employeeId` as your Row ID, then you can look up rows inside the grid by providing `employeeId` to the `getRowNode(id)` API.

## Setting Row IDs

Setting Row IDs is done using the `getRowId()` grid callback.

<snippet>
const gridOptions = {
    // assumes each data item provided by the application has the ID stored in an attribute called id
    getRowId: params => params.data.id
}
</snippet>

<interface-documentation interfaceName='GetRowIdParams'></interface-documentation>

The example below has `getRowId()` implemented to return `params.data.id`. When the grid is ready, the ID `car-f` is used to look up a row from the grid's API and then select that Row.

<grid-example title='Get Row ID' name='get-row-id' type='generated' options=' { "modules": ["clientside"] }'></grid-example>

See [Accessing Data](/accessing-data/) for more information on `getRowNode(id)` API.

## ID Identity

When providing IDs the following rules must be obeyed:

1. IDs must be unique
1. IDs must not change

## Grid Assigned IDs

If `getRowId()` is not provided, Row IDs are generated by the grid when data is set into the grid. The grid uses a sequence starting at 0 and incrementing by 1 to assign row IDs, so if for example there are three rows they will have IDs of `0`, `1` and `2`. The Row ID does not change for a Row once it is set.

If the Row Data is updated to a new set, the grid will continue with it's sequence. For example if 10 rows are initially set, IDs [0..9] are used. Then if the data is set again for another 10 rows, IDs [10..19] are used. This is true even if the second set of rows are logically identical to the first set of rows (i.e. it's a refresh operation).

## Client-Side Row Model

When using Client-Side Row Model [Row Grouping](/grouping/) the grid assigns IDs to the row groups as the row groups are created. It uses 
another sequence again starting at 0 and incrementing by 1 and also prefixes the sequence number with `row-group-`. 
So if for example there are three groups they will have IDs of `row-group-0`, `row-group-1` and `row-group-2`. If the 
groups are destroyed (eg the user removes the grouping) and recreated again (the user groups by a column) then new IDs 
will be created e.g. `row-group-3`, `row-group-4` and `row-group-5`. As with normal rows, the IDs for group rows do 
not change for as long as the row group exists, however removing and re-adding the grouping will result in new row 
group IDs even if the row group represents the same group as before.

The grid will always assign IDs for group levels. The callback `getRowId()` is not used for groups.

## Server-Side Row Model

Assigning IDs for [Server-Side Row Model](/server-side-row-model/) as Rows can be refreshed from the server when actions like Sorting and Filtering occur. The grid needs Row IDs to identify Rows between such actions, so that items such as Selection can be maintained between refreshes.

### Default IDs

When [Row Grouping](/server-side-model-grouping/), the grid will issue IDs for each level using a sequence starting at zero. For the top level, the sequence will be `0`, `1`, `2`. For Rows inside Groups, the Group Name will be used to prefix the sequence e.g. `Ireland-0`, `Ireland-1`, `Ireland-2` for Rows under Ireland. When there are multiple levels of Row Grouping, then the Rows will use the names for all parent groups, e.g. `Ireland-Swimming-0`, `Ireland-Swimming-1`, `Ireland-Swimming-2`. This ensures all Row IDs are unique, even across groups.

As the default IDs are not based on the underlying data, the would give strange behaviour. For example if the first displayed row in the grid is selected, and then the rows are sorted (resulting in a refresh to the server), then the first row will remain selected (as it has the same ID). It's for this reason Row Selection requires Row IDs to be provided.
### Custom IDs

When providing custom IDs, you can assign any ID that you like, once it's unique across all groups. You may wish to use the `parentKeys` and `level` attributes of the provided params to the callback. Depending on your application, you may use these details to build your own IDs including the parent Row Group names.

The most simple Custom ID is to return from as sequence as follows:

<snippet suppressFrameworkContext=true>
const gridOptions = {
    getRowId: p => (sequence++).toString()
}
</snippet>

However the simple version will never assign the same ID twice, thus selections will be lost between refreshes. For a Row ID to work properly, it should return the same result for the same data every time. The following is a better way to implement Row IDs.

<snippet suppressFrameworkContext=true>
const gridOptions = {
    getRowId: params => {
        //
        // this array will contain items that will compose the unique ID
        const parts = [];
        //
        // if parent groups, add the value for the parent group
        if (params.parentKeys){
            params.parentKeys.forEach(part => parts.push(part));
        }
        //
        // it we are a group, add the value for this level's group
        const rowGroupCols = params.columnApi.getRowGroupColumns();
        const thisGroupCol = rowGroupCols[params.level];
        if (thisGroupCol) {
            const field = thisGroupCol.getColDef().field;
            const partThisGroup = params.data[field];
            parts.push(partThisGroup);
        }
        //
        // if there is an id (happens on leaf level for this example) then add that
        if (params.data.id) {
            parts.push(params.data.id);      
        }
        const res = parts.join('-');
        return res;
    }
}
</snippet>

The example below uses this snipped. Note the column Row ID displays what the Row ID is. Also note that the Row IDs are deterministic regardless of position, i.e. sorting the data by Gold moves the rows, but each rows maintains it's unique Row ID.

<grid-example title='Row Grouping' name='row-grouping' type='generated' options='{ "enterprise": true, "exampleHeight": 590, "extras": ["alasql"], "modules": ["serverside", "rowgrouping"] }'></grid-example>
