# 9th Jun 2023 - Grid v30.0.0 (Charts v8.0.0)
---
## Feature Highlights


---

## Breaking Changes


### Angular Upgrade

The minimum Angular dependency supported by AG Grid v30 is now Angular v12. Previous versions of Angular aren't supported by AG Grid v30. There is no v30 for `@ag-grid-community/angular-legacy` or `ag-grid-angular-legacy` as these are only required for Angular versions <= v11. See [Angular Compatibility](https://ag-grid.com/archive/30.0.0/angular-data-grid/angular-compatibility/) for more information.

### Typescript Upgrade

Minimum version of Typescript is now v4.3 for v30 of AG Grid. You may have type errors if a `TData` generic is provided to `GridOptions` but the `columnDefs` is set from an untyped external property. To resolve provide explicit type your `columnDefs`.

### Module Registration

Modules registered individually to a grid are now only available to that instance of the grid. Previously individually registered modules were registered globally leading to a leaking of features across different grids. See [Registering AG Grid Modules](https://ag-grid.com/archive/30.0.0/javascript-data-grid/modules/#registering-ag-grid-modules) for more information.

### ColDef
The following properties were previously deprecated and have now been removed:

* Cell Rendering

  *   `cellRendererFramework` - removed, use `cellRenderer` instead.
  *   Return type of `cellRendererSelector` property `frameworkComponent` removed - use `component` property instead.

* Cell Editing

    *   The `CellKeyPress` and `FullWidthCellKeyPress` events are no longer fired by the Grid. These events have been replaced by `CellKeyDown` and `FullWidthCellKeyDown`. All events that had source= `spacePressed` or `deleteKeyPressed` now have the source set to `spaceKey` or `deleteKey.`

    *   `cellEditorFramework` - removed, use `cellEditor` instead.
    *   Return type of `cellEditorSelector` property `frameworkComponent` removed - use `component` property instead.
    *   `'agPopupTextCellEditor'` removed - use `{cellEditor: "agTextCellEditor"; cellEditorPopup: true}` instead.
    *   `'agPopupSelectCellEditor'` removed - use `{cellEditor: "agSelectCellEditor"; cellEditorPopup: true}` instead.

* Components

    *   `tooltipComponentFramework` - removed, use `tooltipComponent` instead.
    *   `headerComponentFramework` - removed, use `headerComponent` instead.
    *   `headerGroupComponentFramework` - removed, use `headerGroupComponent` instead.

* Header Height

    *   `colDef.spanHeaderHeight` removed and made default, use `colDef.suppressSpanHeaderHeight` to suppress.

### ColumnGroup

The following properties were previously deprecated and have now been removed.

*   `colGroupDef.stickyLabel` removed and made default, use `colGroupDef.suppressStickyLabel` to suppress.

*   `getOriginalColumnGroup` - removed, use `getProvidedColumnGroup` instead.

### Column Api

The following methods were previously deprecated and have now been removed.

*   `getOriginalColumnGroup` - removed, use `getProvidedColumnGroup` instead.

### GridOptions

The following properties were previously deprecated and have now been removed.

* Clipboard
    *   `clipboardDeliminator` - removed, use `clipboardDelimiter` instead.

* Components
    *   `frameworkComponents` - removed, use `components` instead.
    *   `loadingCellRendererFramework` - removed, use `loadingCellRenderer` instead.
    *   Return type of `loadingCellRendererSelector` property `frameworkComponent` removed - use `component` instead.
    *   `detailCellRendererFramework` - removed, use `detailCellRenderer` instead.
    *   `loadingOverlayComponentFramework` - removed, use `loadingOverlayComponent` instead.
    *   `noRowsOverlayComponentFramework` - removed, use `noRowsOverlayComponent` instead.
    *   `fullWidthCellRendererFramework` - removed, use `fullWidthCellRenderer` instead.
    *   `groupRowRendererFramework` - removed, use `groupRowRenderer` instead.

* Editing
    *   `stopEditingWhenGridLosesFocus` - removed, use `stopEditingWhenCellsLoseFocus` instead.

* Full Width
    *   `isFullWidthCell` - removed, use `isFullWidthRow` instead.

* Filtering
    *   Set Filter parameter `defaultToNothingSelected` will be ignored when `excelMode` is set
    *   All browsers now use HTML number inputs for the Number Filter by default. The old behaviour (in browsers other than Chrome or Edge) can be replicated by setting `filterParams.allowedCharPattern = '\\d\\-\\.'`
    *   `serverSideFilterAllLevels` - deprecated and the behaviour made default. Set `serverSideOnlyRefreshFilteredGroups` property to only refresh filtered groups as before.
    *   `excludeHiddenColumnsFromQuickFilter` - deprecated and the behavior made default. Hidden columns are now excluded from the Quick Filter by default. To include them, set the grid option `includeHiddenColumnsInQuickFilter = true`

* Grouping
    *   `groupMultiAutoColumn` - removed, set `groupDisplayType='multipleColumns'` instead.
    *   `groupUseEntireRow` - removed, set `groupDisplayType='groupRows'` instead.
    *   `defaultGroupOrderComparator` - removed, use `initialGroupOrderComparator` instead.
    *   `groupRowAggNodes` - removed, use `getGroupRowAgg` instead.
    *   `gridOptions.groupRowsSticky` removed and made default, use `gridOptions.suppressGroupRowsSticky` to suppress.
    *   `suppressAggAtRootLevel` - deprecated and the behavior made default. The root level aggregation is now suppressed by default, except when using `groupIncludeTotalFooter=true`. This can be toggled using `alwaysAggregateAtRootLevel`

* Immutable Data
    *   `immutableData` - removed, implement `getRowId()` to enable immutable data mode.
    *   `getRowNodeId` - removed, use `getRowId()` instead.

* Localisation
    *   `localeTextFunc` - removed, use `getLocaleText` instead.

* Selection
    *   `suppressCellSelection` - removed, use `suppressCellFocus` instead.

* Sorting
    *   `postSort` - removed, use `postSortRows` instead.

* React
    *   `reactUI` - removed as this is now the default.

* Row Dragging
    *   `enableMultiRowDragging` - removed, use `rowDragMultiRow` instead.

* Tool Panel
    *   `toolPanelVisibleChanged` updated, see [toolPanelVisibleChanged](https://ag-grid.com/javascript-data-grid/tool-panel/#reference-accessories-toolPanelVisibleChanged). It now fires twice when switching between tool panels (once for the old panel and once for the new panel), but has new fields to indicate the change. The source property now refers to the event source rather than the panel name.

### Grid API
Callbacks which had the generic `TValue` type may now be slightly stricter with regards to null values. See [Cell \<TValue>](https://ag-grid.com/javascript-data-grid/typescript-generics/#cell-value-tvalue).

The following methods were previously deprecated and have now been removed.

* Full Width
    *   `setIsFullWidthCell` - removed, use `setIsFullWidthRow` instead.

* Grouping
    *   `setGroupRowAggNodes` - removed, use `setGetGroupRowAgg` instead.
    *   `setDefaultGroupOrderComparator` - removed, use `setInitialGroupOrderComparator` instead.

* Immutable Data
    *   `setGetRowNodeId` - removed, use `setGetRowId` instead.

* Sorting
    *   `setPostSort` - removed, use `setPostSortRows` instead.

* Selection
    *   `rowNode.setSeleted()` property `suppressFinishActions` - removed, use `gridApi.setNodesSelected()` for bulk row selection, and the event `source` property for ignoring events instead.

### IFilterOptionDef

*   `test` - removed, use `predicate` instead.
*   `hideFilterInput` - removed, use `numberOfInputs: 0` instead.

### ISetFilterParams

*   `cellRendererFramework` - removed, use `cellRenderer` instead.

### ToolPanelDef

*   `toolPanelFramework` - removed, use `toolPanel` instead.

### StatusPanelDef

*   `statusPanelFramework` - removed, use `statusPanel` instead.

### IGroupCellRendererParams

*   `innerRendererFramework` - removed, use `innerRenderer` instead.

### IMultiFilterDef

*   `filterFramework` - removed, use `filter` instead.
*   `floatingFilterComponentFramework` - removed, use `floatingFilterComponent` instead.

---

## Charts

*   `AgAxisCategoryTickOptions.maxSpacing` - removed. This option never had any impact on axis tickselection, so this is considered a bugfix to the `AgAxisCategoryTickOptions` type

*   `AgBarSeriesOptions.flipXY` - removed. Specify series type `column` or `bar`instead.

*   When `enabled` is set to false in an options object, all other configurations in that object will be ignored.

*   `autoSize` does not override `height` or `width` and only applies to unsetdimensions. `autoSize` set to false without a `height` or `width` specified,fixes the size of the canvas to its initial size.

*   Default `tooltip.position.type` for all chart types is now `pointer`

*   Disabling the navigator now clears any zoom/scroll applied, rather than leaving it present. Re-enabling restores the previous zoom/scroll state.

Removed support for Chart deprecations from version 7.0.0 / 29.0.0 and earlier.

Legend Formatter

*   The legend is now hidden by default in cartesian charts with only one series. To show the legend, use `legend.enabled`

*   `AgChartLegendLabelFormatterParams.id` - removed, use `seriesId` instead.

*   The default legend position is now `bottom`. To use a custom position, set `legend.position`. `column` series legend items now follow declaration order. Use `legend.reverseOrder = true` to revert this ordering change.

Pie Series

*   Pie series sectors no longer toggle when a legend item is double clicked

*   `AgPieSeriesOptions.label` - removed, use `calloutLabel` instead.
*   `AgPieSeriesOptions.callout` - removed, use `calloutLine` instead.
*   `AgPieSeriesOptions.labelKey` - removed, use `calloutLabelKey` or `sectorLabelKey` instead.
*   `AgPieSeriesOptions.labelName` - removed, use `calloutLabelName` or `sectorLabelName` instead.
*   `AgPieSeriesTooltipRendererParams.labelKey` - removed, use `calloutLabelKey` or `sectorLabelKey` instead.
*   `AgPieSeriesTooltipRendererParams.labelName` - removed, use `calloutLabelName` or `sectorLabelName` instead.
*   `AgPieSeriesLabelFormatterParams.labelKey` - removed, use `calloutLabelKey` instead.
*   `AgPieSeriesLabelFormatterParams.labelValue` - removed, use `calloutLabelValue` instead.
*   `AgPieSeriesLabelFormatterParams.labelName` - removed, use `calloutLabelName` instead.
*   `AgPieSeriesLabelFormatterParams.value` - removed, use `item.datum` instead.

Event Handlers

*   `AgNodeBaseClickEvent.series` - removed, use `seriesId` instead.
*   `AgSeriesNodeClickParams.series` - removed, use `seriesId` instead.

---

## Deprecations

Selection

*   `enterMovesDown` and `enterMovesDownAfterEdit` deprecated. Use `enterNavigatesVertically` and `enterNavigatesVerticallyAfterEdit` instead.