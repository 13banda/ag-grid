import{ALWAYS_SYNC_GLOBAL_EVENTS as me,ComponentUtil as we,_combineAttributesAndGridOptions as ve,_processOnChange as _e,_warnOnce as ye,createGrid as Ee}from"ag-grid-community";function q(e,t){const r=new Set(e.split(","));return t?n=>r.has(n.toLowerCase()):n=>r.has(n)}var Ot={},It=[],be=Object.prototype.hasOwnProperty,_=(e,t)=>be.call(e,t),g=Array.isArray,y=e=>k(e)==="[object Map]",Ce=e=>typeof e=="string",w=e=>typeof e=="symbol",E=e=>e!==null&&typeof e=="object",Oe=Object.prototype.toString,k=e=>Oe.call(e),Ie=e=>k(e).slice(8,-1),F=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,b=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Re=/-(\w)/g,Rt=b(e=>e.replace(Re,(t,r)=>r?r.toUpperCase():"")),Me=/\B([A-Z])/g,Mt=b(e=>e.replace(Me,"-$1").toLowerCase()),Te=b(e=>e.charAt(0).toUpperCase()+e.slice(1)),Tt=b(e=>e?`on${Te(e)}`:""),C=(e,t)=>!Object.is(e,t),Se=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Ae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",St=q(Ae+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Z;function Pe(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}var O=!0,$=0,J=[];function De(){J.push(O),O=!1}function xe(){const e=J.pop();O=e===void 0?!0:e}function j(){$++}function L(){for($--;!$&&z.length;)z.shift()()}function Fe(e,t,r){var n;if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Pe(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}var z=[];function $e(e,t,r){var n;j();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&z.push(s.scheduler)))}L()}var je=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},K=new WeakMap,m=Symbol(""),V=Symbol("");function u(e,t,r){if(O&&Z){let n=K.get(e);n||K.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=je(()=>n.delete(r))),Fe(Z,s,void 0)}}function p(e,t,r,n,s,o){const a=K.get(e);if(!a)return;let i=[];if(t==="clear")i=[...a.values()];else if(r==="length"&&g(e)){const l=Number(n);a.forEach((d,f)=>{(f==="length"||!w(f)&&f>=l)&&i.push(d)})}else switch(r!==void 0&&i.push(a.get(r)),t){case"add":g(e)?F(r)&&i.push(a.get("length")):(i.push(a.get(m)),y(e)&&i.push(a.get(V)));break;case"delete":g(e)||(i.push(a.get(m)),y(e)&&i.push(a.get(V)));break;case"set":y(e)&&i.push(a.get(m));break}j();for(const l of i)l&&$e(l,4,void 0);L()}var Le=q("__proto__,__v_isRef,__isVue"),Q=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(w)),X=ze();function ze(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=c(this);for(let o=0,a=this.length;o<a;o++)u(n,"get",o+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(c)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){De(),j();const n=c(this)[t].apply(this,r);return L(),xe(),n}}),e}function Ke(e){w(e)||(e=String(e));const t=c(this);return u(t,"has",e),t.hasOwnProperty(e)}var ee=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return r===(n?s?Qe:ie:s?Je:oe).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=g(e);if(!n){if(o&&_(X,t))return Reflect.get(X,t,r);if(t==="hasOwnProperty")return Ke}const a=Reflect.get(e,t,r);return(w(t)?Q.has(t):Le(t))||(n||u(e,"get",t),s)?a:G(a)?o&&F(t)?a:a.value:E(a)?n?ce(a):le(a):a}},Ve=class extends ee{constructor(e=!1){super(!1,e)}set(e,t,r,n){let s=e[t];if(!this._isShallow){const i=B(s);if(!tt(r)&&!B(r)&&(s=c(s),r=c(r)),!g(e)&&G(s)&&!G(r))return i?!1:(s.value=r,!0)}const o=g(e)&&F(t)?Number(t)<e.length:_(e,t),a=Reflect.set(e,t,r,n);return e===c(n)&&(o?C(r,s)&&p(e,"set",t,r,s):p(e,"add",t,r)),a}deleteProperty(e,t){const r=_(e,t),n=e[t],s=Reflect.deleteProperty(e,t);return s&&r&&p(e,"delete",t,void 0,n),s}has(e,t){const r=Reflect.has(e,t);return(!w(t)||!Q.has(t))&&u(e,"has",t),r}ownKeys(e){return u(e,"iterate",g(e)?"length":m),Reflect.ownKeys(e)}},Ue=class extends ee{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},Be=new Ve,We=new Ue,U=e=>e,I=e=>Reflect.getPrototypeOf(e);function R(e,t,r=!1,n=!1){e=e.__v_raw;const s=c(e),o=c(t);r||(C(t,o)&&u(s,"get",t),u(s,"get",o));const{has:a}=I(s),i=n?U:r?N:Y;if(a.call(s,t))return i(e.get(t));if(a.call(s,o))return i(e.get(o));e!==s&&e.get(t)}function M(e,t=!1){const r=this.__v_raw,n=c(r),s=c(e);return t||(C(e,s)&&u(n,"has",e),u(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function T(e,t=!1){return e=e.__v_raw,!t&&u(c(e),"iterate",m),Reflect.get(e,"size",e)}function te(e){e=c(e);const t=c(this);return I(t).has.call(t,e)||(t.add(e),p(t,"add",e,e)),this}function re(e,t){t=c(t);const r=c(this),{has:n,get:s}=I(r);let o=n.call(r,e);o||(e=c(e),o=n.call(r,e));const a=s.call(r,e);return r.set(e,t),o?C(t,a)&&p(r,"set",e,t,a):p(r,"add",e,t),this}function ne(e){const t=c(this),{has:r,get:n}=I(t);let s=r.call(t,e);s||(e=c(e),s=r.call(t,e));const o=n?n.call(t,e):void 0,a=t.delete(e);return s&&p(t,"delete",e,void 0,o),a}function se(){const e=c(this),t=e.size!==0,r=void 0,n=e.clear();return t&&p(e,"clear",void 0,void 0,r),n}function S(e,t){return function(n,s){const o=this,a=o.__v_raw,i=c(a),l=t?U:e?N:Y;return!e&&u(i,"iterate",m),a.forEach((d,f)=>n.call(s,l(d),l(f),o))}}function A(e,t,r){return function(...n){const s=this.__v_raw,o=c(s),a=y(o),i=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,d=s[e](...n),f=r?U:t?N:Y;return!t&&u(o,"iterate",l?V:m),{next(){const{value:v,done:x}=d.next();return x?{value:v,done:x}:{value:i?[f(v[0]),f(v[1])]:f(v),done:x}},[Symbol.iterator](){return this}}}}function h(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ye(){const e={get(o){return R(this,o)},get size(){return T(this)},has:M,add:te,set:re,delete:ne,clear:se,forEach:S(!1,!1)},t={get(o){return R(this,o,!1,!0)},get size(){return T(this)},has:M,add:te,set:re,delete:ne,clear:se,forEach:S(!1,!0)},r={get(o){return R(this,o,!0)},get size(){return T(this,!0)},has(o){return M.call(this,o,!0)},add:h("add"),set:h("set"),delete:h("delete"),clear:h("clear"),forEach:S(!0,!1)},n={get(o){return R(this,o,!0,!0)},get size(){return T(this,!0)},has(o){return M.call(this,o,!0)},add:h("add"),set:h("set"),delete:h("delete"),clear:h("clear"),forEach:S(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=A(o,!1,!1),r[o]=A(o,!0,!1),t[o]=A(o,!1,!0),n[o]=A(o,!0,!0)}),[e,r,t,n]}var[Ne,Ge,He,qe]=Ye();function ae(e,t){const r=t?e?qe:He:e?Ge:Ne;return(n,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(_(r,s)&&s in n?r:n,s,o)}var ke={get:ae(!1,!1)},Ze={get:ae(!0,!1)},oe=new WeakMap,Je=new WeakMap,ie=new WeakMap,Qe=new WeakMap;function Xe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function et(e){return e.__v_skip||!Object.isExtensible(e)?0:Xe(Ie(e))}function le(e){return B(e)?e:ue(e,!1,Be,ke,oe)}function ce(e){return ue(e,!0,We,Ze,ie)}function ue(e,t,r,n,s){if(!E(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=et(e);if(a===0)return e;const i=new Proxy(e,a===2?n:r);return s.set(e,i),i}function B(e){return!!(e&&e.__v_isReadonly)}function tt(e){return!!(e&&e.__v_isShallow)}function c(e){const t=e&&e.__v_raw;return t?c(t):e}function W(e){return Object.isExtensible(e)&&Se(e,"__v_skip",!0),e}var Y=e=>E(e)?le(e):e,N=e=>E(e)?ce(e):e;function G(e){return!!(e&&e.__v_isRef===!0)}import{defineComponent as rt,getCurrentInstance as nt,h as st}from"vue";import{ComponentUtil as P,_processOnChange as de}from"ag-grid-community";var at=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ot=e=>`on${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`,it=()=>{const e={};P.PUBLIC_EVENTS.map(a=>ot(at(a))).forEach(a=>e[a]=void 0);const r={},n={modelValue:{handler(a,i){!this.gridCreated||!this.api||a!==i&&(a&&i&&a.length===i.length&&a.every((l,d)=>l===i[d])||de({rowData:a},this.api))},deep:!0}};let s=null,o={};return P.ALL_PROPERTIES.filter(a=>a!="gridOptions").forEach(a=>{e[a]={default:P.VUE_OMITTED_PROPERTY},n[a]={handler(i,l){o[a]=i===P.VUE_OMITTED_PROPERTY?void 0:i,s==null&&(s=setTimeout(()=>{de(o,this.api),s=null,o={}},0))},deep:!0}}),[e,r,n]};import{BaseComponentWrapper as lt,_warnOnce as ct}from"ag-grid-community";import{_errorOnce as ut}from"ag-grid-community";import{createVNode as dt,defineComponent as ft,render as fe}from"vue";function pe(e){ut(`Could not find component with name of ${e}. Is it in Vue.components?`)}var H=class ge{static getComponentDefinition(t,r){let n;return typeof t=="string"?n=this.searchForComponentInstance(r,t):n={extends:ft({...t})},n||pe(t),n.extends?(n.extends.setup&&(n.setup=n.extends.setup),n.extends.props=this.addParamsToProps(n.extends.props)):n.props=this.addParamsToProps(n.props),n}static addParamsToProps(t){return!t||Array.isArray(t)&&t.indexOf("params")===-1?t=["params",...t||[]]:typeof t=="object"&&!t.params&&(t.params={type:Object}),t}static createAndMountComponent(t,r,n,s){const o=ge.getComponentDefinition(t,n);if(!o)return;const{vNode:a,destroy:i,el:l}=this.mount(o,{params:Object.freeze(r)},n,s||{});return{componentInstance:a.component.proxy,element:l,destroy:i}}static mount(t,r,n,s){let o=dt(t,r);o.appContext=n.$.appContext,o.appContext.provides={...s,...o.appContext.provides?o.appContext.provides:{},...n.$parent.$options.provide?n.$parent.$options.provide:{}};let a=document.createElement("div");return fe(o,a),{vNode:o,destroy:()=>{a&&fe(null,a),a=null,o=null},el:a}}static searchForComponentInstance(t,r,n=10,s=!1){let o=null,a=t.$parent,i=0;for(;!o&&a&&a.$options&&++i<n;){const l=a;l.$options&&l.$options.components&&l.$options.components[r]?o=l.$options.components[r]:l[r]&&(o=l[r]),a=a.$parent}if(!o){const l=t.$.appContext.components;l&&l[r]&&(o=l[r])}return!o&&!s?(pe(r),null):o}},pt=class D extends lt{constructor(t,r){super(),this.parent=t,D.provides||(D.provides=r)}createWrapper(t){const r=this;class n extends ht{init(a){super.init(a)}hasMethod(a){const i=s.getFrameworkComponentInstance();return i[a]?!0:i.$.setupState[a]!=null}callMethod(a,i){const l=this.getFrameworkComponentInstance(),d=s.getFrameworkComponentInstance();return d[a]?d[a].apply(l,i):d.$.setupState[a]?.apply(l,i)}addMethod(a,i){s[a]=i}processMethod(a,i){return a==="refresh"&&(this.getFrameworkComponentInstance().params=i[0]),this.hasMethod(a)?this.callMethod(a,i):a==="refresh"}createComponent(a){return r.createComponent(t,a)}}const s=new n;return s}createComponent(t,r){return H.createAndMountComponent(t,r,this.parent,D.provides)}createMethodProxy(t,r,n){return function(){return t.hasMethod(r)?t.callMethod(r,arguments):(n&&ct("Framework component is missing the method "+r+"()"),null)}}destroy(){this.parent=null}},ht=class{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){const{componentInstance:t,element:r,destroy:n}=this.createComponent(e);this.componentInstance=t,this.unmount=n,this.element=r.firstElementChild??r}};import{VanillaFrameworkOverrides as gt}from"ag-grid-community";var mt=class extends gt{constructor(e){super("vue"),this.parent=e}frameworkComponent(e,t){let r=H.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!r&&t&&t[e]){const n=t[e];r=H.searchForComponentInstance(this.parent,n,10,!0)?n:null}return r}isFrameworkComponent(e){return typeof e=="object"}},wt=new Set(["rowDataUpdated","cellValueChanged","rowValueChanged"]),he="onUpdate:modelValue",vt="update:modelValue",[_t,yt,Et]=it(),bt=rt({render(){return st("div")},props:{gridOptions:{type:Object,default:()=>({})},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1},..._t},data(){return{api:void 0,gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},computed:yt,watch:Et,methods:{globalEventListenerFactory(e){return t=>{if(this.isDestroyed)return;t==="gridReady"&&(this.gridReadyFired=!0);const r=me.has(t);r&&!e||!r&&e||this.updateModelIfUsed(t)}},processChanges(e,t,r){if(this.gridCreated){if(this.skipChange(e,t,r))return;const n={[e]:e==="rowData"?Object.isFrozen(t)?t:W(c(t)):t};_e(n,this.api)}},checkForBindingConflicts(){const e=this;(e.rowData&&e.rowData!=="AG-VUE-OMITTED-PROPERTY"||this.gridOptions.rowData)&&e.modelValue&&ye("Using both rowData and v-model. rowData will be ignored.")},getRowData(){const e=[];return this.api?.forEachNode(t=>{e.push(t.data)}),e},updateModelIfUsed(e){this.gridReadyFired&&this.$attrs[he]&&wt.has(e)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const e=this,t=e.modelValue;return t||(e.rowData?e.rowData:e.gridOptions.rowData)},getProvides(){let e=nt(),t={};for(;e;)e&&e.provides&&(t={...t,...e.provides}),e=e.parent;return t},skipChange(e,t,r){if(this.gridReadyFired&&e==="rowData"&&this.$attrs[he]){if(t===r)return!0;if(t&&r){const n=t,s=r;if(n.length===s.length){for(let o=0;o<n.length;o++)if(n[o]!==s[o])return!1;return!0}}}return!1},debounce(e,t){let r;return()=>{const n=function(){e()};window.clearTimeout(r),r=window.setTimeout(n,t)}}},mounted(){this.emitRowModel=this.debounce(()=>{this.$emit(vt,Object.freeze(this.getRowData()))},20);const e=this.getProvides(),t=new pt(this,e),r=W(ve(c(this.gridOptions),this));this.checkForBindingConflicts();const n=this.getRowDataBasedOnBindings();n!==we.VUE_OMITTED_PROPERTY&&(r.rowData=n&&(Object.isFrozen(n)?n:W(c(n))));const s={globalEventListener:this.globalEventListenerFactory().bind(this),globalSyncEventListener:this.globalEventListenerFactory(!0).bind(this),frameworkOverrides:new mt(this),providedBeanInstances:{frameworkComponentWrapper:t},modules:this.modules};this.api=Ee(this.$el,r,s),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.api?.destroy(),this.isDestroyed=!0)}});export{bt as AgGridVue};/*! Bundled license information:

@vue/shared/dist/shared.esm-bundler.js:
  (**
  * @vue/shared v3.4.26
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
  (*! #__NO_SIDE_EFFECTS__ *)

@vue/reactivity/dist/reactivity.esm-bundler.js:
  (**
  * @vue/reactivity v3.4.26
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
*/
