define(["exports","prop-types","react-dom/server","react-dom","react","agGrid"],function(e,t,s,r,ne,se){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var ae="default"in ne?ne.default:ne;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function o(){return"agPortalKey_"+ ++a}class i extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new se.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=ne.createElement(this.reactComponent,e),e=r.createPortal(e,this.eParentElement,o());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=i.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=ne.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}i.SLOW_RENDERING_THRESHOLD=3;class l extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=o(),this.portalKey=o()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new se.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=ne.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=r.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(ne.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class c{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||c.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}c.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const oe=ae.createContext({}),D=(e,s,a,o)=>{var i=!e||e.componentFromFramework;if(!i){i=e.newAgStackInstance();if(i){let t,r,n=!1;return i.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),u(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o)&&u(o,void 0)}}}},u=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},ie=e=>{const t=ne.useRef(e),r=ne.useRef(),n=ne.useRef(!1),s=ne.useRef(!1),[,a]=ne.useState(0);n.current&&(s.current=!0),ne.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},le=e=>{const t=ne.useRef(e),r=ne.useRef(),n=ne.useRef(!1),s=ne.useRef(!1),[,a]=ne.useState(0);n.current&&(s.current=!0),ne.useLayoutEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{s.current&&r.current&&r.current()}),[])},Q=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class P{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new P).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const ce=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},N=ne.forwardRef((r,e)=>{const n=ne.useContext(oe).context,s=ne.useRef(null),t=ne.useRef(null),a=ne.useRef(null),o=ne.useRef(null),i=ne.useRef(null),[l,c]=ne.useState(),[u,p]=ne.useState(),[m,d]=ne.useState(),[h,C]=ne.useState(new P),[g,f]=ne.useState(new P("ag-hidden")),[R,E]=ne.useState(new P("ag-hidden")),[S,y]=ne.useState(new P("ag-invisible"));ne.useImperativeHandle(e,()=>({refresh(){return!1}})),ne.useLayoutEffect(()=>D(l,n,t.current),[l]),le(()=>{var e={setInnerRenderer:(e,t)=>{c(e),d(t)},setChildCount:e=>p(e),addOrRemoveCssClass:(t,r)=>C(e=>e.setClass(t,r)),setContractedDisplayed:t=>E(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>f(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>y(e=>e.setClass("ag-invisible",!t))};const t=n.createBean(new se.GroupCellRendererCtrl);return t.init(e,s.current,a.current,o.current,i.current,N,r),()=>{n.destroyBean(t)}});var e=ne.useMemo(()=>"ag-cell-wrapper "+h.toString(),[h]),w=ne.useMemo(()=>"ag-group-expanded "+g.toString(),[g]),v=ne.useMemo(()=>"ag-group-contracted "+R.toString(),[R]),M=ne.useMemo(()=>"ag-group-checkbox "+S.toString(),[S]),O=l&&l.componentFromFramework,T=O?l.componentClass:void 0,b=null==l&&null!=m,I=se._.escapeString(m,!0);return ae.createElement("span",Object.assign({className:e,ref:s},r.colDef?{}:{role:"gridcell"}),ae.createElement("span",{className:w,ref:o}),ae.createElement("span",{className:v,ref:i}),ae.createElement("span",{className:M,ref:a}),ae.createElement("span",{className:"ag-group-value",ref:t},b&&ae.createElement(ae.Fragment,null,I),O&&ae.createElement(T,Object.assign({},l.params))),ae.createElement("span",{className:"ag-group-child-count"},u))});var w=ne.memo(e=>{const t=ne.useContext(oe)["context"],[r,n]=ne.useState(),[s,a]=ne.useState(),[o,i]=ne.useState(),[l,c]=ne.useState(),[u,p]=ne.useState(),[m,d]=ne.useState(),h=ne.useRef(null),C=ne.useRef(null),g=ne.useRef(null),f=ne.useRef(),R=e["ctrl"],E=ne.useMemo(()=>new se.CssClassManager(()=>h.current),[]);le(()=>{var e={setWidth:e=>n(e),addOrRemoveCssClass:(e,t)=>E.addOrRemoveCssClass(e,t),setColId:e=>i(e),setTitle:e=>a(e),setAriaDescription:e=>p(e),setAriaSort:e=>c(e),setUserCompDetails:e=>d(e),getUserCompInstance:()=>f.current||void 0},e=(R.setComp(e,h.current,C.current,g.current),R.getSelectAllGui());C.current.insertAdjacentElement("afterend",e)}),ne.useLayoutEffect(()=>D(m,t,g.current,f),[m]),ne.useEffect(()=>{R.setDragSource(h.current)},[m]);var e=ne.useMemo(()=>({width:r}),[r]),S=ne.useMemo(()=>{return!!((null===m||void 0===m?void 0:m.componentFromFramework)&&ce(m.componentClass))},[m]),y=m&&m.componentFromFramework,w=m&&m.componentClass;return ae.createElement("div",{ref:h,className:"ag-header-cell",style:e,title:s,"col-id":o,"aria-sort":l,role:"columnheader",tabIndex:-1,"aria-description":u},ae.createElement("div",{ref:C,className:"ag-header-cell-resize",role:"presentation"}),ae.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&S&&ae.createElement(w,Object.assign({},m.params)),y&&!S&&ae.createElement(w,Object.assign({},m.params,{ref:f}))))}),v=ne.memo(e=>{const t=ne.useContext(oe)["context"],[r,n]=ne.useState(new P),[s,a]=ne.useState(new P),[o,i]=ne.useState("false"),[l,c]=ne.useState(),[u,p]=ne.useState(),[m,d]=ne.useState(),[h,C]=ne.useState(),[g,f]=ne.useState(),R=ne.useRef(null),E=ne.useRef(null),S=e["ctrl"];le(()=>{var e={setWidth:e=>c(e),addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setColId:e=>d(e),setTitle:e=>p(e),setUserCompDetails:e=>f(e),setResizableDisplayed:t=>{a(e=>e.setClass("ag-hidden",!t)),i(t?"false":"true")},setAriaExpanded:e=>C(e)};S.setComp(e,R.current,E.current)}),ne.useLayoutEffect(()=>D(g,t,R.current),[g]),ne.useEffect(()=>{let t=void 0;R.current.childNodes.forEach(e=>{null!=e&&e!==E.current&&(t=e)}),t&&S.setDragSource(t)},[g]);var e=ne.useMemo(()=>({width:l}),[l]),y=ne.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),w=ne.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),v=g&&g.componentFromFramework,M=g&&g.componentClass;return ae.createElement("div",{ref:R,className:y,style:e,title:u,"col-id":m,role:"columnheader",tabIndex:-1,"aria-expanded":h},v&&ae.createElement(M,Object.assign({},g.params)),ae.createElement("div",{ref:E,"aria-hidden":o,className:w}))}),M=ne.memo(e=>{const t=ne.useContext(oe)["context"],[r,n]=ne.useState(new P("ag-header-cell","ag-floating-filter")),[s,a]=ne.useState(new P),[o,i]=ne.useState(new P("ag-floating-filter-button","ag-hidden")),[l,c]=ne.useState("false"),[u,p]=ne.useState(),[m,d]=ne.useState(),h=ne.useRef(null),C=ne.useRef(null);var g=ne.useRef(null);const f=ne.useRef(null),R=ne.useRef(!1),E=ne.useRef(),S=ne.useRef(),y=(le(()=>{S.current=new se.AgPromise(e=>{E.current=e})}),e=>{R.current||null!=e&&(E.current&&E.current(e),R.current=!0)}),w=e["ctrl"];le(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>a(e=>e.setClass(t,r)),setButtonWrapperDisplayed:t=>{i(e=>e.setClass("ag-hidden",!t)),c(t?"false":"true")},setWidth:e=>p(e),setCompDetails:e=>d(e),getFloatingFilterComp:()=>S.current||null,setMenuIcon:e=>f.current.appendChild(e)};w.setComp(e,h.current,f.current,C.current)}),ne.useLayoutEffect(()=>D(m,t,C.current,y),[m]);var e=ne.useMemo(()=>({width:u}),[u]),v=ne.useMemo(()=>r.toString(),[r]),M=ne.useMemo(()=>s.toString(),[s]),O=ne.useMemo(()=>o.toString(),[o]),T=ne.useMemo(()=>{return!!(m&&m.componentFromFramework&&ce(m.componentClass))},[m]),b=m&&m.componentFromFramework,I=m&&m.componentClass;return ae.createElement("div",{ref:h,className:v,style:e,role:"gridcell",tabIndex:-1},ae.createElement("div",{ref:C,className:M,role:"presentation"},b&&T&&ae.createElement(I,Object.assign({},m.params)),b&&!T&&ae.createElement(I,Object.assign({},m.params,{ref:y}))),ae.createElement("div",{ref:g,"aria-hidden":l,className:O,role:"presentation"},ae.createElement("button",{ref:f,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}),C=ne.memo(e=>{const o=ne.useContext(oe)["gridOptionsService"],[t,r]=ne.useState(),[n,s]=ne.useState(),[a,i]=ne.useState(),[l,c]=ne.useState(),[u,p]=ne.useState(),[m,d]=ne.useState([]);var h=ne.useRef(null);const C=e["ctrl"],g=C.getType()===se.HeaderRowType.COLUMN,f=C.getType()===se.HeaderRowType.COLUMN_GROUP,R=C.getType()===se.HeaderRowType.FLOATING_FILTER,E=ne.useCallback((e,t)=>{var r=o.is("ensureDomOrder"),n=o.isDomLayout("print");if(r||n)return t;const s=se._.mapById(e,e=>e.getInstanceId()),a=se._.mapById(t,e=>e.getInstanceId());r=e.filter(e=>a.has(e.getInstanceId())),n=t.filter(e=>!s.has(e.getInstanceId()));return[...r,...n]},[]);le(()=>{var e={setTransform:e=>r(e),setHeight:e=>s(e),setTop:e=>i(e),setHeaderCtrls:t=>d(e=>E(e,t)),setWidth:e=>c(e),setAriaRowIndex:e=>p(e)};C.setComp(e)});var e=ne.useMemo(()=>({transform:t,height:n,top:a,width:l}),[t,n,a,l]),S=ne.useMemo(()=>{var e=["ag-header-row"];return g&&e.push("ag-header-row-column"),f&&e.push("ag-header-row-column-group"),R&&e.push("ag-header-row-column-filter"),e.join(" ")},[]),y=ne.useCallback(e=>{switch(C.getType()){case se.HeaderRowType.COLUMN_GROUP:return ae.createElement(v,{ctrl:e,key:e.getInstanceId()});case se.HeaderRowType.FLOATING_FILTER:return ae.createElement(M,{ctrl:e,key:e.getInstanceId()});default:return ae.createElement(w,{ctrl:e,key:e.getInstanceId()})}},[]);return ae.createElement("div",{ref:h,className:S,role:"row",style:e,"aria-rowindex":u},m.map(y))}),p=ne.memo(r=>{const[e,n]=ne.useState(new P),[t,s]=ne.useState(!1),[a,o]=ne.useState([]),i=ne.useContext(oe)["context"],l=ne.useRef(null),c=ne.useRef(null);var u="left"===r.pinned,p="right"===r.pinned,m=!u&&!p,d=(le(()=>{var e={setDisplayed:t=>{n(e=>e.setClass("ag-hidden",!t)),s(!t)},setCtrls:e=>o(e),setCenterWidth:e=>{c.current&&(c.current.style.width=e)},setContainerTransform:e=>{c.current&&(c.current.style.transform=e)},setPinnedContainerWidth:e=>{l.current.style.width=e,l.current.style.minWidth=e,l.current.style.maxWidth=e}};const t=i.createBean(new se.HeaderRowContainerCtrl(r.pinned));return t.setComp(e,l.current),()=>{i.destroyBean(t)}}),ne.useMemo(()=>e.toString(),[e])),h=()=>a.map(e=>ae.createElement(C,{ctrl:e,key:e.getInstanceId()}));return ae.createElement(ae.Fragment,null,u&&ae.createElement("div",{ref:l,className:"ag-pinned-left-header "+d,"aria-hidden":t,role:"presentation"},h()),p&&ae.createElement("div",{ref:l,className:"ag-pinned-right-header "+d,"aria-hidden":t,role:"presentation"},h()),m&&ae.createElement("div",{ref:l,className:"ag-header-viewport "+d,role:"presentation"},ae.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},h())))}),ee=ne.memo(()=>{const[e,n]=ne.useState(new P),[t,r]=ne.useState(),s=ne.useContext(oe)["context"],a=ne.useRef(null);le(()=>{var e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)};const t=s.createBean(new se.GridHeaderCtrl);return t.setComp(e,a.current,a.current),()=>{s.destroyBean(t)}});var o=ne.useMemo(()=>{return"ag-header "+e.toString()},[e]),i=ne.useMemo(()=>({height:t,minHeight:t}),[t]);return ae.createElement("div",{ref:a,className:o,style:i,role:"presentation"},ae.createElement(p,{pinned:"left"}),ae.createElement(p,{pinned:null}),ae.createElement(p,{pinned:"right"}))});const te=(n,s)=>{ie(()=>{var e=s.current;const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}})};var ue=ne.memo(c=>{const[e,u]=ne.useState(),{context:p,popupService:m,localeService:d,gridOptionsService:h}=ne.useContext(oe);return ie(()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=h.is("stopEditingWhenCellsLoseFocus");const a=p.createBean(new se.PopupEditorWrapper(n.params));var n=a.getGui(),o=(c.jsChildComp&&(o=c.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,position:e.popupPosition,keepWithinBounds:!0}),o=m.positionPopupByComponent.bind(m,o),i=d.getLocaleTextFunc(),s=m.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:i("ariaLabelCellEditor","Cell Editor")});const l=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=l&&l(),p.destroyBean(a)}}),ae.createElement(ae.Fragment,null,e&&c.wrappedContent&&r.createPortal(c.wrappedContent,e.getGui()))});var _=ne.memo(e=>{const s=ne.useContext(oe)["context"],{cellCtrl:u,printLayout:r,editingRow:n}=e,[p,a]=ne.useState(),[m,o]=ne.useState(),[d,i]=ne.useState(1),[t,l]=ne.useState(),[c,_]=ne.useState(),[x,B]=ne.useState(),[L,U]=ne.useState(),[j,H]=ne.useState(),[h,W]=ne.useState(!1),[C,V]=ne.useState(!1),[g,K]=ne.useState(!1),[Y,f]=ne.useState(),R=ne.useMemo(()=>u.isForceWrapper(),[]),E=ne.useRef(null),S=ne.useRef(null),y=ne.useRef(),w=ne.useRef(),v=ne.useRef(),[$,z]=ne.useState(0);e=ne.useCallback(e=>{v.current=e,z(e=>e+1)},[]);const M=ne.useRef(),[q,X]=ne.useState(0),Z=ne.useCallback(e=>{M.current=e,X(e=>e+1)},[]);var O=null!=p&&(h||g||C);const T=R||O,b=ne.useCallback((e,t)=>{if(w.current=t){var r=t,n=u,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;se._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;se._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{u.stopEditing(!0),u.focusCell(!0)})}},[]),J=ne.useCallback(e=>b(!0,e),[]),Q=ne.useCallback(e=>b(!1,e),[]),I=ne.useMemo(()=>new se.CssClassManager(()=>E.current),[]);{var P=p,N=T,A=M.current,k=(O=q,y),ee=E;const F=ne.useContext(oe)["context"],D=ne.useCallback(()=>{var e,t=k.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),F.destroyBean(t),k.current=void 0)},[]);ne.useEffect(()=>{var e=P&&P.compDetails&&!P.compDetails.componentFromFramework;if(null!=P&&e&&!(N&&null==A)){e=P.compDetails;if(k.current){const r=k.current;var t=null!=r.refresh&&0==P.force&&r.refresh(e.params);if(!0===t||void 0===t)return;D()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);r&&(e=r.getGui())&&((N?A:ee.current).appendChild(e),k.current=r)}}else D()},[P,N,O]),ie(()=>D)}const G=ne.useRef(),te=(ne.useEffect(()=>{var e=G.current,t=p;G.current=p,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=S.current&&null!=S.current.refresh&&1!=S.current.refresh(t.params)&&i(e=>e+1)},[p]),ne.useEffect(()=>{if(m&&!m.compDetails.componentFromFramework){var e=m.compDetails;const t=!0===m.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return b(t,r),t||(null!=(e=(R?v:E).current)&&e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),f(r),()=>{s.destroyBean(r),b(t,void 0),f(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[m]),ne.useEffect(()=>{if(u&&s&&v.current&&T){const r=[];var e=e=>{if(e){const t=e.getGui();v.current.insertAdjacentElement("afterbegin",t),r.push(()=>{s.destroyBean(e),se._.removeFromParent(t)})}return e};return h&&e(u.createSelectionCheckbox()),g&&e(u.createDndSource()),C&&e(u.createRowDragComp()),()=>r.forEach(e=>e())}},[T,g,C,h,$]),le(()=>{var e,t;u&&(e={addOrRemoveCssClass:(e,t)=>I.addOrRemoveCssClass(e,t),setUserStyles:e=>l(e),getFocusableElement:()=>E.current,setTabIndex:e=>_(e),setRole:e=>B(e),setColId:e=>U(e),setTitle:e=>H(e),setIncludeSelection:e=>W(e),setIncludeRowDrag:e=>V(e),setIncludeDndSource:e=>K(e),getCellEditor:()=>w.current||null,getCellRenderer:()=>S.current||y.current,getParentOfValue:()=>M.current||v.current||E.current,setRenderDetails:(e,t,r)=>{a({value:t,compDetails:e,force:r})},setEditDetails:(e,t,r)=>{e?(o({compDetails:e,popup:t,popupPosition:r}),t||a(void 0)):o(void 0)}},t=v.current||void 0,u.setComp(e,E.current,t,r,n))}),ne.useMemo(()=>{return!!(p&&p.compDetails&&p.compDetails.componentFromFramework&&ce(p.compDetails.componentClass))},[p])),re=(ne.useEffect(()=>{var e;E.current&&(I.addOrRemoveCssClass("ag-cell-value",!T),I.addOrRemoveCssClass("ag-cell-inline-editing",!!m&&!m.popup),I.addOrRemoveCssClass("ag-cell-popup-editing",!!m&&!!m.popup),I.addOrRemoveCssClass("ag-cell-not-inline-editing",!m||!!m.popup),null!=(e=u.getRowCtrl()))&&e.setInlineEditingCss(!!m)}),ne.useMemo(()=>u.getInstanceId(),[]));O=()=>{return ae.createElement(ae.Fragment,null,null!=p&&((e,t,r,n,s,a,o)=>{const{compDetails:i,value:l}=e,c=!i,u=i&&i.componentFromFramework,p=i&&i.componentClass,m=null!=l&&l.toString?l.toString():l;e=()=>ae.createElement(ae.Fragment,null,c&&ae.createElement(ae.Fragment,null,m),u&&!a&&ae.createElement(p,Object.assign({},i.params,{key:t,ref:n})),u&&a&&ae.createElement(p,Object.assign({},i.params,{key:t})));return ae.createElement(ae.Fragment,null,s?ae.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(p,d,re,S,T,te,Z),null!=m&&(e=m,t=Q,r=J,n=E.current,s=u,a=Y,o=e.compDetails,i=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,ae.createElement(ae.Fragment,null,l&&ae.createElement(i,Object.assign({},e.compDetails.params,{ref:t})),c&&ae.createElement(ue,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:ae.createElement(i,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&ae.createElement(ue,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,i,l,c};return ae.createElement("div",{ref:E,style:t,tabIndex:c,role:x,"col-id":L,title:j},T?ae.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:e},O()):O())});var O=ne.memo(e=>{const t=ne.useContext(oe)["context"],{rowCtrl:r,containerType:n}=e,[s,a]=ne.useState(),[o,i]=ne.useState(),[l,c]=ne.useState(),[u,p]=ne.useState(),[m,d]=ne.useState(),[h,C]=ne.useState(),[g,f]=ne.useState({list:[],instanceIdMap:new Map}),[R,E]=ne.useState(),[S,y]=ne.useState(!1),[w,v]=ne.useState(r.getInitialRowTop(n)),[M,O]=ne.useState(r.getInitialTransform(n)),T=ne.useRef(null),b=ne.useRef(),I=ne.useRef(!1),[P,N]=ne.useState(0),A=(ne.useEffect(()=>{var e;I.current||!R||10<P||((e=null==(e=T.current)?void 0:e.firstChild)?(r.setupDetailRowAutoHeight(e),I.current=!0):N(e=>e+1))},[R,P]),ne.useMemo(()=>new se.CssClassManager(()=>T.current),[]));le(()=>{var e;if(r.isAlive())return e={setTop:e=>v(e),setTransform:e=>O(e),addOrRemoveCssClass:(e,t)=>A.addOrRemoveCssClass(e,t),setDomOrder:e=>y(e),setRowIndex:e=>a(e),setRowId:e=>i(e),setRowBusinessKey:e=>p(e),setTabIndex:e=>d(e),setUserStyles:e=>C(e),setRole:e=>c(e),setCellCtrls:l=>f(e=>{{var r=e,t;if(e=l,S){const i={list:e,instanceIdMap:new Map};return e.forEach(e=>i.instanceIdMap.set(e.getInstanceId(),e)),i}const n=[],s=[],a=new Map,o=new Map,i=(e.forEach(e=>o.set(e.getInstanceId(),e)),r.list.forEach(e=>{var t=e.getInstanceId();o.has(t)&&(n.push(e),a.set(t,e))}),e.forEach(e=>{var t=e.getInstanceId();r.instanceIdMap.has(t)||(s.push(e),a.set(t,e))}),{list:[...n,...s],instanceIdMap:a});return i}}),showFullWidth:e=>E(e),getFullWidthCellRenderer:()=>b.current},r.setComp(e,T.current,n),()=>{r.unsetComp(n)}}),ne.useLayoutEffect(()=>D(R,t,T.current,b),[R]);var e=ne.useMemo(()=>{var e={top:w,transform:M};return Object.assign(e,h),e},[w,M,h]),k=R&&R.componentFromFramework,G=null!=g;const F=ne.useMemo(()=>{return!!((null===R||void 0===R?void 0:R.componentFromFramework)&&ce(R.componentClass))},[R]);return ae.createElement("div",{ref:T,role:l,style:e,"row-index":s,"row-id":o,"row-business-key":u,tabIndex:m},G&&g.list.map(e=>ae.createElement(_,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()})),k&&(e=R.componentClass,ae.createElement(ae.Fragment,null,F&&ae.createElement(e,Object.assign({},R.params)),!F&&ae.createElement(e,Object.assign({},R.params,{ref:b})))))}),re=ne.memo(e=>{const n=ne.useContext(oe)["context"],[t,s]=ne.useState(""),[r,a]=ne.useState([]),[o,i]=ne.useState(""),l=e["name"],c=ne.useMemo(()=>se.getRowContainerTypeForName(l),[l]),u=ne.useRef(null),p=ne.useRef(null),m=ne.useRef(null),d=ne.useRef([]),h=ne.useRef(!1),C=ne.useMemo(()=>se.RowContainerCtrl.getRowContainerCssClasses(l),[l]);var e=ne.useMemo(()=>Q(C.wrapper),[]),g=ne.useMemo(()=>Q(C.viewport),[]);const f=ne.useMemo(()=>Q(C.container),[]);var R=l===se.RowContainerName.CENTER,E=l===se.RowContainerName.TOP_CENTER||l===se.RowContainerName.BOTTOM_CENTER||l===se.RowContainerName.STICKY_TOP_CENTER,S=!R&&!E,y=R?u:E?p:m;function w(){a(e=>{const t=d.current;if(h.current)return t;const r=e.filter(e=>0<=t.indexOf(e));e=t.filter(e=>r.indexOf(e)<0);return[...r,...e]})}te(" AG Row Container "+l+" ",y),le(()=>{const e=[];var t={setViewportHeight:s,setRowCtrls:e=>{d.current!==e&&(d.current=e,w())},setDomOrder:e=>{h.current!=e&&(h.current=e,w())},setContainerWidth:e=>i(e)},r=n.createBean(new se.RowContainerCtrl(l));return e.push(r),r.setComp(t,m.current,p.current,u.current),()=>{n.destroyBeans(e)}});y=ne.useMemo(()=>({height:t}),[t]);const v=ne.useMemo(()=>({width:o}),[o]);var M=()=>ae.createElement("div",{className:f,ref:m,role:r.length?"rowgroup":"presentation",style:v},r.map(e=>ae.createElement(O,{rowCtrl:e,containerType:c,key:e.getInstanceId()})));return ae.createElement(ae.Fragment,null,R&&ae.createElement("div",{className:e,ref:u,role:"presentation"},ae.createElement("div",{className:g,ref:p,role:"presentation",style:y},M())),E&&ae.createElement("div",{className:g,ref:p,role:"presentation",style:y},M()),S&&M())}),b=ne.memo(()=>{const{context:s,agStackComponentsRegistry:a,resizeObserverService:o}=ne.useContext(oe),[e,i]=ne.useState(""),[t,l]=ne.useState(0),[r,c]=ne.useState(0),[n,u]=ne.useState(0),[p,m]=ne.useState(0),[d,h]=ne.useState("0px"),[C,g]=ne.useState("0px"),[f,R]=ne.useState("100%"),[E,S]=ne.useState(""),[y,w]=ne.useState(""),[v,M]=ne.useState(""),[O,_]=ne.useState(null),[T,x]=ne.useState(""),[b,B]=ne.useState(null),[I,L]=ne.useState("ag-layout-normal"),U=ne.useMemo(()=>new se.CssClassManager(()=>P.current),[]),P=ne.useRef(null),N=ne.useRef(null),A=ne.useRef(null),k=ne.useRef(null),G=ne.useRef(null),F=ne.useRef(null);te(" AG Grid Body ",P),te(" AG Pinned Top ",N),te(" AG Sticky Top ",A),te(" AG Middle ",G),te(" AG Pinned Bottom ",F),ie(()=>{const t=[],r=[];var e,n;if(s)return e=e=>{e=a.getComponentClass(e),e=s.createBean(new e);return t.push(e),e},P.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),P.current.appendChild(e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),P.current.appendChild(document.createComment(" AG Overlay Wrapper ")),P.current.appendChild(e("AG-OVERLAY-WRAPPER").getGui()),k.current.appendChild(document.createComment(" AG Fake Vertical Scroll ")),k.current.appendChild(e("AG-FAKE-VERTICAL-SCROLL").getGui()),e={setRowAnimationCssOnBodyViewport:i,setColumnCount:l,setRowCount:c,setTopHeight:u,setBottomHeight:m,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:R,setTopDisplay:S,setBottomDisplay:w,setColumnMovingCss:(e,t)=>U.addOrRemoveCssClass(e,t),updateLayoutClasses:L,setAlwaysVerticalScrollClass:_,setPinnedTopBottomOverflowY:x,setCellSelectableCss:B,setBodyViewportWidth:M,registerBodyViewportResizeListener:e=>{const t=o.observeResize(G.current,e);r.push(()=>t())}},n=s.createBean(new se.GridBodyCtrl),t.push(n),n.setComp(e,P.current,G.current,N.current,F.current,A.current),()=>{s.destroyBeans(t),r.forEach(e=>e())}});var j=ne.useMemo(()=>Q("ag-root","ag-unselectable",I),[I]),H=ne.useMemo(()=>Q("ag-body-viewport",e,I,O,b),[e,I,O,b]),W=ne.useMemo(()=>Q("ag-body",I),[I]),V=ne.useMemo(()=>Q("ag-body-clipper",I),[I]),K=ne.useMemo(()=>Q("ag-floating-top",b),[b]),Y=ne.useMemo(()=>Q("ag-sticky-top",b),[b]),$=ne.useMemo(()=>Q("ag-floating-bottom",b),[b]),z=ne.useMemo(()=>({height:n,minHeight:n,display:E,overflowY:T}),[n,E,T]),q=ne.useMemo(()=>({height:d,top:C,width:f}),[d,C,f]),X=ne.useMemo(()=>({height:p,minHeight:p,display:y,overflowY:T}),[p,y,T]),Z=ne.useMemo(()=>({width:v}),[v]);const J=e=>ae.createElement(re,{name:e,key:e+"-container"});var D=({section:e,children:t,className:r,style:n})=>ae.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(J));return ae.createElement("div",{ref:P,className:j,role:"treegrid","aria-colcount":t,"aria-rowcount":r},ae.createElement(ee,null),D({section:N,className:K,style:z,children:[se.RowContainerName.TOP_LEFT,se.RowContainerName.TOP_CENTER,se.RowContainerName.TOP_RIGHT,se.RowContainerName.TOP_FULL_WIDTH]}),ae.createElement("div",{className:W,ref:k,role:"presentation"},ae.createElement("div",{className:V,role:"presentation"},D({section:G,className:H,style:Z,children:[se.RowContainerName.LEFT,se.RowContainerName.CENTER,se.RowContainerName.RIGHT,se.RowContainerName.FULL_WIDTH]}))),D({section:A,className:Y,style:q,children:[se.RowContainerName.STICKY_TOP_LEFT,se.RowContainerName.STICKY_TOP_CENTER,se.RowContainerName.STICKY_TOP_RIGHT,se.RowContainerName.STICKY_TOP_FULL_WIDTH]}),D({section:F,className:$,style:X,children:[se.RowContainerName.BOTTOM_LEFT,se.RowContainerName.BOTTOM_CENTER,se.RowContainerName.BOTTOM_RIGHT,se.RowContainerName.BOTTOM_FULL_WIDTH]}))}),g=ne.forwardRef((e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:a,gridCtrl:o}=e,i=ne.useContext(oe)["context"],l=ne.useRef(null),c=ne.useRef(null),u=ne.useRef(),[n,p]=ne.useState();ne.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){u.current.forceFocusOutOfContainer()}})),ie(()=>{var e=l.current,t=c.current,r={setTabIndex:e=>null==e?p(void 0):p(parseInt(e,10))};const n=u.current=i.createBean(new se.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:s,onTabKeyDown:a,focusInnerElement:e=>o.focusInnerElement(e)}));return()=>{i.destroyBean(n)}});e=e=>{var t="top"===e?se.TabGuardClassNames.TAB_GUARD_TOP:se.TabGuardClassNames.TAB_GUARD_BOTTOM;return ae.createElement("div",{className:se.TabGuardClassNames.TAB_GUARD+" "+t,role:"presentation",tabIndex:n,ref:"top"===e?l:c})};return ae.createElement(ae.Fragment,null,e("top"),r,e("bottom"))}),I=ne.memo(g),f=ne.memo(({context:p})=>{const[e,r]=ne.useState(""),[t,n]=ne.useState(""),[s,a]=ne.useState(""),[o,i]=ne.useState(null),[l,c]=ne.useState(null),[u,m]=ne.useState(!1),[d,h]=ne.useState(),C=ne.useRef(null),g=ne.useRef(null),f=ne.useRef(),R=ne.useRef(null),E=ne.useRef(()=>{});var S=ne.useCallback(()=>{},[]);const y=ne.useMemo(()=>p.getBean("beans"),[]);te(" AG Grid ",g),ie(()=>{const e=C.current=p.createBean(new se.GridCtrl);return()=>{p.destroyBean(e),C.current=null}}),ie(()=>{var e=C.current,t=(E.current=e.focusInnerElement.bind(e),{destroyGridUi:()=>{},setRtlClass:r,addOrRemoveKeyboardFocusClass:e=>n(e?se.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{f.current.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{var e=[],t=g.current.querySelector(".ag-root"),r=g.current.querySelector(".ag-side-bar:not(.ag-hidden)");return t&&e.push(t),r&&e.push(r),e},setCursor:i,setUserSelect:c});e.setComp(t,g.current,g.current),m(!0)}),ne.useEffect(()=>{if(d){var e=C.current;const c=[];var t=y["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const u=[];var o,i=g.current,l=R.current;return e.showDropZones()&&r&&(o=(r=p.createBean(new r)).getGui(),i.insertAdjacentElement("afterbegin",o),u.push(o),c.push(r)),e.showSideBar()&&n&&(r=(o=p.createBean(new n)).getGui(),(n=l.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),c.push(o)),e.showStatusBar()&&s&&(n=(l=p.createBean(new s)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(l)),t&&(o=(r=p.createBean(new t)).getGui(),i.insertAdjacentElement("beforeend",o),u.push(o),c.push(r)),e.showWatermark()&&a&&(n=(s=p.createBean(new a)).getGui(),i.insertAdjacentElement("beforeend",n),u.push(n),c.push(s)),()=>{p.destroyBeans(c),u.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[d]);var w=ne.useMemo(()=>Q("ag-root-wrapper",e,t,s),[e,t,s]),v=ne.useMemo(()=>Q("ag-root-wrapper-body","ag-focus-managed",s),[s]),M=ne.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=o?o:""}),[l,o]),O=R.current,T=ne.useCallback(e=>{f.current=e,h(!0)},[]);return ae.createElement("div",{ref:g,className:w,style:M,role:"presentation"},ae.createElement("div",{className:v,ref:R,role:"presentation"},u&&O&&ae.createElement(oe.Provider,{value:y},ae.createElement(I,{ref:T,eFocusableElement:O,onTabKeyDown:S,gridCtrl:C.current},ae.createElement(b,null)))))});class S extends ne.Component{constructor(e){super(e),this.props=e,this.destroyFuncs=[],this.eGui=ae.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.renderedAfterMount=!1,this.mounted=!1,this.state={context:void 0},this.portalManager=new c(this,e.componentWrappingElement,e.maxComponentCreationTimeMs),this.destroyFuncs.push(()=>this.portalManager.destroy())}render(){return this.state.context,this.state.context&&(this.renderedAfterMount=!0),ae.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&ae.createElement(f,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e;this.mounted||(this.mounted=!0,e=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new R(this.portalManager)},modules:e,frameworkOverrides:new m(!0)},this.gridOptions=this.props.gridOptions||{},this.gridOptions=se.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props),this.checkForDeprecations(this.props),(new se.GridCoreCreator).create(this.eGui.current,this.gridOptions,e=>{this.setState({context:e}),e.getBean(se.CtrlsService.NAME).whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},e=>{e.getBean(se.CtrlsService.NAME).whenReady(()=>{this.whenReadyFuncs.forEach(e=>e()),this.whenReadyFuncs.length=0,this.ready=!0})},e))}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&se._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}componentWillUnmount(){this.renderedAfterMount&&(this.destroyFuncs.forEach(e=>e()),this.destroyFuncs.length=0)}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{se.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),se.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}processChanges(e){this.processWhenReady(()=>se.ComponentUtil.processOnChange(e,this.api))}processWhenReady(e){this.ready?e():this.whenReadyFuncs.push(e)}}class R extends se.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new l(e,this.parent,t)}}var E=ne.forwardRef((n,e)=>{const{ctrlsFactory:s,context:a,gridOptionsService:o,resizeObserverService:i,clientSideRowModel:l,serverSideRowModel:c}=ne.useContext(oe),[t,u]=ne.useState(new P),[r,p]=ne.useState(new P),[m,d]=ne.useState(),[h,C]=ne.useState(),g=ne.useRef(),f=ne.useRef(null);var R=ne.useMemo(()=>t.toString()+" ag-details-row",[t]),E=ne.useMemo(()=>r.toString()+" ag-details-grid",[r]),e=(e&&ne.useImperativeHandle(e,()=>({refresh(){return g.current.refresh()}})),ie(()=>{n.template&&"string"==typeof n.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),ie(()=>{var t={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>p(e=>e.setClass(t,r)),setDetailGrid:e=>d(e),setRowData:e=>C(e),getGui:()=>f.current};const r=s.getInstance("detailCellRenderer");if(r){a.createBean(r),r.init(t,n),g.current=r;let e;return o.is("detailRowAutoHeight")&&(t=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{n.node.setRowHeight(e),l?l.onRowHeightChanged():c&&c.onRowHeightChanged()},0)}},e=i.observeResize(f.current,t),t()),()=>{a.destroyBean(r),e&&e()}}}),ne.useCallback((e,t)=>{g.current.registerDetailWithMaster(e,t)},[]));return ae.createElement("div",{className:R,ref:f},m&&ae.createElement(S,Object.assign({className:E},m,{rowData:h,setGridApi:e})))});class m extends se.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:N,agGroupRowRenderer:N,agDetailCellRenderer:E},this.reactUi=e}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){return!(!e||(e=e.prototype)&&"getGui"in e)}}class d extends ne.Component{constructor(e){super(e),this.props=e,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new c(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return ae.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new y(this,this.portalManager)},modules:e,frameworkOverrides:new m(!1)},t=this.props.gridOptions||{};this.gridOptions=se.ComponentUtil.copyAttributesToGridOptions(t,this.props),this.checkForDeprecations(this.props),new se.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&se._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{se.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),se.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&se.ComponentUtil.processOnChange(r,this.api)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&se.ComponentUtil.processOnChange(e,this.api)})}}function h(e,t){e.forEach(e=>{d[e]=t})}d.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,d.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:d.MAX_COMPONENT_CREATION_TIME_IN_MS},d.propTypes={gridOptions:t.object},h(se.ComponentUtil.EVENT_CALLBACKS,t.func),h(se.ComponentUtil.BOOLEAN_PROPERTIES,t.bool),h(se.ComponentUtil.STRING_PROPERTIES,t.string),h(se.ComponentUtil.OBJECT_PROPERTIES,t.object),h(se.ComponentUtil.ARRAY_PROPERTIES,t.array),h(se.ComponentUtil.NUMBER_PROPERTIES,t.number),h(se.ComponentUtil.FUNCTION_PROPERTIES,t.func);class y extends se.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new i(e,this.agGridReact,this.portalManager,t):new l(e,this.portalManager,t)}}class T extends ne.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){return this.props.suppressReactUi?ae.createElement(d,Object.assign({},this.props,{setGridApi:this.setGridApi})):ae.createElement(S,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}e.AgGridReact=T,e.AgGridReactLegacy=d,e.AgGridReactFire=S,Object.defineProperty(e,"__esModule",{value:!0})});
