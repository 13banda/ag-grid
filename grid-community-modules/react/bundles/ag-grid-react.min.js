!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react-dom/server"),require("react-dom"),require("react"),require("@ag-grid-community/core")):"function"==typeof define&&define.amd?define(["exports","prop-types","react-dom/server","react-dom","react","@ag-grid-community/core"],t):t(e.AgGridReact={},e.PropTypes,e.ReactDOMServer,e.ReactDOM,e.React,e.agGrid)}(this,function(e,t,s,l,z,X){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var r="default"in l?l.default:l,Z="default"in z?z.default:z;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function o(){return"agPortalKey_"+ ++a}class i extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new X.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=z.createElement(this.reactComponent,e),e=l.createPortal(e,this.eParentElement,o());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=i.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=z.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}i.SLOW_RENDERING_THRESHOLD=3;class c extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=o(),this.portalKey=o()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new X.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=z.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=l.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(z.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class u{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||u.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}u.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;class C{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||C.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}C.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const J=Z.createContext({}),A=(e,s,a,o)=>{var l=!e||e.componentFromFramework||s.isDestroyed();if(!l){l=e.newAgStackInstance();if(l){let t,r,n=!1;return l.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),p(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o)&&p(o,void 0)}}}},p=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},Q=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class N{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new N).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const q=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},d=null!=r.createRoot&&null!=r.flushSync,G=(e,t)=>{d&&e?r.flushSync(t):t()};function D(t,r,e){if(null==r||null==t)return r;if(t===r||0===r.length&&0===t.length)return t;if(e||0===t.length&&0<r.length||0<t.length&&0===r.length)return r;var n=[],s=[],a=new Map;for(let e=0;e<t.length;e++){var o=t[e];a.set(o.getInstanceId(),o)}for(let e=0;e<r.length;e++){var l=r[e],i=l.getInstanceId();(a.has(i)?n:s).push(l)}return n.length===t.length&&0===s.length?t:0===n.length&&s.length===r.length?r:[...n,...s]}const F=z.forwardRef((t,e)=>{const r=z.useContext(J).context,n=z.useRef(null),s=z.useRef(null),a=z.useRef(null),o=z.useRef(null),l=z.useRef(null),i=z.useRef(),[c,u]=z.useState(),[p,d]=z.useState(),[m,h]=z.useState(),[C,g]=z.useState(()=>new N),[f,R]=z.useState(()=>new N("ag-hidden")),[E,v]=z.useState(()=>new N("ag-hidden")),[y,S]=z.useState(()=>new N("ag-invisible"));z.useImperativeHandle(e,()=>({refresh(){return!1}})),z.useLayoutEffect(()=>A(c,r,s.current),[c]);var e=z.useCallback(e=>{n.current=e,n.current?(e={setInnerRenderer:(e,t)=>{u(e),h(t)},setChildCount:e=>d(e),addOrRemoveCssClass:(t,r)=>g(e=>e.setClass(t,r)),setContractedDisplayed:t=>v(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>R(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>S(e=>e.setClass("ag-invisible",!t))},i.current=r.createBean(new X.GroupCellRendererCtrl),i.current.init(e,n.current,a.current,o.current,l.current,F,t)):(r.destroyBean(i.current),i.current=null)},[]),w=z.useMemo(()=>"ag-cell-wrapper "+C.toString(),[C]),b=z.useMemo(()=>"ag-group-expanded "+f.toString(),[f]),O=z.useMemo(()=>"ag-group-contracted "+E.toString(),[E]),T=z.useMemo(()=>"ag-group-checkbox "+y.toString(),[y]),M=c&&c.componentFromFramework,k=M?c.componentClass:void 0,P=null==c&&null!=m,I=X._.escapeString(m,!0);return Z.createElement("span",Object.assign({className:w,ref:e},t.colDef?{}:{role:"gridcell"}),Z.createElement("span",{className:b,ref:o}),Z.createElement("span",{className:O,ref:l}),Z.createElement("span",{className:T,ref:a}),Z.createElement("span",{className:"ag-group-value",ref:s},P&&Z.createElement(Z.Fragment,null,I),M&&Z.createElement(k,Object.assign({},c.params))),Z.createElement("span",{className:"ag-group-child-count"},p))});var g=z.memo(e=>{const r=e["ctrl"],t=z.useContext(J)["context"];e=r.getColId();const[n,s]=z.useState(),a=z.useRef(null),o=z.useRef(null),l=z.useRef(null),i=z.useRef();let c=z.useRef();c.current||(c.current=new X.CssClassManager(()=>a.current));var u=z.useCallback(e=>{var t;a.current=e,a.current&&(e={setWidth:e=>{a.current&&(a.current.style.width=e)},addOrRemoveCssClass:(e,t)=>c.current.addOrRemoveCssClass(e,t),setAriaDescription:e=>{a.current&&X._.setAriaDescription(a.current,e)},setAriaSort:e=>{a.current&&(e?X._.setAriaSort(a.current,e):X._.removeAriaSort(a.current))},setUserCompDetails:e=>s(e),getUserCompInstance:()=>i.current||void 0},r.setComp(e,a.current,o.current,l.current),e=r.getSelectAllGui(),null!=(t=o.current))&&t.insertAdjacentElement("afterend",e)},[]),p=(z.useLayoutEffect(()=>A(n,t,l.current,i),[n]),z.useEffect(()=>{r.setDragSource(a.current)},[n]),z.useMemo(()=>{return!!((null===n||void 0===n?void 0:n.componentFromFramework)&&q(n.componentClass))},[n])),d=n&&n.componentFromFramework,m=n&&n.componentClass;return Z.createElement("div",{ref:u,className:"ag-header-cell","col-id":e,role:"columnheader",tabIndex:-1},Z.createElement("div",{ref:o,className:"ag-header-cell-resize",role:"presentation"}),Z.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},d&&p&&Z.createElement(m,Object.assign({},n.params)),d&&!p&&Z.createElement(m,Object.assign({},n.params,{ref:i}))))}),f=z.memo(e=>{const t=z.useContext(J)["context"],r=e["ctrl"],[n,s]=z.useState(()=>new N),[a,o]=z.useState(()=>new N),[l,i]=z.useState("false"),[c,u]=z.useState(),[p,d]=z.useState();e=z.useMemo(()=>r.getColId(),[]);const m=z.useRef(null),h=z.useRef(null);var C=z.useCallback(e=>{m.current=e,m.current&&(e={setWidth:e=>{m.current&&(m.current.style.width=e)},addOrRemoveCssClass:(t,r)=>s(e=>e.setClass(t,r)),setUserCompDetails:e=>d(e),setResizableDisplayed:t=>{o(e=>e.setClass("ag-hidden",!t)),i(t?"false":"true")},setAriaExpanded:e=>u(e)},r.setComp(e,m.current,h.current))},[]),g=(z.useLayoutEffect(()=>A(p,t,m.current),[p]),z.useEffect(()=>{m.current&&r.setDragSource(m.current)},[p]),z.useMemo(()=>"ag-header-group-cell "+n.toString(),[n])),f=z.useMemo(()=>"ag-header-cell-resize "+a.toString(),[a]),R=p&&p.componentFromFramework,E=p&&p.componentClass;return Z.createElement("div",{ref:C,className:g,"col-id":e,role:"columnheader",tabIndex:-1,"aria-expanded":c},R&&Z.createElement(E,Object.assign({},p.params)),Z.createElement("div",{ref:h,"aria-hidden":l,className:f}))}),R=z.memo(e=>{const t=z.useContext(J)["context"],[r,n]=z.useState(()=>new N("ag-header-cell","ag-floating-filter")),[s,a]=z.useState(()=>new N),[o,l]=z.useState(()=>new N("ag-floating-filter-button","ag-hidden")),[i,c]=z.useState("false"),[u,p]=z.useState(),d=z.useRef(null),m=z.useRef(null);var h=z.useRef(null);const C=z.useRef(null),g=z.useRef(),f=z.useRef(),R=e=>{null!=e&&g.current&&g.current(e)},E=e["ctrl"];var e=z.useCallback(e=>{d.current=e,d.current&&(f.current=new X.AgPromise(e=>{g.current=e}),e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>a(e=>e.setClass(t,r)),setButtonWrapperDisplayed:t=>{l(e=>e.setClass("ag-hidden",!t)),c(t?"false":"true")},setWidth:e=>{d.current&&(d.current.style.width=e)},setCompDetails:e=>p(e),getFloatingFilterComp:()=>f.current||null,setMenuIcon:e=>{var t;return null==(t=C.current)?void 0:t.appendChild(e)}},E.setComp(e,d.current,C.current,m.current))},[]),v=(z.useLayoutEffect(()=>A(u,t,m.current,R),[u]),z.useMemo(()=>r.toString(),[r])),y=z.useMemo(()=>s.toString(),[s]),S=z.useMemo(()=>o.toString(),[o]),w=z.useMemo(()=>{return!!(u&&u.componentFromFramework&&q(u.componentClass))},[u]),b=u&&u.componentFromFramework,O=u&&u.componentClass;return Z.createElement("div",{ref:e,className:v,role:"gridcell",tabIndex:-1},Z.createElement("div",{ref:m,className:y,role:"presentation"},b&&w&&Z.createElement(O,Object.assign({},u.params)),b&&!w&&Z.createElement(O,Object.assign({},u.params,{ref:R}))),Z.createElement("div",{ref:h,"aria-hidden":i,className:S,role:"presentation"},Z.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),S=z.memo(e=>{const t=e["ctrl"],{topOffset:r,rowHeight:n}=z.useMemo(()=>t.getTopAndHeight(),[]);var e=t.getAriaRowIndex(),s=t.getHeaderRowClass();const a=z.useMemo(()=>t.getTransform(),[]),[o,l]=z.useState(()=>n+"px"),[i,c]=z.useState(()=>r+"px"),[u,p]=z.useState(()=>t.getHeaderCtrls()),d=z.useRef(null);var m=z.useCallback(e=>{(d.current=e)&&(e={setHeight:e=>l(e),setTop:e=>c(e),setHeaderCtrls:(t,r)=>p(e=>D(e,t,r)),setWidth:e=>{d.current&&(d.current.style.width=e)}},t.setComp(e,!1))},[]),h=z.useMemo(()=>({transform:a,height:o,top:i}),[a,o,i]),C=z.useCallback(e=>{switch(t.getType()){case X.HeaderRowType.COLUMN_GROUP:return Z.createElement(f,{ctrl:e,key:e.getInstanceId()});case X.HeaderRowType.FLOATING_FILTER:return Z.createElement(R,{ctrl:e,key:e.getInstanceId()});default:return Z.createElement(g,{ctrl:e,key:e.getInstanceId()})}},[]);return Z.createElement("div",{ref:m,className:s,role:"row",style:h,"aria-rowindex":e},u.map(C))}),m=z.memo(t=>{const[e,r]=z.useState(()=>new N),[n,s]=z.useState(!1),[a,o]=z.useState([]),l=z.useContext(J)["context"],i=z.useRef(null),c=z.useRef(null),u=z.useRef(null);var p="left"===t.pinned,d="right"===t.pinned,m=!p&&!d,h=z.useCallback(e=>{i.current=e,i.current?(e={setDisplayed:t=>{r(e=>e.setClass("ag-hidden",!t)),s(!t)},setCtrls:e=>o(e),setCenterWidth:e=>{c.current&&(c.current.style.width=e)},setViewportScrollLeft:e=>{i.current&&(i.current.scrollLeft=e)},setPinnedContainerWidth:e=>{i.current&&(i.current.style.width=e,i.current.style.minWidth=e,i.current.style.maxWidth=e)}},u.current=l.createBean(new X.HeaderRowContainerCtrl(t.pinned)),u.current.setComp(e,i.current)):(l.destroyBean(u.current),u.current=null)},[]),C=z.useMemo(()=>e.toString(),[e]),g=()=>a.map(e=>Z.createElement(S,{ctrl:e,key:e.getInstanceId()}));return Z.createElement(Z.Fragment,null,p&&Z.createElement("div",{ref:h,className:"ag-pinned-left-header "+C,"aria-hidden":n,role:"presentation"},g()),d&&Z.createElement("div",{ref:h,className:"ag-pinned-right-header "+C,"aria-hidden":n,role:"presentation"},g()),m&&Z.createElement("div",{ref:h,className:"ag-header-viewport "+C,role:"presentation"},Z.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},g())))}),re=z.memo(()=>{const[e,n]=z.useState(()=>new N),[t,r]=z.useState(),s=z.useContext(J)["context"],a=z.useRef(null),o=z.useRef(null);var l=z.useCallback(e=>{(a.current=e)?(e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)},o.current=s.createBean(new X.GridHeaderCtrl),o.current.setComp(e,a.current,a.current)):(s.destroyBean(o.current),o.current=null)},[]),i=z.useMemo(()=>{return"ag-header "+e.toString()},[e]),c=z.useMemo(()=>({height:t,minHeight:t}),[t]);return Z.createElement("div",{ref:l,className:i,style:c,role:"presentation"},Z.createElement(m,{pinned:"left"}),Z.createElement(m,{pinned:null}),Z.createElement(m,{pinned:"right"}))});const ee=(n,s)=>{z.useEffect(()=>{var e=s.current;if(e){const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}}},[n])};var te=z.memo(c=>{const[e,u]=z.useState(),{context:p,popupService:d,localeService:m,gridOptionsService:h}=z.useContext(J);{var t=()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=h.is("stopEditingWhenCellsLoseFocus");const a=p.createBean(new X.PopupEditorWrapper(n.params));var n=a.getGui(),o=(c.jsChildComp&&(o=c.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,position:e.popupPosition,keepWithinBounds:!0}),o=d.positionPopupByComponent.bind(d,o),l=m.getLocaleTextFunc(),s=d.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:l("ariaLabelCellEditor","Cell Editor")});const i=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=i&&i(),p.destroyBean(a)}};const r=z.useRef(t),n=z.useRef(),s=z.useRef(!1),a=z.useRef(!1),[,o]=z.useState(0);s.current&&(a.current=!0),z.useEffect(()=>(s.current||(n.current=r.current(),s.current=!0),o(e=>e+1),()=>{a.current&&n.current&&n.current()}),[])}return Z.createElement(Z.Fragment,null,e&&c.wrappedContent&&l.createPortal(c.wrappedContent,e.getGui()))});var _=z.memo(e=>{const s=z.useContext(J)["context"],{cellCtrl:u,printLayout:r,editingRow:n}=e,t=u.getIncludeSelection(),a=u.getIncludeRowDrag(),o=u.getIncludeDndSource();var e=u.getTabIndex(),l=u.getColumnIdSanitised();const p=u.getInstanceId(),[d,i]=z.useState(()=>u.getIsCellRenderer()?void 0:{compDetails:void 0,value:u.getValueToDisplay(),force:!1}),[m,c]=z.useState(),[h,_]=z.useState(1),[x,B]=z.useState(),[U,C]=z.useState(),g=z.useMemo(()=>u.isForceWrapper(),[u]),f=z.useRef(null),R=z.useRef(null),E=z.useRef(),v=z.useRef(),y=z.useRef(),S=z.useRef([]),w=z.useRef(),[L,j]=z.useState(0),H=z.useCallback(e=>{w.current=e,j(e=>e+1)},[]);var b=null!=d&&(t||o||a);const O=g||b,T=z.useCallback((e,t)=>{if(v.current=t){var r=t,n=u,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;X._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;X._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{u.stopEditing(!0),u.focusCell(!0)})}},[u]),W=z.useCallback(e=>T(!0,e),[T]),V=z.useCallback(e=>T(!1,e),[T]);let M=z.useRef();M.current||(M.current=new X.CssClassManager(()=>f.current));{var k=d,P=O,I=w.current,N=(b=L,E),K=f;const D=z.useContext(J)["context"],F=z.useCallback(()=>{var e,t=N.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),D.destroyBean(t),N.current=void 0)},[]);z.useEffect(()=>{var e=k&&k.compDetails&&!k.compDetails.componentFromFramework;if(null!=k&&e&&!(P&&null==I)){e=k.compDetails;if(N.current){const r=N.current;var t=null!=r.refresh&&0==k.force&&r.refresh(e.params);if(!0===t||void 0===t)return;F()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);r&&(e=r.getGui())&&((P?I:K.current).appendChild(e),N.current=r)}}else F()},[k,P,b]),z.useEffect(()=>F,[])}const A=z.useRef();z.useLayoutEffect(()=>{var e=A.current,t=d;A.current=d,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=R.current&&null!=R.current.refresh&&1!=R.current.refresh(t.params)&&_(e=>e+1)},[d]),z.useLayoutEffect(()=>{if(m&&!m.compDetails.componentFromFramework){var e=m.compDetails;const t=!0===m.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return T(t,r),t||(null!=(e=(g?y:f).current)&&e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),C(r),()=>{s.destroyBean(r),T(t,void 0),C(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[m]);var b=z.useCallback(e=>{y.current=e,y.current?(e=e=>{var t;if(e){const r=e.getGui();null!=(t=y.current)&&t.insertAdjacentElement("afterbegin",r),S.current.push(()=>{s.destroyBean(e),X._.removeFromParent(r)})}return e},t&&e(u.createSelectionCheckbox()),o&&e(u.createDndSource()),a&&e(u.createRowDragComp())):(S.current.forEach(e=>e()),S.current=[])},[u,s,o,a,t]),$=z.useCallback(e=>{var t;f.current=e,f.current&&u&&(e={addOrRemoveCssClass:(e,t)=>M.current.addOrRemoveCssClass(e,t),setUserStyles:e=>B(e),getFocusableElement:()=>f.current,getCellEditor:()=>v.current||null,getCellRenderer:()=>R.current||E.current,getParentOfValue:()=>w.current||y.current||f.current,setRenderDetails:(t,r,n)=>{i(e=>(null==e?void 0:e.compDetails)!==t||(null==e?void 0:e.value)!==r||(null==e?void 0:e.force)!==n?{value:r,compDetails:t,force:n}:e)},setEditDetails:(e,t,r)=>{e?(c({compDetails:e,popup:t,popupPosition:r}),t||i(void 0)):c(void 0)}},t=y.current||void 0,u.setComp(e,f.current,t,r,n))},[]);const Y=z.useMemo(()=>{return!!(d&&d.compDetails&&d.compDetails.componentFromFramework&&q(d.compDetails.componentClass))},[d]);z.useLayoutEffect(()=>{var e;f.current&&(M.current.addOrRemoveCssClass("ag-cell-value",!O),M.current.addOrRemoveCssClass("ag-cell-inline-editing",!!m&&!m.popup),M.current.addOrRemoveCssClass("ag-cell-popup-editing",!!m&&!!m.popup),M.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!m||!!m.popup),null!=(e=u.getRowCtrl())&&e.setInlineEditingCss(!!m),u.shouldRestoreFocus())&&!u.isEditing()&&f.current.focus({preventScroll:!0})});var G=()=>{return Z.createElement(Z.Fragment,null,null!=d&&((e,t,r,n,s,a,o)=>{const{compDetails:l,value:i}=e,c=!l,u=l&&l.componentFromFramework,p=l&&l.componentClass,d=null!=i&&i.toString?i.toString():i;e=()=>Z.createElement(Z.Fragment,null,c&&Z.createElement(Z.Fragment,null,d),u&&!a&&Z.createElement(p,Object.assign({},l.params,{key:t,ref:n})),u&&a&&Z.createElement(p,Object.assign({},l.params,{key:t})));return Z.createElement(Z.Fragment,null,s?Z.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(d,h,p,R,O,Y,H),null!=m&&(e=m,t=V,r=W,n=f.current,s=u,a=U,o=e.compDetails,l=o.componentClass,i=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,Z.createElement(Z.Fragment,null,i&&Z.createElement(l,Object.assign({},e.compDetails.params,{ref:t})),c&&Z.createElement(te,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:Z.createElement(l,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&Z.createElement(te,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,l,i,c};return Z.createElement("div",{ref:$,style:x,tabIndex:e,role:"gridcell","col-id":l},O?Z.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:b},G()):G())}),O=z.memo(e=>{const t=z.useContext(J)["context"],{rowCtrl:r,containerType:n}=e;e=r.getTabIndex();const s=z.useRef(r.getDomOrder());var a=r.isFullWidth();const[o,l]=z.useState(()=>r.getRowIndex()),[i,c]=z.useState(()=>r.getRowId()),[u,p]=z.useState(()=>r.getBusinessKey()),[d,m]=z.useState(()=>r.getRowStyles()),[h,C]=z.useState(()=>null),[g,f]=z.useState(),[R,E]=z.useState(()=>r.getInitialRowTop(n)),[v,y]=z.useState(()=>r.getInitialTransform(n)),S=z.useRef(null),w=z.useRef(),b=z.useRef(!1),[O,T]=z.useState(0);z.useEffect(()=>{var e;b.current||!g||10<O||((e=null==(e=S.current)?void 0:e.firstChild)?(r.setupDetailRowAutoHeight(e),b.current=!0):T(e=>e+1))},[g,O]);let M=z.useRef();M.current||(M.current=new X.CssClassManager(()=>S.current));var k=z.useCallback(e=>{S.current=e,r.isAlive()&&(S.current?(e={setTop:E,setTransform:y,addOrRemoveCssClass:(e,t)=>M.current.addOrRemoveCssClass(e,t),setDomOrder:e=>s.current=e,setRowIndex:l,setRowId:c,setRowBusinessKey:p,setUserStyles:m,setCellCtrls:(t,e)=>{G(e,()=>{C(e=>D(e,t,s.current))})},showFullWidth:e=>f(e),getFullWidthCellRenderer:()=>w.current},r.setComp(e,S.current,n)):r.unsetComp(n))},[]),P=(z.useLayoutEffect(()=>A(g,t,S.current,w),[g]),z.useMemo(()=>{var e={top:R,transform:v};return Object.assign(e,d),e},[R,v,d])),I=a&&g&&g.componentFromFramework,a=!a&&null!=h;const N=z.useMemo(()=>{return!!((null===g||void 0===g?void 0:g.componentFromFramework)&&q(g.componentClass))},[g]);return Z.createElement("div",{ref:k,role:"row",style:P,"row-index":o,"row-id":i,"row-business-key":u,tabIndex:e},a&&(null===h||void 0===h?void 0:h.map(e=>Z.createElement(_,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()}))),I&&(k=g.componentClass,Z.createElement(Z.Fragment,null,N&&Z.createElement(k,Object.assign({},g.params)),!N&&Z.createElement(k,Object.assign({},g.params,{ref:w})))))}),ne=z.memo(e=>{const t=z.useContext(J)["context"],n=e["name"],r=z.useMemo(()=>X.getRowContainerTypeForName(n),[n]),s=z.useRef(null),a=z.useRef(null),o=z.useRef(null),l=z.useRef([]),[i,c]=z.useState(()=>[]),u=z.useRef(!1),p=z.useRef(),d=z.useMemo(()=>X.RowContainerCtrl.getRowContainerCssClasses(n),[n]);var e=z.useMemo(()=>Q(d.wrapper),[d]),m=z.useMemo(()=>Q(d.viewport),[d]);const h=z.useMemo(()=>Q(d.container),[d]),C=n===X.RowContainerName.CENTER,g=n===X.RowContainerName.TOP_CENTER||n===X.RowContainerName.BOTTOM_CENTER||n===X.RowContainerName.STICKY_TOP_CENTER,f=!C&&!g;var R=C?s:g?a:o;ee(" AG Row Container "+n+" ",R);const E=z.useCallback(()=>C?null!=s.current&&null!=a.current&&null!=o.current:g?null!=a.current&&null!=o.current:f?null!=o.current:void 0,[]),v=z.useCallback(()=>C?null==s.current&&null==a.current&&null==o.current:g?null==a.current&&null==o.current:f?null==o.current:void 0,[]),y=z.useCallback(()=>{if(v()&&(t.destroyBean(p.current),p.current=null),E()){const r=e=>{G(e,()=>{c(e=>D(e,l.current,u.current))})};var e={setViewportHeight:e=>{a.current&&(a.current.style.height=e)},setRowCtrls:(e,t)=>{t=t&&0<l.current.length&&0<e.length;l.current=e,r(t)},setDomOrder:e=>{u.current!=e&&(u.current=e,r(!1))},setContainerWidth:e=>{o.current&&(o.current.style.width=e)}};p.current=t.createBean(new X.RowContainerCtrl(n)),p.current.setComp(e,o.current,a.current,s.current)}},[E,v]),S=z.useCallback(e=>{o.current=e,y()},[y]);var R=z.useCallback(e=>{a.current=e,y()},[y]),w=z.useCallback(e=>{s.current=e,y()},[y]),b=()=>Z.createElement("div",{className:h,ref:S,role:i.length?"rowgroup":"presentation"},i.map(e=>Z.createElement(O,{rowCtrl:e,containerType:r,key:e.getInstanceId()})));return Z.createElement(Z.Fragment,null,C&&Z.createElement("div",{className:e,ref:w,role:"presentation"},Z.createElement("div",{className:m,ref:R,role:"presentation"},b())),g&&Z.createElement("div",{className:m,ref:R,role:"presentation"},b()),f&&b())}),k=z.memo(()=>{const{context:r,agStackComponentsRegistry:n,resizeObserverService:s}=z.useContext(J),[e,a]=z.useState(""),[t,o]=z.useState(0),[l,i]=z.useState(0),[c,u]=z.useState("0px"),[p,d]=z.useState("0px"),[m,h]=z.useState("100%"),[C,g]=z.useState(""),[f,R]=z.useState(""),[E,v]=z.useState(null),[y,S]=z.useState(""),[w,b]=z.useState(null),[O,_]=z.useState("ag-layout-normal");let T=z.useRef();T.current||(T.current=new X.CssClassManager(()=>M.current));const M=z.useRef(null),k=z.useRef(null),P=z.useRef(null),I=z.useRef(null),N=z.useRef(null),A=z.useRef(null),G=z.useRef([]),D=z.useRef([]);ee(" AG Grid Body ",M),ee(" AG Pinned Top ",k),ee(" AG Sticky Top ",P),ee(" AG Middle ",N),ee(" AG Pinned Bottom ",A);var x=z.useCallback(e=>{var t;M.current=e,M.current?r&&(e=e=>{e=n.getComponentClass(e),e=r.createBean(new e);return G.current.push(e),e},(t=(e,t)=>{e.appendChild(t),D.current.push(()=>e.removeChild(t))})(M.current,document.createComment(" AG Fake Horizontal Scroll ")),t(M.current,e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),t(M.current,document.createComment(" AG Overlay Wrapper ")),t(M.current,e("AG-OVERLAY-WRAPPER").getGui()),I.current&&(t(I.current,document.createComment(" AG Fake Vertical Scroll ")),t(I.current,e("AG-FAKE-VERTICAL-SCROLL").getGui())),t={setRowAnimationCssOnBodyViewport:a,setColumnCount:e=>{M.current&&X._.setAriaColCount(M.current,e)},setRowCount:e=>{M.current&&X._.setAriaRowCount(M.current,e)},setTopHeight:o,setBottomHeight:i,setStickyTopHeight:u,setStickyTopTop:d,setStickyTopWidth:h,setTopDisplay:g,setBottomDisplay:R,setColumnMovingCss:(e,t)=>T.current.addOrRemoveCssClass(e,t),updateLayoutClasses:_,setAlwaysVerticalScrollClass:v,setPinnedTopBottomOverflowY:S,setCellSelectableCss:(e,t)=>b(t?e:null),setBodyViewportWidth:e=>{N.current&&(N.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(N.current){const t=s.observeResize(N.current,e);D.current.push(()=>t())}}},e=r.createBean(new X.GridBodyCtrl),G.current.push(e),e.setComp(t,M.current,N.current,k.current,A.current,P.current)):(r.destroyBeans(G.current),D.current.forEach(e=>e()),G.current=[],D.current=[])},[]),B=z.useMemo(()=>Q("ag-root","ag-unselectable",O),[O]),U=z.useMemo(()=>Q("ag-body-viewport",e,O,E,w),[e,O,E,w]),L=z.useMemo(()=>Q("ag-body",O),[O]),j=z.useMemo(()=>Q("ag-body-clipper",O),[O]),H=z.useMemo(()=>Q("ag-floating-top",w),[w]),W=z.useMemo(()=>Q("ag-sticky-top",w),[w]),V=z.useMemo(()=>Q("ag-floating-bottom",w),[w]),K=z.useMemo(()=>({height:t,minHeight:t,display:C,overflowY:y}),[t,C,y]),$=z.useMemo(()=>({height:c,top:p,width:m}),[c,p,m]),Y=z.useMemo(()=>({height:l,minHeight:l,display:f,overflowY:y}),[l,f,y]);const q=e=>Z.createElement(ne,{name:e,key:e+"-container"});var F=({section:e,children:t,className:r,style:n})=>Z.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(q));return Z.createElement("div",{ref:x,className:B,role:"treegrid"},Z.createElement(re,null),F({section:k,className:H,style:K,children:[X.RowContainerName.TOP_LEFT,X.RowContainerName.TOP_CENTER,X.RowContainerName.TOP_RIGHT,X.RowContainerName.TOP_FULL_WIDTH]}),Z.createElement("div",{className:L,ref:I,role:"presentation"},Z.createElement("div",{className:j,role:"presentation"},F({section:N,className:U,children:[X.RowContainerName.LEFT,X.RowContainerName.CENTER,X.RowContainerName.RIGHT,X.RowContainerName.FULL_WIDTH]}))),F({section:P,className:W,style:$,children:[X.RowContainerName.STICKY_TOP_LEFT,X.RowContainerName.STICKY_TOP_CENTER,X.RowContainerName.STICKY_TOP_RIGHT,X.RowContainerName.STICKY_TOP_FULL_WIDTH]}),F({section:A,className:V,style:Y,children:[X.RowContainerName.BOTTOM_LEFT,X.RowContainerName.BOTTOM_CENTER,X.RowContainerName.BOTTOM_RIGHT,X.RowContainerName.BOTTOM_FULL_WIDTH]}))}),h=z.forwardRef((e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:a}=e,o=z.useContext(J)["context"],l=z.useRef(null),i=z.useRef(null),c=z.useRef(),u=e=>{const r=null==e?void 0:parseInt(e,10).toString();[l,i].forEach(e=>{var t;void 0===r?null!=(t=e.current)&&t.removeAttribute("tabindex"):null!=(t=e.current)&&t.setAttribute("tabindex",r)})},p=(z.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){var e;null!=(e=c.current)&&e.forceFocusOutOfContainer()}})),z.useCallback(()=>{var e;l.current||i.current?l.current&&i.current&&(e={setTabIndex:u},c.current=o.createBean(new X.TabGuardCtrl({comp:e,eTopGuard:l.current,eBottomGuard:i.current,eFocusableElement:n,onTabKeyDown:s,focusInnerElement:e=>a.focusInnerElement(e)}))):(o.destroyBean(c.current),c.current=null)},[])),d=z.useCallback(e=>{l.current=e,p()},[p]),m=z.useCallback(e=>{i.current=e,p()},[p]);e=e=>{var t="top"===e?X.TabGuardClassNames.TAB_GUARD_TOP:X.TabGuardClassNames.TAB_GUARD_BOTTOM;return Z.createElement("div",{className:X.TabGuardClassNames.TAB_GUARD+" "+t,role:"presentation",ref:"top"===e?d:m})};return Z.createElement(Z.Fragment,null,e("top"),r,e("bottom"))}),P=z.memo(h),b=z.memo(({context:u})=>{const[e,r]=z.useState(""),[t,n]=z.useState(""),[s,a]=z.useState(""),[o,l]=z.useState(null),[i,c]=z.useState(null),[p,d]=z.useState(!1),[m,h]=z.useState(),C=z.useRef(null),g=z.useRef(null),f=z.useRef(),[R,E]=z.useState(null),v=z.useRef(()=>{});var y=z.useCallback(()=>{},[]);const S=z.useMemo(()=>u.isDestroyed()?null:u.getBean("beans"),[u]);ee(" AG Grid ",g);var w=z.useCallback(e=>{var t;g.current=e,g.current?u.isDestroyed()||(C.current=u.createBean(new X.GridCtrl),e=C.current,v.current=e.focusInnerElement.bind(e),t={destroyGridUi:()=>{},setRtlClass:r,addOrRemoveKeyboardFocusClass:e=>n(e?X.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{var e;null!=(e=f.current)&&e.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{var e=[],t=null==(t=g.current)?void 0:t.querySelector(".ag-root"),r=null==(r=g.current)?void 0:r.querySelector(".ag-side-bar:not(.ag-hidden)");return t&&e.push(t),r&&e.push(r),e},setCursor:l,setUserSelect:c},e.setComp(t,g.current,g.current),d(!0)):(u.destroyBean(C.current),C.current=null)},[]),b=(z.useEffect(()=>{if(m&&S&&C.current&&R&&g.current){var e=C.current;const i=[];var t=S["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const c=[];var o,l=g.current;return e.showDropZones()&&r&&(o=(r=u.createBean(new r)).getGui(),l.insertAdjacentElement("afterbegin",o),c.push(o),i.push(r)),e.showSideBar()&&n&&(r=(o=u.createBean(new n)).getGui(),(n=R.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),c.push(r)),i.push(o)),e.showStatusBar()&&s&&(r=(n=u.createBean(new s)).getGui(),l.insertAdjacentElement("beforeend",r),c.push(r),i.push(n)),t&&(s=(o=u.createBean(new t)).getGui(),l.insertAdjacentElement("beforeend",s),c.push(s),i.push(o)),e.showWatermark()&&a&&(n=(r=u.createBean(new a)).getGui(),l.insertAdjacentElement("beforeend",n),c.push(n),i.push(r)),()=>{u.destroyBeans(i),c.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[m,R,S]),z.useMemo(()=>Q("ag-root-wrapper",e,t,s),[e,t,s])),O=z.useMemo(()=>Q("ag-root-wrapper-body","ag-focus-managed",s),[s]),T=z.useMemo(()=>({userSelect:null!=i?i:"",WebkitUserSelect:null!=i?i:"",cursor:null!=o?o:""}),[i,o]),M=z.useCallback(e=>{f.current=e,h(null!==e)},[]);return Z.createElement("div",{ref:w,className:b,style:T,role:"presentation"},Z.createElement("div",{className:O,ref:E,role:"presentation"},p&&R&&S&&Z.createElement(J.Provider,{value:S},Z.createElement(P,{ref:M,eFocusableElement:R,onTabKeyDown:y,gridCtrl:C.current},Z.createElement(k,null)))))});const w=o=>{const l=z.useRef(null),t=z.useRef(null),r=z.useRef(null),n=z.useRef([]),s=z.useRef([]),e=z.useRef(o),a=z.useRef(!1),[i,c]=z.useState(void 0),u=z.useCallback(e=>{e.rowDataChangeDetectionStrategy&&X._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")},[]),[,p]=z.useState(0);var d=z.useCallback(e=>{t.current=e,t.current?(e=o.modules||[],r.current||(r.current=new C(()=>p(e=>e+1),o.componentWrappingElement,o.maxComponentCreationTimeMs),n.current.push(()=>{var e;null!=(e=r.current)&&e.destroy(),r.current=null})),e={providedBeanInstances:{frameworkComponentWrapper:new T(r.current)},modules:e,frameworkOverrides:new E(!0)},l.current=o.gridOptions||{},l.current=X.ComponentUtil.copyAttributesToGridOptions(l.current,o),u(o),(new X.GridCoreCreator).create(t.current,l.current,t=>{c(t),n.current.push(()=>{t.destroy()}),t.getBean(X.CtrlsService.NAME).whenReady(()=>{var e;t.isDestroyed()||l.current&&(e=l.current.api)&&o.setGridApi&&o.setGridApi(e,l.current.columnApi)})},e=>{e.getBean(X.CtrlsService.NAME).whenReady(()=>{s.current.forEach(e=>e()),s.current.length=0,a.current=!0})},e)):(n.current.forEach(e=>e()),n.current.length=0)},[]),m=z.useMemo(()=>Object.assign({height:"100%"},o.containerStyle||{}),[o.containerStyle]);const h=z.useCallback(e=>{a.current?e():s.current.push(e)},[]);return z.useEffect(()=>{const t={};{var r=e.current,n=o,s=t;const a=!!n.debug;Object.keys(n).forEach(e=>{X.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&r[e]!==n[e]&&(a&&console.log(` agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}),X.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}e.current=o,h(()=>{var e;null!=(e=l.current)&&e.api&&X.ComponentUtil.processOnChange(t,l.current.api)})},[o]),Z.createElement("div",{style:m,className:o.className,ref:d},i&&!i.isDestroyed()?Z.createElement(b,{context:i}):null,null!=(d=null==(m=r.current)?void 0:m.getPortals())?d:null)};class T extends X.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new c(e,this.parent,t)}}var M=z.forwardRef((r,e)=>{const{ctrlsFactory:n,context:s,gridOptionsService:a,resizeObserverService:o,clientSideRowModel:l,serverSideRowModel:i}=z.useContext(J),[t,c]=z.useState(()=>new N),[u,p]=z.useState(()=>new N),[d,m]=z.useState(),[h,C]=z.useState(),g=z.useRef(),f=z.useRef(null),R=z.useRef();var E=z.useMemo(()=>X.ModuleRegistry.__getGridRegisteredModules(r.api.getGridId()),[r]),v=z.useMemo(()=>t.toString()+" ag-details-row",[t]),y=z.useMemo(()=>u.toString()+" ag-details-grid",[u]),e=(e&&z.useImperativeHandle(e,()=>({refresh(){var e;return null!=(e=null==(e=g.current)?void 0:e.refresh())&&e}})),r.template&&X._.doOnce(()=>console.warn("AG Grid: detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/"),"React_detailCellRenderer.template"),z.useCallback(e=>{var t;f.current=e,f.current?(e={addOrRemoveCssClass:(t,r)=>c(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>p(e=>e.setClass(t,r)),setDetailGrid:e=>m(e),setRowData:e=>C(e),getGui:()=>f.current},(t=n.getInstance("detailCellRenderer"))&&(s.createBean(t),t.init(e,r),g.current=t,a.is("detailRowAutoHeight"))&&(e=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{r.node.setRowHeight(e),l?l.onRowHeightChanged():i&&i.onRowHeightChanged()},0)}},R.current=o.observeResize(f.current,e),e())):(s.destroyBean(g.current),R.current&&R.current())},[])),S=z.useCallback((e,t)=>{var r;null!=(r=g.current)&&r.registerDetailWithMaster(e,t)},[]);return Z.createElement("div",{className:v,ref:e},d&&Z.createElement(w,Object.assign({className:y},d,{modules:E,rowData:h,setGridApi:S})))});class E extends X.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:F,agGroupRowRenderer:F,agDetailCellRenderer:M},this.reactUi=e,this.renderingEngine=e?"react":"vanilla"}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){return!(!e||(e=e.prototype)&&"getGui"in e)}}class v extends z.Component{constructor(e){super(e),this.props=e,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new u(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return Z.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new I(this,this.portalManager)},modules:e,frameworkOverrides:new E(!1)},t=this.props.gridOptions||{};this.gridOptions=X.ComponentUtil.copyAttributesToGridOptions(t,this.props),this.checkForDeprecations(this.props),new X.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&X._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{X.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),X.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&X.ComponentUtil.processOnChange(r,this.api)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&X.ComponentUtil.processOnChange(e,this.api)})}}function y(e,t){e.forEach(e=>{v[e]=t})}v.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,v.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:v.MAX_COMPONENT_CREATION_TIME_IN_MS},v.propTypes={gridOptions:t.object},y(X.ComponentUtil.EVENT_CALLBACKS,t.func),y(X.ComponentUtil.BOOLEAN_PROPERTIES,t.bool),y(X.ComponentUtil.STRING_PROPERTIES,t.string),y(X.ComponentUtil.OBJECT_PROPERTIES,t.object),y(X.ComponentUtil.ARRAY_PROPERTIES,t.array),y(X.ComponentUtil.NUMBER_PROPERTIES,t.number),y(X.ComponentUtil.FUNCTION_PROPERTIES,t.func);class I extends X.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new i(e,this.agGridReact,this.portalManager,t):new c(e,this.portalManager,t)}}class x extends z.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){return this.props.suppressReactUi?Z.createElement(v,Object.assign({},this.props,{setGridApi:this.setGridApi})):Z.createElement(w,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}(h=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",h.DeepValueCheck="DeepValueCheck",h.NoCheck="NoCheck",e.AgGridReact=x,e.AgGridReactLegacy=v,e.AgGridReactFire=w,Object.defineProperty(e,"__esModule",{value:!0})});
