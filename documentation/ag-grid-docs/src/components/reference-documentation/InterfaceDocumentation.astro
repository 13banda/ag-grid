---
import { InterfaceDocumentation } from './ReferenceDocumentation';
import { getFrameworkFromPath } from '@features/docs/utils/urlPaths';
import { getJsonFile } from '@utils/pages';
import { getEntry } from 'astro:content';

const {
    interfaceName,
    overrideSrc,
    names,
    exclude,
    config,
    wrapNamesAt
} = Astro.props;

const framework = getFrameworkFromPath(Astro.url.pathname);

const overrideFileName = overrideSrc.replace('.json', '');
const { data: overrides } = await getEntry('interface-documentation', overrideFileName);
const interfaceLookup = getJsonFile('reference/interfaces.AUTO.json');
const codeLookup = getJsonFile('reference/doc-interfaces.AUTO.json');
// TODO: Remove?
const htmlLookup = getJsonFile('reference/doc-interfaces.HTML.json');
---

<InterfaceDocumentation client:load
    interfaceName={interfaceName}
    framework={framework}
    overrides={overrides}
    names={names}
    exclude={exclude}
    wrapNamesAt={wrapNamesAt}
    config={config}
    interfaceLookup={interfaceLookup}
    codeLookup={codeLookup}
    htmlLookup={htmlLookup} />